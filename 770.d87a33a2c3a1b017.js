"use strict";(globalThis.webpackChunksacs=globalThis.webpackChunksacs||[]).push([[770],{34770:(zt,w,c)=>{c.r(w),c.d(w,{ConfigurationModule:()=>q});var p=c(88692),l=c(20092),u=c(34942),d=c(56707),k=c(25215),$=c(82563),K=c(35540),h=c(7976),e=c(64537);class x{}x.\u0275fac=function(n){return new(n||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-configuration"]],decls:2,vars:0,template:function(n,t){1&n&&(e._uU(0,"\n"),e._UZ(1,"router-outlet"))},dependencies:[h.lC]});var U=c(80532),Z=c(37730),I=c(36198),H=c(34881),V=c(35732);class T extends I.m{constructor(n,t){super(n,t),this.apiURL="",this.apiURL=this.apiBaseUrl+"/config/",super.apiURL=this.apiBaseUrl+"/config/"}}T.\u0275fac=function(n){return new(n||T)(e.LFG(H.C),e.LFG(V.eN))},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"});var b=c(11208),P=c(56898);function G(i,n){1&i&&(e.ynx(0),e._uU(1,"\n    "),e.TgZ(2,"div",53),e._uU(3,"\n        "),e.TgZ(4,"div",54),e._uU(5,"\n            "),e.TgZ(6,"div",55),e._uU(7,"\n                "),e._UZ(8,"div"),e._uU(9,"\n                "),e._UZ(10,"div"),e._uU(11,"\n                "),e._UZ(12,"div"),e._uU(13,"\n                "),e._UZ(14,"div"),e._uU(15,"\n            "),e.qZA(),e._uU(16,"\n        "),e.qZA(),e._uU(17,"\n    "),e.qZA(),e._uU(18,"\n"),e.BQk())}function W(i,n){1&i&&(e.TgZ(0,"button",56),e._UZ(1,"i",57),e.TgZ(2,"span",58),e._uU(3,"LOAD.ADD_NEW"),e.qZA()())}function z(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                        "),e._UZ(2,"app-side-list",59),e._uU(3,"\n                    "),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("listType","list")("listData",t.listData)("selected",t.formData.id)("idField","id")("fieldName","company_name")("url","/configuration/company-master/")}}function j(i,n){1&i&&(e.ynx(0),e._uU(1,"\n                        "),e.TgZ(2,"div",60),e._uU(3,"\n                            "),e.TgZ(4,"div",54),e._uU(5,"\n                                "),e.TgZ(6,"div",55),e._uU(7,"\n                                    "),e._UZ(8,"div"),e._uU(9,"\n                                    "),e._UZ(10,"div"),e._uU(11,"\n                                    "),e._UZ(12,"div"),e._uU(13,"\n                                    "),e._UZ(14,"div"),e._uU(15,"\n                                "),e.qZA(),e._uU(16,"\n                            "),e.qZA(),e._uU(17,"\n                        "),e.qZA(),e._uU(18,"\n                    "),e.BQk())}const g=function(i){return{field:i}};function X(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.COMPANY_NAME")))}function ee(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                    "),e.YNc(2,X,3,5,"p",61),e._uU(3,"\n                                "),e.BQk()),2&i){e.oxw();const t=e.MAs(43);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required)}}function te(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.ADDRESS")))}function ne(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                    "),e.YNc(2,te,3,5,"p",61),e._uU(3,"\n                                "),e.BQk()),2&i){e.oxw();const t=e.MAs(62);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required)}}function ie(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.CITY")))}function re(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                    "),e.YNc(2,ie,3,5,"p",61),e._uU(3,"\n                                "),e.BQk()),2&i){e.oxw();const t=e.MAs(92);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required)}}function oe(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.STATE")))}function ae(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                    "),e.YNc(2,oe,3,5,"p",61),e._uU(3,"\n                                "),e.BQk()),2&i){const t=e.oxw(),r=e.MAs(111);e.xp6(2),e.Q6J("ngIf",(null==r||null==r.errors?null:r.errors.required)||0==t.formData.state)}}function se(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.PHONE")))}function le(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                    "),e.YNc(2,se,3,5,"p",61),e._uU(3,"\n                                "),e.BQk()),2&i){e.oxw();const t=e.MAs(132);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required)}}function _e(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.PINCODE")))}function ue(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.PATTERN_NOT_MATCH\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.PINCODE")))}function ce(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                    "),e.YNc(2,_e,3,5,"p",61),e._uU(3,"\n                                    "),e.YNc(4,ue,3,5,"p",61),e._uU(5,"\n                                "),e.BQk()),2&i){e.oxw();const t=e.MAs(164);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required),e.xp6(2),e.Q6J("ngIf",t.errors.pattern)}}function de(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.EMAIL")))}function ge(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.PATTERN_NOT_MATCH\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.EMAIL")))}function me(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                    "),e.YNc(2,de,3,5,"p",61),e._uU(3,"\n                                    "),e.YNc(4,ge,3,5,"p",61),e._uU(5,"\n                                "),e.BQk()),2&i){e.oxw();const t=e.MAs(184);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required),e.xp6(2),e.Q6J("ngIf",t.errors.pattern)}}function pe(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.WEBSITE")))}function he(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.PATTERN_NOT_MATCH\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.WEBSITE")))}function fe(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                    "),e.YNc(2,pe,3,5,"p",61),e._uU(3,"\n                                    "),e.YNc(4,he,3,5,"p",61),e._uU(5,"\n                                "),e.BQk()),2&i){e.oxw();const t=e.MAs(203);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required),e.xp6(2),e.Q6J("ngIf",t.errors.pattern)}}function Ue(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.PAN_NO")))}function Ze(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.MINLENGTH\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.PAN_NO")))}function Te(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                    "),e.YNc(2,Ue,3,5,"p",61),e._uU(3,"\n                                    "),e.YNc(4,Ze,3,5,"p",61),e._uU(5,"\n                                "),e.BQk()),2&i){e.oxw();const t=e.MAs(222);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required),e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.minlength)}}function Ae(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.GST_NO")))}function be(i,n){1&i&&(e.TgZ(0,"p",62),e.ALo(1,"translate"),e._uU(2,"\n                                        VALIDATION.MINLENGTH\n                                    "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,g,e.lcZ(1,1,"LOAD.GST_NO")))}function ve(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                    "),e.YNc(2,Ae,3,5,"p",61),e._uU(3,"\n                                    "),e.YNc(4,be,3,5,"p",61),e._uU(5,"\n                                "),e.BQk()),2&i){e.oxw();const t=e.MAs(242);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required),e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.minlength)}}function Me(i,n){1&i&&(e.TgZ(0,"button",63),e._uU(1,"LOAD.UPDATE"),e.qZA())}function Ce(i,n){1&i&&(e.TgZ(0,"button",63),e._uU(1,"LOAD.ADD"),e.qZA())}function ye(i,n){1&i&&(e.TgZ(0,"button",64),e._UZ(1,"m4-icon",65),e.qZA())}class v{constructor(n,t,r,o,a,s){this.utilityService=n,this._configurationService=t,this._generalService=r,this._route=o,this._notifyService=a,this._translateService=s,this.formData={},this.listData=[],this.stateList=[],this.pageKey="company",this.productTypeList=U.kv,this.mediumList=U.$z,this.inheritProductList={},this.loading={sidebar:!1,button:!1,page:!1},this.dateFormat=this.utilityService.datePickerFormat[2],this._notifyService.setup(this.utilityService.notifyConfig),this.initFormData(),this._route.params.subscribe(_=>{this.recordId=_.id,this.recordId&&this.getDetail()})}ngOnInit(){this.getList(),this.getStateList()}onDateChange(n,t){n&&n.detail&&n.detail.val&&(this.formData[t]=this.utilityService.convertDateToString(n.detail.val,this.dateFormat,!1))}getDetail(){this.loading.page=!0,this._configurationService.get(this.pageKey,this.recordId).subscribe({next:n=>{this.formData=n.item,n.list&&n.list.start_date&&(this.formData.start_date=this.utilityService.convertDateToString(new Date(n.list.start_date),this.dateFormat)),n.list&&n.list.end_date&&(this.formData.end_date=this.utilityService.convertDateToString(new Date(n.list.end_date),this.dateFormat)),this.loading.page=!1},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService),this.loading.page=!1}})}getStateList(){this._generalService.list("states").subscribe({next:n=>{this.stateList=n.list},error:n=>{}})}getList(){this.loading.sidebar=!0,this._configurationService.postList(this.pageKey,{}).subscribe({next:n=>{this.listData=n.list,this.loading.sidebar=!1},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService),this.loading.sidebar=!1}})}submitForm(n){n.valid&&(this.loading.button=!0,n.value.start_date&&(n.value.start_date=new Date(n.value.start_date+" 00:00:00").toISOString()),n.value.end_date&&(n.value.end_date=new Date(n.value.end_date+" 23:59:59").toISOString()),this.recordId?this._configurationService.update(this.pageKey,this.recordId,n.value).subscribe({next:t=>{this.getList(),this.loading.button=!1,this.utilityService.success(t.message,this._notifyService)},error:t=>{this.loading.button=!1;let r=this.utilityService.serverMessageHandler(t);this.utilityService.error(r,this._notifyService)}}):this._configurationService.add(this.pageKey,n.value).subscribe({next:t=>{this.getList(),this.loading.button=!1,this.utilityService.success(t.message,this._notifyService),n.submitted=!1,n.resetForm(),this.initFormData()},error:t=>{this.loading.button=!1;let r=this.utilityService.serverMessageHandler(t);this.utilityService.error(r,this._notifyService)}}))}initFormData(){this.formData={company_name:"",address_1:"",city:"",state:"",phone_number_1:"",phone_number_2:"",pin_code:"",email:"",website_url:"",pan_number:"",gst_number:""}}}v.\u0275fac=function(n){return new(n||v)(e.Y36(Z.t),e.Y36(T),e.Y36(I.m),e.Y36(h.gz),e.Y36(u.c),e.Y36(d.sK))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-company-master"]],decls:264,vars:36,consts:[[4,"ngIf"],[1,"card","m-0","w-100"],[1,"card-header","d-flex","align-items-center","justify-content-between","flex-wrap"],["translate","",1,"page-heading","my-0"],["type","button","routerLink","/configuration/company-master/","m4-button","","btn-style","primary","class","mr-0",4,"ngIf"],[1,"card-content","pt-0"],[1,"row"],[1,"cell-3"],[1,"custom-scroll","overflow-x-hidden","p-2"],[1,"cell-9",3,"ngSubmit"],["form","ngForm"],[1,"cell-4"],[1,"form-group"],["for","company_name","translate","",1,"mb-0","mr-4"],[1,"required"],["type","text","name","company_name","id","company_name","required","",3,"ngModel","ngModelChange"],["company_name","ngModel"],[1,"required-wrapper"],["for","address_1","translate","",1,"mb-0","mr-4"],["type","text","name","address_1","id","address_1","required","",3,"ngModel","ngModelChange"],["address_1","ngModel"],["for","address_2","translate","",1,"mb-0","mr-4"],["type","text","name","address_2","id","address_2",3,"ngModel","ngModelChange"],[1,"cell-2"],["for","city","translate","",1,"mb-0","mr-4"],["type","text","name","city","id","city","required","",3,"ngModel","ngModelChange"],["city","ngModel"],["for","state","translate","",1,"mb-0","mr-4"],["name","state","id","state","bindLabel","state_name","bindValue","id",3,"items","ngModel","virtualScroll","selectOnTab","clearable","ngModelChange"],["state","ngModel"],["for","phone_number_1","translate","",1,"mb-0","mr-4"],["type","text","name","phone_number_1","id","phone_number_1","required","",3,"ngModel","ngModelChange"],["phone_number_1","ngModel"],["for","phone_number_2","translate","",1,"mb-0","mr-4"],["type","text","name","phone_number_2","id","phone_number_2",3,"ngModel","ngModelChange"],["for","pin_code","translate","",1,"mb-0","mr-4"],["type","text","name","pin_code","id","pin_code","minlength","6","maxlength","6","required","",3,"ngModel","pattern","ngModelChange"],["pin_code","ngModel"],["for","email","translate","",1,"mb-0","mr-4"],["type","email","name","email","id","email","required","",3,"ngModel","pattern","ngModelChange"],["email","ngModel"],["for","website_url","translate","",1,"mb-0","mr-4"],["type","text","name","website_url","id","website_url","required","",3,"ngModel","pattern","ngModelChange"],["website_url","ngModel"],["for","pan_number","translate","",1,"mb-0","mr-4"],["type","text","name","pan_number","id","pan_number","minlength","10","maxlength","10","required","",3,"ngModel"],["pan_number","ngModel"],["for","gst_number","translate","",1,"mb-0","mr-4"],["type","text","name","gst_number","id","gst_number","minlength","15","maxlength","15","required","",3,"ngModel","ngModelChange"],["gst_number","ngModel"],[1,"cell-12","mx-auto","text-right","my-0","mt-5"],["type","submit","m4-button","","btn-style","primary","class","btn-lg","translate","",4,"ngIf"],["type","button","m4-button","","btn-style","primary","class","btn-lg ml-3",4,"ngIf"],[1,"main-loader"],[1,"loader-body"],[1,"loader-square"],["type","button","routerLink","/configuration/company-master/","m4-button","","btn-style","primary",1,"mr-0"],[1,"mr-2","mif-add"],["translate",""],[3,"listType","listData","selected","idField","fieldName","url"],[1,"d-flex","align-items-center","side-loader"],["translate","",3,"translateParams",4,"ngIf"],["translate","",3,"translateParams"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg"],["type","button","m4-button","","btn-style","primary",1,"btn-lg","ml-3"],["icon","spinner","m4-animation","spin"]],template:function(n,t){if(1&n){const r=e.EpF();e.YNc(0,G,19,0,"ng-container",0),e._uU(1,"\n"),e.TgZ(2,"div",1),e._uU(3,"\n    "),e.TgZ(4,"div",2),e._uU(5,"\n        "),e.TgZ(6,"h1",3),e._uU(7,"LOAD.COMPANIES"),e.qZA(),e._uU(8,"\n        "),e.YNc(9,W,4,0,"button",4),e._uU(10,"\n        "),e._UZ(11,"hr"),e._uU(12,"\n    "),e.qZA(),e._uU(13,"\n    "),e.TgZ(14,"div",5),e._uU(15,"\n        "),e.TgZ(16,"div",6),e._uU(17,"\n            "),e.TgZ(18,"div",7),e._uU(19,"\n                "),e.TgZ(20,"div",8),e._uU(21,"\n                    "),e.YNc(22,z,4,6,"ng-container",0),e._uU(23,"\n                    "),e.YNc(24,j,19,0,"ng-container",0),e._uU(25,"\n                "),e.qZA(),e._uU(26,"\n            "),e.qZA(),e._uU(27,"\n            "),e.TgZ(28,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(r);const a=e.MAs(29);return e.KtG(t.submitForm(a))}),e._uU(30,"\n                "),e.TgZ(31,"div",6),e._uU(32,"\n                    "),e.TgZ(33,"div",11),e._uU(34,"\n                        "),e.TgZ(35,"div",12),e._uU(36,"\n                            "),e.TgZ(37,"label",13),e._uU(38,"LOAD.COMPANY_NAME "),e.TgZ(39,"span",14),e._uU(40,"*"),e.qZA()(),e._uU(41,"\n                            "),e.TgZ(42,"input",15,16),e.NdJ("ngModelChange",function(a){return t.formData.company_name=a}),e.qZA(),e._uU(44,"\n                            "),e.TgZ(45,"div",17),e._uU(46,"\n                                "),e.YNc(47,ee,4,1,"ng-container",0),e._uU(48,"\n                            "),e.qZA(),e._uU(49,"\n                        "),e.qZA(),e._uU(50,"\n                    "),e.qZA(),e._uU(51,"\n                    "),e.TgZ(52,"div",11),e._uU(53,"\n                        "),e.TgZ(54,"div",12),e._uU(55,"\n                            "),e.TgZ(56,"label",18),e._uU(57,"LOAD.ADDRESS_1"),e.TgZ(58,"span",14),e._uU(59,"*"),e.qZA()(),e._uU(60,"\n                            "),e.TgZ(61,"input",19,20),e.NdJ("ngModelChange",function(a){return t.formData.address_1=a}),e.qZA(),e._uU(63,"\n                            "),e.TgZ(64,"div",17),e._uU(65,"\n                                "),e.YNc(66,ne,4,1,"ng-container",0),e._uU(67,"\n                            "),e.qZA(),e._uU(68,"\n                        "),e.qZA(),e._uU(69,"\n                    "),e.qZA(),e._uU(70,"\n                    "),e.TgZ(71,"div",11),e._uU(72,"\n                        "),e.TgZ(73,"div",12),e._uU(74,"\n                            "),e.TgZ(75,"label",21),e._uU(76,"LOAD.ADDRESS_2"),e.qZA(),e._uU(77,"\n                            "),e.TgZ(78,"input",22),e.NdJ("ngModelChange",function(a){return t.formData.address_2=a}),e.qZA(),e._uU(79,"\n                        "),e.qZA(),e._uU(80,"\n                    "),e.qZA(),e._uU(81,"\n                    "),e.TgZ(82,"div",23),e._uU(83,"\n                        "),e.TgZ(84,"div",12),e._uU(85,"\n                            "),e.TgZ(86,"label",24),e._uU(87,"LOAD.CITY "),e.TgZ(88,"span",14),e._uU(89,"*"),e.qZA()(),e._uU(90,"\n                            "),e.TgZ(91,"input",25,26),e.NdJ("ngModelChange",function(a){return t.formData.city=a}),e.qZA(),e._uU(93,"\n                            "),e.TgZ(94,"div",17),e._uU(95,"\n                                "),e.YNc(96,re,4,1,"ng-container",0),e._uU(97,"\n                            "),e.qZA(),e._uU(98,"\n                        "),e.qZA(),e._uU(99,"\n                    "),e.qZA(),e._uU(100,"\n                    "),e.TgZ(101,"div",23),e._uU(102,"\n                        "),e.TgZ(103,"div",12),e._uU(104,"\n                            "),e.TgZ(105,"label",27),e._uU(106,"LOAD.STATE "),e.TgZ(107,"span",14),e._uU(108,"*"),e.qZA()(),e._uU(109,"\n                            "),e.TgZ(110,"ng-select",28,29),e.NdJ("ngModelChange",function(a){return t.formData.state=a}),e.qZA(),e._uU(112,"\n                            "),e.TgZ(113,"div",17),e._uU(114,"\n                                "),e.YNc(115,ae,4,1,"ng-container",0),e._uU(116,"\n                            "),e.qZA(),e._uU(117,"\n                        "),e.qZA(),e._uU(118,"\n                    "),e.qZA(),e._uU(119,"\n                    "),e.TgZ(120,"div",23),e._uU(121,"\n                        "),e.TgZ(122,"div",12),e._uU(123,"\n                            "),e.TgZ(124,"label",30),e._uU(125,"LOAD.PHONE "),e.TgZ(126,"span"),e._uU(127,"1"),e.qZA(),e.TgZ(128,"span",14),e._uU(129,"*"),e.qZA()(),e._uU(130,"\n                            "),e.TgZ(131,"input",31,32),e.NdJ("ngModelChange",function(a){return t.formData.phone_number_1=a}),e.qZA(),e._uU(133,"\n                            "),e.TgZ(134,"div",17),e._uU(135,"\n                                "),e.YNc(136,le,4,1,"ng-container",0),e._uU(137,"\n                            "),e.qZA(),e._uU(138,"\n                        "),e.qZA(),e._uU(139,"\n                    "),e.qZA(),e._uU(140,"\n                    "),e.TgZ(141,"div",23),e._uU(142,"\n                        "),e.TgZ(143,"div",12),e._uU(144,"\n                            "),e.TgZ(145,"label",33),e._uU(146,"LOAD.PHONE "),e.TgZ(147,"span"),e._uU(148,"2"),e.qZA()(),e._uU(149,"\n                            "),e.TgZ(150,"input",34),e.NdJ("ngModelChange",function(a){return t.formData.phone_number_2=a}),e.qZA(),e._uU(151,"\n                        "),e.qZA(),e._uU(152,"\n                    "),e.qZA(),e._uU(153,"\n                    "),e.TgZ(154,"div",11),e._uU(155,"\n                        "),e.TgZ(156,"div",12),e._uU(157,"\n                            "),e.TgZ(158,"label",35),e._uU(159,"LOAD.PINCODE "),e.TgZ(160,"span",14),e._uU(161,"*"),e.qZA()(),e._uU(162,"\n                            "),e.TgZ(163,"input",36,37),e.NdJ("ngModelChange",function(a){return t.formData.pin_code=a}),e.qZA(),e._uU(165,"\n                            "),e.TgZ(166,"div",17),e._uU(167,"\n                                "),e.YNc(168,ce,6,2,"ng-container",0),e._uU(169,"\n                            "),e.qZA(),e._uU(170,"\n                        "),e.qZA(),e._uU(171,"\n                    "),e.qZA(),e._uU(172,"\n                    "),e._uU(173,"\n                    "),e.TgZ(174,"div",11),e._uU(175,"\n                        "),e.TgZ(176,"div",12),e._uU(177,"\n                            "),e.TgZ(178,"label",38),e._uU(179,"LOAD.EMAIL "),e.TgZ(180,"span",14),e._uU(181,"*"),e.qZA()(),e._uU(182,"\n                            "),e.TgZ(183,"input",39,40),e.NdJ("ngModelChange",function(a){return t.formData.email=a}),e.qZA(),e._uU(185,"\n                            "),e.TgZ(186,"div",17),e._uU(187,"\n                                "),e.YNc(188,me,6,2,"ng-container",0),e._uU(189,"\n                            "),e.qZA(),e._uU(190,"\n                        "),e.qZA(),e._uU(191,"\n                    "),e.qZA(),e._uU(192,"\n                    "),e.TgZ(193,"div",11),e._uU(194,"\n                        "),e.TgZ(195,"div",12),e._uU(196,"\n                            "),e.TgZ(197,"label",41),e._uU(198,"LOAD.WEBSITE "),e.TgZ(199,"span",14),e._uU(200,"*"),e.qZA()(),e._uU(201,"\n                            "),e.TgZ(202,"input",42,43),e.NdJ("ngModelChange",function(a){return t.formData.website_url=a}),e.qZA(),e._uU(204,"\n                            "),e.TgZ(205,"div",17),e._uU(206,"\n                                "),e.YNc(207,fe,6,2,"ng-container",0),e._uU(208,"\n                            "),e.qZA(),e._uU(209,"\n                        "),e.qZA(),e._uU(210,"\n                    "),e.qZA(),e._uU(211,"\n                    "),e.TgZ(212,"div",11),e._uU(213,"\n                        "),e.TgZ(214,"div",12),e._uU(215,"\n                            "),e.TgZ(216,"label",44),e._uU(217,"LOAD.PAN_NO "),e.TgZ(218,"span",14),e._uU(219,"*"),e.qZA()(),e._uU(220,"\n                            "),e._UZ(221,"input",45,46),e._uU(223,"\n                            "),e.TgZ(224,"div",17),e._uU(225,"\n                                "),e.YNc(226,Te,6,2,"ng-container",0),e._uU(227,"\n                            "),e.qZA(),e._uU(228,"\n                        "),e.qZA(),e._uU(229,"\n                    "),e.qZA(),e._uU(230,"\n                    "),e._uU(231,"\n                    "),e.TgZ(232,"div",11),e._uU(233,"\n                        "),e.TgZ(234,"div",12),e._uU(235,"\n                            "),e.TgZ(236,"label",47),e._uU(237,"LOAD.GST_NO "),e.TgZ(238,"span",14),e._uU(239,"*"),e.qZA()(),e._uU(240,"\n                            "),e.TgZ(241,"input",48,49),e.NdJ("ngModelChange",function(a){return t.formData.gst_number=a}),e.qZA(),e._uU(243,"\n                            "),e.TgZ(244,"div",17),e._uU(245,"\n                                "),e.YNc(246,ve,6,2,"ng-container",0),e._uU(247,"\n                            "),e.qZA(),e._uU(248,"\n                        "),e.qZA(),e._uU(249,"\n                    "),e.qZA(),e._uU(250,"\n                    \n                    "),e.TgZ(251,"div",50),e._uU(252,"\n                        "),e.YNc(253,Me,2,0,"button",51),e._uU(254,"\n                        "),e.YNc(255,Ce,2,0,"button",51),e._uU(256,"\n                        "),e.YNc(257,ye,2,0,"button",52),e._uU(258,"\n                    "),e.qZA(),e._uU(259,"\n                "),e.qZA(),e._uU(260,"\n            "),e.qZA(),e._uU(261,"\n        "),e.qZA(),e._uU(262,"\n    "),e.qZA(),e._uU(263,"\n"),e.qZA()}if(2&n){const r=e.MAs(29),o=e.MAs(43),a=e.MAs(62),s=e.MAs(92),_=e.MAs(111),m=e.MAs(132),f=e.MAs(164),N=e.MAs(184),Q=e.MAs(203),J=e.MAs(222),E=e.MAs(242);e.Q6J("ngIf",t.loading.page),e.xp6(9),e.Q6J("ngIf",t.recordId),e.xp6(13),e.Q6J("ngIf",!t.loading.sidebar&&t.listData),e.xp6(2),e.Q6J("ngIf",t.loading.sidebar),e.xp6(18),e.Q6J("ngModel",t.formData.company_name),e.xp6(5),e.Q6J("ngIf",(null==o?null:o.errors)&&(o.dirty||o.touched||r.submitted)),e.xp6(14),e.Q6J("ngModel",t.formData.address_1),e.xp6(5),e.Q6J("ngIf",(null==a?null:a.errors)&&(a.dirty||a.touched||r.submitted)),e.xp6(12),e.Q6J("ngModel",t.formData.address_2),e.xp6(13),e.Q6J("ngModel",t.formData.city),e.xp6(5),e.Q6J("ngIf",(null==s?null:s.errors)&&(s.dirty||s.touched||r.submitted)),e.xp6(14),e.Q6J("items",t.stateList)("ngModel",t.formData.state)("virtualScroll",!0)("selectOnTab",!0)("clearable",!1),e.xp6(5),e.Q6J("ngIf",((null==_?null:_.errors)||0==t.formData.state)&&(_.dirty||_.touched||r.submitted)),e.xp6(16),e.Q6J("ngModel",t.formData.phone_number_1),e.xp6(5),e.Q6J("ngIf",(null==m?null:m.errors)&&(m.dirty||m.touched||r.submitted)),e.xp6(14),e.Q6J("ngModel",t.formData.phone_number_2),e.xp6(13),e.Q6J("ngModel",t.formData.pin_code)("pattern",t.utilityService.regex.numeric),e.xp6(5),e.Q6J("ngIf",(null==f?null:f.errors)&&(f.dirty||f.touched||r.submitted)),e.xp6(15),e.Q6J("ngModel",t.formData.email)("pattern",t.utilityService.regex.email),e.xp6(5),e.Q6J("ngIf",(null==N?null:N.errors)&&(N.dirty||N.touched||r.submitted)),e.xp6(14),e.Q6J("ngModel",t.formData.website_url)("pattern",t.utilityService.regex.siteURL),e.xp6(5),e.Q6J("ngIf",(null==Q?null:Q.errors)&&(Q.dirty||Q.touched||r.submitted)),e.xp6(14),e.Q6J("ngModel",t.formData.pan_number),e.xp6(5),e.Q6J("ngIf",(null==J?null:J.errors)&&(J.dirty||J.touched||r.submitted)),e.xp6(15),e.Q6J("ngModel",t.formData.gst_number),e.xp6(5),e.Q6J("ngIf",(null==E?null:E.errors)&&(E.dirty||E.touched||r.submitted)),e.xp6(7),e.Q6J("ngIf",!t.loading.button&&t.recordId),e.xp6(2),e.Q6J("ngIf",!t.loading.button&&!t.recordId),e.xp6(2),e.Q6J("ngIf",t.loading.button)}},dependencies:[p.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.wO,l.nD,l.c5,l.On,l.F,b.w9,u.Hq,u.oJ,u.Vy,P.Z,d.Pi,h.rH,d.X$]});var De=c(8239),F=c(94590);function qe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",22),e._uU(1,"\n                        "),e.TgZ(2,"div",9),e._uU(3,"\n                            "),e.TgZ(4,"label",10),e._uU(5,"LOAD.PRINTER_NAME"),e.qZA(),e._uU(6,"\n                            "),e.TgZ(7,"ng-select",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.formData.printer_name=o)}),e.qZA(),e._uU(8,"\n                        "),e.qZA(),e._uU(9,"\n                    "),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("items",t.printerList)("ngModel",t.formData.printer_name)("selectOnTab",!0)("clearable",!1)}}class L{constructor(n,t,r,o){this.utilityService=n,this.electronService=t,this._generalService=r,this._notifyService=o,this.pageKey="print-setting",this.printList=[],this.printerList=[],this.formData={},this.printList=this.utilityService.convertObjTotArrWithNumValue(this.utilityService.printFormat)}ngOnInit(){this.formData={cash_booking:1,account_booking:1,manifax:1,drs:1,account_bill:1,packing_slip:1,quotation:1,document_return:1},this.getPrinters(),this.getPrintSetting()}getPrinters(){var n=this;return(0,De.Z)(function*(){n.electronService.isElectron&&(n.printerList=yield n.electronService.getPrinters())})()}getPrintSetting(){this._generalService.get(this.pageKey,null).subscribe({next:n=>{this.formData.cash_booking=n?.item?.cash_booking||1,this.formData.account_booking=n?.item?.account_booking||1,this.formData.manifax=n?.item?.manifax||1,this.formData.drs=n?.item?.drs||1,this.formData.account_bill=n?.item?.account_bill||1,this.formData.packing_slip=n?.item?.packing_slip||1,this.formData.quotation=n?.item?.quotation||1,this.formData.document_return=n?.item?.document_return||1,n?.item?.printer_name&&(this.formData.printer_name=n?.item?.printer_name)},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService)}})}onSubmit(n){n.valid&&this._generalService.add(this.pageKey,this.formData).subscribe({next:t=>{this.utilityService.success(t.message,this._notifyService)},error:t=>{let r=this.utilityService.serverMessageHandler(t);this.utilityService.error(r,this._notifyService)}})}}L.\u0275fac=function(n){return new(n||L)(e.Y36(Z.t),e.Y36(F.d),e.Y36(I.m),e.Y36(u.c))},L.\u0275cmp=e.Xpm({type:L,selectors:[["app-print-setting"]],decls:117,vars:33,consts:[[1,"row","mx-0","mt-10","print-setting","align-items-center"],[1,"cell-6","mx-auto"],[1,"card","form-box",3,"submit"],["form","ngForm"],["translate","",1,"card-header"],[1,"card-content","pt-0"],[1,"row"],["class","cell-12",4,"ngIf"],[1,"cell-6"],[1,"form-group","mb-2"],["translate","",1,"mb-1","d-inline-block"],["name","cash_booking","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","account_booking","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","manifax","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","drs","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","account_bill","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","packing_slip","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","quotation","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","document_return","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],[1,"row","mt-4"],[1,"cell-12","d-flex","justify-content-end"],["type","submit","btn-style","primary","translate","",1,"button","primary"],[1,"cell-12"],["name","printer_name","bindValue","name","bindLabel","displayName",3,"items","ngModel","selectOnTab","clearable","ngModelChange"]],template:function(n,t){if(1&n){const r=e.EpF();e.TgZ(0,"div",0),e._uU(1,"\n    "),e.TgZ(2,"div",1),e._uU(3,"\n        "),e.TgZ(4,"form",2,3),e.NdJ("submit",function(){e.CHM(r);const a=e.MAs(5);return e.KtG(t.onSubmit(a))}),e._uU(6,"\n            "),e.TgZ(7,"div",4),e._uU(8,"LOAD.PRINT_SETUP"),e.qZA(),e._uU(9,"\n            "),e.TgZ(10,"div",5),e._uU(11,"\n                "),e.TgZ(12,"div",6),e._uU(13,"\n                    "),e.YNc(14,qe,10,4,"div",7),e._uU(15,"\n                    "),e.TgZ(16,"div",8),e._uU(17,"\n                        "),e.TgZ(18,"div",9),e._uU(19,"\n                            "),e.TgZ(20,"label",10),e._uU(21,"LOAD.CASH_BOOKING_PRINT"),e.qZA(),e._uU(22,"\n                            "),e.TgZ(23,"ng-select",11),e.NdJ("ngModelChange",function(a){return t.formData.cash_booking=a}),e.qZA(),e._uU(24,"\n                        "),e.qZA(),e._uU(25,"\n                    "),e.qZA(),e._uU(26,"\n                    "),e.TgZ(27,"div",8),e._uU(28,"\n                        "),e.TgZ(29,"div",9),e._uU(30,"\n                            "),e.TgZ(31,"label",10),e._uU(32,"LOAD.PARTY_BOOKING_PRINT"),e.qZA(),e._uU(33,"\n                            "),e.TgZ(34,"ng-select",12),e.NdJ("ngModelChange",function(a){return t.formData.account_booking=a}),e.qZA(),e._uU(35,"\n                        "),e.qZA(),e._uU(36,"\n                    "),e.qZA(),e._uU(37,"\n                    "),e.TgZ(38,"div",8),e._uU(39,"\n                        "),e.TgZ(40,"div",9),e._uU(41,"\n                            "),e.TgZ(42,"label",10),e._uU(43,"LOAD.MANIFAX_PRINT"),e.qZA(),e._uU(44,"\n                            "),e.TgZ(45,"ng-select",13),e.NdJ("ngModelChange",function(a){return t.formData.manifax=a}),e.qZA(),e._uU(46,"\n                        "),e.qZA(),e._uU(47,"\n                    "),e.qZA(),e._uU(48,"\n                    "),e.TgZ(49,"div",8),e._uU(50,"\n                        "),e.TgZ(51,"div",9),e._uU(52,"\n                            "),e.TgZ(53,"label",10),e._uU(54,"LOAD.DRS_PRINT"),e.qZA(),e._uU(55,"\n                            "),e.TgZ(56,"ng-select",14),e.NdJ("ngModelChange",function(a){return t.formData.drs=a}),e.qZA(),e._uU(57,"\n                        "),e.qZA(),e._uU(58,"\n                    "),e.qZA(),e._uU(59,"\n                    "),e.TgZ(60,"div",8),e._uU(61,"\n                        "),e.TgZ(62,"div",9),e._uU(63,"\n                            "),e.TgZ(64,"label",10),e._uU(65,"LOAD.PARTY_BILL_PRINT"),e.qZA(),e._uU(66,"\n                            "),e.TgZ(67,"ng-select",15),e.NdJ("ngModelChange",function(a){return t.formData.account_bill=a}),e.qZA(),e._uU(68,"\n                        "),e.qZA(),e._uU(69,"\n                    "),e.qZA(),e._uU(70,"\n                    "),e.TgZ(71,"div",8),e._uU(72,"\n                        "),e.TgZ(73,"div",9),e._uU(74,"\n                            "),e.TgZ(75,"label",10),e._uU(76,"LOAD.PACKING_SLIP"),e.qZA(),e._uU(77,"\n                            "),e.TgZ(78,"ng-select",16),e.NdJ("ngModelChange",function(a){return t.formData.packing_slip=a}),e.qZA(),e._uU(79,"\n                        "),e.qZA(),e._uU(80,"\n                    "),e.qZA(),e._uU(81,"\n                    "),e.TgZ(82,"div",8),e._uU(83,"\n                        "),e.TgZ(84,"div",9),e._uU(85,"\n                            "),e.TgZ(86,"label",10),e._uU(87,"LOAD.QUOTATION"),e.qZA(),e._uU(88,"\n                            "),e.TgZ(89,"ng-select",17),e.NdJ("ngModelChange",function(a){return t.formData.quotation=a}),e.qZA(),e._uU(90,"\n                        "),e.qZA(),e._uU(91,"\n                    "),e.qZA(),e._uU(92,"\n                    "),e.TgZ(93,"div",8),e._uU(94,"\n                        "),e.TgZ(95,"div",9),e._uU(96,"\n                            "),e.TgZ(97,"label",10),e._uU(98,"LOAD.DOCUMENT_RETURN_SLIP"),e.qZA(),e._uU(99,"\n                            "),e.TgZ(100,"ng-select",18),e.NdJ("ngModelChange",function(a){return t.formData.document_return=a}),e.qZA(),e._uU(101,"\n                        "),e.qZA(),e._uU(102,"\n                    "),e.qZA(),e._uU(103,"\n                "),e.qZA(),e._uU(104,"\n                "),e.TgZ(105,"div",19),e._uU(106,"\n                    "),e.TgZ(107,"div",20),e._uU(108,"\n                        "),e.TgZ(109,"button",21),e._uU(110,"LOAD.SAVE"),e.qZA(),e._uU(111,"\n                    "),e.qZA(),e._uU(112,"\n                "),e.qZA(),e._uU(113,"\n            "),e.qZA(),e._uU(114,"\n        "),e.qZA(),e._uU(115,"\n    "),e.qZA(),e._uU(116,"\n"),e.qZA()}2&n&&(e.xp6(14),e.Q6J("ngIf",t.electronService.isElectron),e.xp6(9),e.Q6J("items",t.printList)("ngModel",t.formData.cash_booking)("selectOnTab",!0)("clearable",!1),e.xp6(11),e.Q6J("items",t.printList)("ngModel",t.formData.account_booking)("selectOnTab",!0)("clearable",!1),e.xp6(11),e.Q6J("items",t.printList)("ngModel",t.formData.manifax)("selectOnTab",!0)("clearable",!1),e.xp6(11),e.Q6J("items",t.printList)("ngModel",t.formData.drs)("selectOnTab",!0)("clearable",!1),e.xp6(11),e.Q6J("items",t.printList)("ngModel",t.formData.account_bill)("selectOnTab",!0)("clearable",!1),e.xp6(11),e.Q6J("items",t.printList)("ngModel",t.formData.packing_slip)("selectOnTab",!0)("clearable",!1),e.xp6(11),e.Q6J("items",t.printList)("ngModel",t.formData.quotation)("selectOnTab",!0)("clearable",!1),e.xp6(11),e.Q6J("items",t.printList)("ngModel",t.formData.document_return)("selectOnTab",!0)("clearable",!1))},dependencies:[p.O5,l._Y,l.JJ,l.JL,l.On,l.F,b.w9,d.Pi],styles:[".print-setting[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:auto;padding:10px 25px;line-height:1.5}"]});var Y=c(33963);function xe(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                            "),e._UZ(2,"app-side-list",30),e._uU(3,"\n                        "),e.BQk()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("listType","list")("listData",t.listData)("selected",t.formData.id)("idField","id")("fieldName","name")("url","/configuration/permissions/")}}function Le(i,n){1&i&&(e.ynx(0),e._uU(1,"\n                            "),e.TgZ(2,"div",31),e._uU(3,"\n                                "),e.TgZ(4,"div",32),e._uU(5,"\n                                    "),e.TgZ(6,"div",33),e._uU(7,"\n                                        "),e._UZ(8,"div"),e._uU(9,"\n                                        "),e._UZ(10,"div"),e._uU(11,"\n                                        "),e._UZ(12,"div"),e._uU(13,"\n                                        "),e._UZ(14,"div"),e._uU(15,"\n                                    "),e.qZA(),e._uU(16,"\n                                "),e.qZA(),e._uU(17,"\n                            "),e.qZA(),e._uU(18,"\n                        "),e.BQk())}function Se(i,n){if(1&i&&(e.TgZ(0,"div",29),e._uU(1,"\n                        "),e.YNc(2,xe,4,6,"ng-container",18),e._uU(3,"\n                        "),e.YNc(4,Le,19,0,"ng-container",18),e._uU(5,"\n                    "),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.loading.sidebar),e.xp6(2),e.Q6J("ngIf",t.loading.sidebar)}}const Oe=function(i){return{field:i}};function Ie(i,n){1&i&&(e.TgZ(0,"p",35),e.ALo(1,"translate"),e._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,Oe,e.lcZ(1,1,"FORM.LABEL.ROLE_NAME")))}function Pe(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                        "),e.YNc(2,Ie,3,5,"p",34),e._uU(3,"\n                                    "),e.BQk()),2&i){e.oxw();const t=e.MAs(41);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required)}}function Ne(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",38),e._uU(1,"\n                                                "),e.TgZ(2,"label",21),e._uU(3,"\n                                                    "),e.TgZ(4,"input",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.changePermission(a.value))}),e.qZA(),e._uU(5,"\n                                                    "),e._UZ(6,"span",23),e._uU(7,"\n                                                    "),e.TgZ(8,"span",24),e._uU(9),e.qZA(),e._uU(10,"\n                                                "),e.qZA(),e._uU(11,"\n                                            "),e.qZA()}if(2&i){const t=n.$implicit,r=e.oxw(2);e.xp6(4),e.Q6J("checked",r.formData.permissions.indexOf(t.value)>-1)("name",t.name)("id",t.name),e.xp6(5),e.Oqu(t.label)}}function Qe(i,n){if(1&i&&(e.TgZ(0,"tr"),e._uU(1,"\n                                        "),e.TgZ(2,"th",36),e._uU(3),e.qZA(),e._uU(4,"\n                                        "),e.TgZ(5,"td"),e._uU(6,"\n                                            "),e.YNc(7,Ne,12,4,"div",37),e._uU(8,"\n                                        "),e.qZA(),e._uU(9,"\n                                    "),e.qZA()),2&i){const t=n.$implicit;e.xp6(3),e.Oqu(t.title),e.xp6(4),e.Q6J("ngForOf",t.permissions)}}function Je(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),a=e.MAs(27);return e.KtG(o.submitForm(a))}),e._uU(1,"LOAD.UPDATE"),e.qZA()}}function Ee(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),a=e.MAs(27);return e.KtG(o.submitForm(a))}),e._uU(1,"LOAD.CREATE"),e.qZA()}}function we(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                    "),e.YNc(2,Je,2,0,"button",40),e._uU(3,"\n                    "),e._uU(4,"\n                    "),e.YNc(5,Ee,2,0,"button",41),e._uU(6,"\n                "),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.recordId),e.xp6(3),e.Q6J("ngIf",!t.recordId)}}function ke(i,n){1&i&&(e.ynx(0),e._uU(1,"\n                    "),e.TgZ(2,"button",44),e._UZ(3,"m4-icon",45),e.qZA(),e._uU(4,"\n                "),e.BQk())}const Fe=function(){return["/configuration/permissions"]};class M{constructor(n,t,r,o,a,s){this.utilityService=n,this._superMasterService=t,this._route=r,this._notifyService=o,this._translateService=a,this._dialogService=s,this.permissionData=[],this.formData={},this.listData=[],this.pageKey="permissions",this.loading={sidebar:!1,button:!1,page:!1},this.dateFormat=this.utilityService.datePickerFormat[2],this._notifyService.setup(this.utilityService.notifyConfig),this.initFormData(),this._route.params.subscribe(_=>{this.recordId=_.id,this.recordId&&this.getDetail()})}ngOnInit(){this.initPermissions(),this.getList()}getDetail(){this.loading.page=!0,this._superMasterService.get(this.pageKey,this.recordId).subscribe({next:n=>{this.formData=n.item,this.loading.page=!1},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService),this.loading.page=!1}})}getList(){this.loading.sidebar=!0,this._superMasterService.postList(this.pageKey,{is_admin:!0}).subscribe({next:n=>{this.listData=n.list,this.loading.sidebar=!1},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService),this.loading.sidebar=!1}})}submitForm(n){n.submitted=!0,n.valid&&(this.loading.button=!0,this.recordId?this._superMasterService.update(this.pageKey,this.recordId,this.formData).subscribe({next:t=>{this.getList(),this.utilityService.success(t.message,this._notifyService),this.loading.button=!1},error:t=>{let r=this.utilityService.serverMessageHandler(t);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}):this._superMasterService.add(this.pageKey,this.formData).subscribe({next:t=>{this.loading.button=!1,this.utilityService.success(t.message,this._notifyService),this.getList(),n.submitted=!1,n.resetForm(),setTimeout(()=>{this.initFormData()},0)},error:t=>{let r=this.utilityService.serverMessageHandler(t);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}))}initFormData(){this.formData={name:"",is_admin:!0,permissions:[]}}initPermissions(){this.permissionData=this.utilityService.permissionList.filter(n=>n.type.includes(U.GD.ADM))}changePermission(n){const t=this.formData.permissions.indexOf(n);t>-1?this.formData.permissions.splice(t,1):this.formData.permissions.push(n)}selectAllPermission(){const n=[];this.permissionData.forEach(t=>{t.permissions.forEach(r=>{n.push(r.value)})}),this.formData.permissions=n}deSelectAllPermission(){this.formData.permissions=[]}changedSelectAll(n){n?.target?.checked?this.selectAllPermission():this.deSelectAllPermission()}}M.\u0275fac=function(n){return new(n||M)(e.Y36(Z.t),e.Y36(Y.a),e.Y36(h.gz),e.Y36(u.c),e.Y36(d.sK),e.Y36(u.xA))},M.\u0275cmp=e.Xpm({type:M,selectors:[["app-user-permissions"]],decls:89,vars:8,consts:[[1,"card","m-0","w-100"],[1,"card-header","d-flex","align-items-center","justify-content-between","flex-wrap","pb-0","pt-3"],["translate","",1,"page-heading","my-0"],["type","button","m4-button","","btn-style","primary",1,"mr-0",3,"routerLink"],[1,"mr-2","mif-add"],["translate",""],[1,"card-content","pt-0"],[1,"row"],[1,"cell-3"],["class","custom-scroll overflow-x-hidden p-2",4,"ngIf"],[1,"cell-9"],["form","ngForm"],[1,"form-group"],["for","role_name","translate",""],[1,"required"],["type","text","name","role_name","id","role_name","placeholder","Enter Role Name","required","",3,"ngModel","ngModelChange"],["roleName","ngModel"],[1,"required-wrapper"],[4,"ngIf"],[1,"cell-12"],[1,"d-flex","align-items-right"],[1,"checkbox","transition-on","mr-2"],["type","checkbox","value","1",3,"change"],[1,"check"],["translate","",1,"caption"],[1,"table"],[4,"ngFor","ngForOf"],[1,"sticky-buttons","py-5"],[1,"cell-12","text-right","px-0"],[1,"custom-scroll","overflow-x-hidden","p-2"],[3,"listType","listData","selected","idField","fieldName","url"],[1,"d-flex","align-items-center","side-loader"],[1,"loader-body"],[1,"loader-square"],["translate","",3,"translateParams",4,"ngIf"],["translate","",3,"translateParams"],["translate","",1,"text-left"],["class","",4,"ngFor","ngForOf"],[1,""],["type","checkbox",3,"checked","name","id","click"],["type","submit","m4-button","","btn-style","primary","class","btn-lg mr-1","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","class","btn-lg","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg","mr-1",3,"click"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg",3,"click"],["type","button","m4-button","","btn-style","primary",1,"btn-lg","ml-3"],["icon","spinner","m4-animation","spin"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0),e._uU(1,"\n    "),e.TgZ(2,"div",1),e._uU(3,"\n        "),e.TgZ(4,"h1",2),e._uU(5,"FORM.HEADER.ADMIN_PERMISSIONS_MANAGEMENT"),e.qZA(),e._uU(6,"\n        "),e.TgZ(7,"button",3),e._UZ(8,"i",4),e.TgZ(9,"span",5),e._uU(10,"LOAD.ADD_NEW"),e.qZA()(),e._uU(11,"\n        "),e._UZ(12,"hr"),e._uU(13,"\n    "),e.qZA(),e._uU(14,"\n    "),e.TgZ(15,"form"),e._uU(16,"\n        "),e.TgZ(17,"div",6),e._uU(18,"\n            "),e.TgZ(19,"div",7),e._uU(20,"\n                "),e.TgZ(21,"div",8),e._uU(22,"\n                    "),e.YNc(23,Se,6,2,"div",9),e._uU(24,"\n                "),e.qZA(),e._uU(25,"\n                "),e.TgZ(26,"form",10,11),e._uU(28,"\n\n                    "),e.TgZ(29,"div",7),e._uU(30,"\n                        "),e.TgZ(31,"div",8),e._uU(32,"\n                            "),e.TgZ(33,"div",12),e._uU(34,"\n                                "),e.TgZ(35,"label",13),e._uU(36,"FORM.LABEL.ROLE_NAME "),e.TgZ(37,"span",14),e._uU(38,"*"),e.qZA()(),e._uU(39,"\n                                "),e.TgZ(40,"input",15,16),e.NdJ("ngModelChange",function(o){return t.formData.name=o}),e.qZA(),e._uU(42,"\n                                "),e.TgZ(43,"div",17),e._uU(44,"\n                                    "),e.YNc(45,Pe,4,1,"ng-container",18),e._uU(46,"\n                                "),e.qZA(),e._uU(47,"\n                            "),e.qZA(),e._uU(48,"\n                        "),e.qZA(),e._uU(49,"\n                        "),e.TgZ(50,"div",19),e._uU(51,"\n                            "),e.TgZ(52,"div",20),e._uU(53,"\n                                "),e.TgZ(54,"label",21),e._uU(55,"\n                                    "),e.TgZ(56,"input",22),e.NdJ("change",function(o){return t.changedSelectAll(o)}),e.qZA(),e._uU(57,"\n                                    "),e._UZ(58,"span",23),e._uU(59,"\n                                    "),e.TgZ(60,"span",24),e._uU(61,"LOAD.SELECT_ALL"),e.qZA(),e._uU(62,"\n                                "),e.qZA(),e._uU(63,"\n                            "),e.qZA(),e._uU(64,"\n                            "),e.TgZ(65,"table",25),e._uU(66,"\n                                "),e.TgZ(67,"tbody"),e._uU(68,"\n                                    "),e.YNc(69,Qe,10,2,"tr",26),e._uU(70,"\n                                "),e.qZA(),e._uU(71,"\n                            "),e.qZA(),e._uU(72,"\n                        "),e.qZA(),e._uU(73,"\n                    "),e.qZA(),e._uU(74,"\n                "),e.qZA(),e._uU(75,"\n            "),e.qZA(),e._uU(76,"\n        "),e.qZA(),e._uU(77,"\n        "),e.TgZ(78,"div",27),e._uU(79,"\n            "),e.TgZ(80,"div",28),e._uU(81,"\n                "),e.YNc(82,we,7,2,"ng-container",18),e._uU(83,"\n                "),e.YNc(84,ke,5,0,"ng-container",18),e._uU(85,"\n            "),e.qZA(),e._uU(86,"\n        "),e.qZA(),e._uU(87,"\n    "),e.qZA(),e._uU(88,"\n"),e.qZA()),2&n){const r=e.MAs(27),o=e.MAs(41);e.xp6(7),e.Q6J("routerLink",e.DdM(7,Fe)),e.xp6(16),e.Q6J("ngIf",t.listData),e.xp6(17),e.Q6J("ngModel",t.formData.name),e.xp6(5),e.Q6J("ngIf",(null==o?null:o.errors)&&(o.dirty||o.touched||r.submitted)),e.xp6(24),e.Q6J("ngForOf",t.permissionData),e.xp6(13),e.Q6J("ngIf",!t.loading.button),e.xp6(2),e.Q6J("ngIf",t.loading.button)}},dependencies:[p.sg,p.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.On,l.F,u.Hq,u.oJ,u.Vy,P.Z,d.Pi,h.rH,d.X$],styles:["table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;vertical-align:top;font-size:12px!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:1px solid #ddd}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:1px solid #ddd}table[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:12px!important;line-height:1.5;white-space:nowrap}.goods-type[_ngcontent-%COMP%]{padding-bottom:0!important}.goods-type[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]});var R=c(59212),B=c(20434),Ye=c(42965);function Re(i,n){1&i&&(e.ynx(0),e._uU(1,"\n    "),e.TgZ(2,"div",42),e._uU(3,"\n        "),e.TgZ(4,"div",43),e._uU(5,"\n            "),e.TgZ(6,"div",44),e._uU(7,"\n                "),e._UZ(8,"div"),e._uU(9,"\n                "),e._UZ(10,"div"),e._uU(11,"\n                "),e._UZ(12,"div"),e._uU(13,"\n                "),e._UZ(14,"div"),e._uU(15,"\n            "),e.qZA(),e._uU(16,"\n        "),e.qZA(),e._uU(17,"\n    "),e.qZA(),e._uU(18,"\n"),e.BQk())}function Be(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                            "),e._UZ(2,"app-side-list",46),e._uU(3,"\n                        "),e.BQk()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("listType","list")("listData",t.listData)("selected",t.formData.id)("idField","user_id")("fieldName","full_name")("url","/configuration/user-management/")}}function $e(i,n){1&i&&(e.ynx(0),e._uU(1,"\n                            "),e.TgZ(2,"div",47),e._uU(3,"\n                                "),e.TgZ(4,"div",43),e._uU(5,"\n                                    "),e.TgZ(6,"div",44),e._uU(7,"\n                                        "),e._UZ(8,"div"),e._uU(9,"\n                                        "),e._UZ(10,"div"),e._uU(11,"\n                                        "),e._UZ(12,"div"),e._uU(13,"\n                                        "),e._UZ(14,"div"),e._uU(15,"\n                                    "),e.qZA(),e._uU(16,"\n                                "),e.qZA(),e._uU(17,"\n                            "),e.qZA(),e._uU(18,"\n                        "),e.BQk())}function Ke(i,n){if(1&i&&(e.TgZ(0,"div",45),e._uU(1,"\n                        "),e.YNc(2,Be,4,6,"ng-container",0),e._uU(3,"\n                        "),e.YNc(4,$e,19,0,"ng-container",0),e._uU(5,"\n                    "),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.loading.sidebar),e.xp6(2),e.Q6J("ngIf",t.loading.sidebar)}}const A=function(i){return{field:i}};function He(i,n){1&i&&(e.TgZ(0,"p",49),e.ALo(1,"translate"),e._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,A,e.lcZ(1,1,"FORM.LABEL.FULL_NAME")))}function Ve(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                        "),e.YNc(2,He,3,5,"p",48),e._uU(3,"\n                                    "),e.BQk()),2&i){e.oxw();const t=e.MAs(43);e.xp6(2),e.Q6J("ngIf",t.errors.required)}}function Ge(i,n){1&i&&(e.TgZ(0,"p",49),e.ALo(1,"translate"),e._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,A,e.lcZ(1,1,"FORM.LABEL.USERNAME")))}function We(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                        "),e.YNc(2,Ge,3,5,"p",48),e._uU(3,"\n                                    "),e.BQk()),2&i){e.oxw();const t=e.MAs(62);e.xp6(2),e.Q6J("ngIf",t.errors.required)}}function ze(i,n){1&i&&(e.TgZ(0,"p",49),e.ALo(1,"translate"),e._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,A,e.lcZ(1,1,"FORM.LABEL.PASSWORD")))}function je(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                        "),e.YNc(2,ze,3,5,"p",48),e._uU(3,"\n                                    "),e.BQk()),2&i){e.oxw();const t=e.MAs(10);e.xp6(2),e.Q6J("ngIf",t.errors.required)}}function Xe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",13),e._uU(1,"\n                            "),e.TgZ(2,"div",14),e._uU(3,"\n                                "),e.TgZ(4,"label",50),e._uU(5,"FORM.LABEL.PASSWORD"),e.TgZ(6,"span",16),e._uU(7,"*"),e.qZA()(),e._uU(8,"\n                                "),e.TgZ(9,"input",51,52),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.formData.password=o)}),e.qZA(),e._uU(11,"\n                                "),e.TgZ(12,"div",19),e._uU(13,"\n                                    "),e.YNc(14,je,4,1,"ng-container",0),e._uU(15,"\n                                "),e.qZA(),e._uU(16,"\n                            "),e.qZA(),e._uU(17,"\n                        "),e.qZA()}if(2&i){const t=e.MAs(10),r=e.oxw(),o=e.MAs(29);e.xp6(9),e.Q6J("ngModel",r.formData.password),e.xp6(5),e.Q6J("ngIf",t.errors&&(t.dirty||t.touched||o.submitted))}}function et(i,n){1&i&&(e.TgZ(0,"p",49),e.ALo(1,"translate"),e._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,A,e.lcZ(1,1,"FORM.LABEL.PERMISSION")))}function tt(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                        "),e.YNc(2,et,3,5,"p",48),e._uU(3,"\n                                    "),e.BQk()),2&i){e.oxw();const t=e.MAs(86);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required)}}function nt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",53),e._uU(1,"\n                            "),e.TgZ(2,"label",54),e._uU(3,"\n                                "),e.TgZ(4,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.isResetPassword=o)}),e.qZA(),e._uU(5,"\n                                "),e._UZ(6,"span",56),e._uU(7,"\n                                "),e.TgZ(8,"span",57),e._uU(9,"LOAD.RESET_PASSWORD"),e.qZA(),e._uU(10,"\n                            "),e.qZA(),e._uU(11,"\n                        "),e.qZA()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.isResetPassword)}}function it(i,n){1&i&&(e.TgZ(0,"p",49),e.ALo(1,"translate"),e._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,A,e.lcZ(1,1,"LOAD.SELECT_ZONE")))}function rt(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                        "),e.YNc(2,it,3,5,"p",48),e._uU(3,"\n                                    "),e.BQk()),2&i){e.oxw();const t=e.MAs(124);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required)}}function ot(i,n){1&i&&(e.TgZ(0,"p",49),e.ALo(1,"translate"),e._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,A,e.lcZ(1,1,"LOAD.SELECT_HUB")))}function at(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                        "),e.YNc(2,ot,3,5,"p",48),e._uU(3,"\n                                    "),e.BQk()),2&i){e.oxw();const t=e.MAs(143);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required)}}function st(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",13),e._uU(1,"\n                            "),e.TgZ(2,"div",14),e._uU(3,"\n                                "),e.TgZ(4,"label",34),e._uU(5,"LOAD.BILLING_POINT"),e.qZA(),e._uU(6,"\n                                "),e.TgZ(7,"ng-select",58,59),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.formData.billing_point=o)}),e.qZA(),e._uU(9,"\n                            "),e.qZA(),e._uU(10,"\n                        "),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("items",t.billingPointList)("ngModel",t.formData.billing_point)("selectOnTab",!0)("clearable",!1)("hideSelected",!0)("multiple",!0)}}function lt(i,n){if(1&i&&(e.TgZ(0,"ng-option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.center_id),e.xp6(1),e.hij("\n                                    ",t.center_name,"")}}function _t(i,n){if(1&i&&(e.TgZ(0,"ng-option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.center_id),e.xp6(1),e.hij("\n                                    ",t.center_name,"")}}function ut(i,n){1&i&&(e.TgZ(0,"p",49),e.ALo(1,"translate"),e._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,A,e.lcZ(1,1,"LOAD.DEFAULT_CENTER")))}function ct(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                        "),e.YNc(2,ut,3,5,"p",48),e._uU(3,"\n                                    "),e.BQk()),2&i){e.oxw();const t=e.MAs(167);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required)}}function dt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",9),e._uU(1,"\n                                "),e.TgZ(2,"label",67),e._uU(3,"\n                                    "),e.TgZ(4,"input",68),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().$implicit,_=e.oxw(2);return e.KtG(_.checkedChanged(s,a))}),e.qZA(),e._uU(5,"\n                                    "),e._UZ(6,"span",56),e._uU(7,"\n                                    "),e.TgZ(8,"span",65),e._uU(9),e.qZA(),e._uU(10,"\n                                "),e.qZA(),e._uU(11,"\n                            "),e.qZA()}if(2&i){const t=n.$implicit,r=e.oxw(3);e.xp6(4),e.Q6J("name",t.center_id)("checked",r.formData.branch_id.includes(t.center_id)),e.xp6(5),e.Oqu(t.center_name)}}function gt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",8),e._uU(1,"\n                            "),e.TgZ(2,"div",62),e._uU(3,"\n                                "),e.TgZ(4,"label",63),e._uU(5,"\n                                    "),e.TgZ(6,"input",64),e.NdJ("click",function(o){const s=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.checkAll(o,s))}),e.qZA(),e._uU(7,"\n                                    "),e._UZ(8,"span",56),e._uU(9,"\n                                    "),e.TgZ(10,"span",57),e._uU(11,"LOAD.SELECT_ALL"),e.qZA(),e._uU(12,"\n                                    "),e.TgZ(13,"span",65),e._uU(14),e.qZA(),e._uU(15,"\n                                "),e.qZA(),e._uU(16,"\n                                "),e._UZ(17,"hr"),e._uU(18,"\n                            "),e.qZA(),e._uU(19,"\n                            "),e.YNc(20,dt,12,3,"div",66),e._uU(21,"\n                        "),e.qZA()}if(2&i){const t=n.$implicit,r=n.index;e.xp6(4),e.MGl("for","hub_id",r,""),e.xp6(2),e.MGl("id","hub_id",r,"")("name","hub_id",r,""),e.Q6J("checked",t.isActive),e.xp6(8),e.hij(" (",t.hub_name,")"),e.xp6(6),e.Q6J("ngForOf",t.centers)}}function mt(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                        "),e.YNc(2,gt,22,6,"div",61),e._uU(3,"\n                    "),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.centerList)}}function pt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),a=e.MAs(29);return e.KtG(o.submitForm(a))}),e._uU(1,"LOAD.UPDATE"),e.qZA()}}function ht(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),a=e.MAs(29);return e.KtG(o.submitForm(a))}),e._uU(1,"LOAD.CREATE"),e.qZA()}}function ft(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                    "),e.YNc(2,pt,2,0,"button",69),e._uU(3,"\n                    "),e._uU(4,"\n                    "),e.YNc(5,ht,2,0,"button",70),e._uU(6,"\n                "),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.recordId),e.xp6(3),e.Q6J("ngIf",!t.recordId)}}function Ut(i,n){1&i&&(e.ynx(0),e._uU(1,"\n                    "),e.TgZ(2,"button",73),e._UZ(3,"m4-icon",74),e.qZA(),e._uU(4,"\n                "),e.BQk())}const Zt=function(){return["/configuration/user-management"]};class C{constructor(n,t,r,o,a,s,_){this.utilityService=n,this._configurationService=t,this._masterService=r,this._route=o,this._notifyService=a,this._localStorageService=s,this._translateService=_,this.pageKey="user-master",this.formData={default_center_id:null},this.listData=[],this.zoneList=[],this.hubList=[],this.hubListArr=[],this.centerList=[],this.centerListArr=[],this.permissionList=[],this.billingPointList=[],this.defaultCenterList=[],this.isResetPassword=!1,this.enableBillingPoint=!1,this.loading={sidebar:!1,button:!1,page:!1},this.userData=JSON.parse(this._localStorageService.getLocalStorageItem(this.utilityService.localStrorage.userDetails)),this.dateFormat=this.utilityService.datePickerFormat[2],this._notifyService.setup(this.utilityService.notifyConfig),this.initFormData(),this._route.params.subscribe(m=>{this.recordId=m.id,this.recordId&&(this.formData.id=m.id,this.getDetail())})}ngOnInit(){this.getPermissionList(),this.getBillingPointList(),this.dropdownList(),this.getList()}initFormData(){this.formData={zone_id:[],hub_id:[],branch_id:[],billing_point:[],center_id:this.userData?.center_id,full_name:"",user_name:"",password:"",permission_id:null,default_center_id:null,is_active:!0}}dropdownList(){this.getZoneList(),this.getHubList(!1),this.getCenterList()}getZoneList(){this._masterService.getZones({is_exclude_local:!0}).subscribe({next:n=>{this.zoneList=n.list},error:n=>{}})}zoneChanged(){this.getHubList(!0)}getHubList(n){if(this.formData.zone_id.length>0){let t=this.formData.hub_id;n&&(this.formData.hub_id=[]),this._masterService.post("centers/zone-hub-list",{zone_ids:this.formData.zone_id}).subscribe({next:r=>{this.hubList=r.list;let o=[];for(let a=0;a<r.list.length;a++){const s=r.list[a];t.includes(s.center_id)&&!this.formData.hub_id.includes(s.center_id)&&o.push(s.center_id)}this.formData.hub_id=[...o,...this.formData.hub_id],this.hubChanged()},error:r=>{}})}}hubChanged(){if(this.formData.hub_id.length<this.centerList.length)for(let n=0;n<this.centerList.length;n++){const t=this.centerList[n];if(0==this.formData.hub_id.filter(r=>r.center_id==t.hub_id).length){this.removedCentersFromIds(!1);break}}setTimeout(()=>{this.hubListArr=this.hubList.filter(n=>this.formData.hub_id.includes(n.center_id))},100),this.getCenterList()}getCenterList(){this.formData.hub_id.length>0&&this._masterService.post("centers/hub-center-list",{hub_ids:this.formData.hub_id}).subscribe({next:n=>{this.centerListArr=[],this.centerList=n.list,this.centerList.forEach(t=>{t.isActive=0==t.centers.filter(r=>!this.formData.branch_id.includes(r.center_id)).length,this.centerListArr.push(...t.centers),console.log("this.centerListArr ==> ",this.centerListArr)}),this.recordId&&this.createDefaultCenterList(this.formData.branch_id)},error:n=>{}})}getBillingPointList(){this._masterService.post("billing-points/dropdown-list",{}).subscribe({next:n=>{this.billingPointList=n.list},error:n=>{}})}getPermissionList(){this._masterService.getDropdowns("permissions",{is_admin:!0}).subscribe({next:n=>{this.permissionList=n.list},error:n=>{}})}getList(){this.loading.sidebar=!0,this._masterService.postList(this.pageKey,{center_id:this.userData?.center_id}).subscribe({next:n=>{this.listData=n.list,this.loading.sidebar=!1},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService),this.loading.sidebar=!1}})}getDetail(){this.loading.page=!0,this._masterService.get(this.pageKey,this.recordId).subscribe({next:n=>{this.formData={...this.formData,...n.item},this.formData.default_center_id=n.item.default_center_id?n.item.default_center_id:null,this.isResetPassword=!1,this.dropdownList(),setTimeout(()=>{this.onChangePermission()},100),this.loading.page=!1},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService),this.loading.page=!1}})}submitForm(n){n.submitted=!0,n.valid&&(this.loading.button=!0,this.recordId?this._masterService.update(this.pageKey,this.recordId,this.formData).subscribe({next:t=>{this.getList(),this.utilityService.success(t.message,this._notifyService),this.isResetPassword=!1,this.loading.button=!1},error:t=>{let r=this.utilityService.serverMessageHandler(t);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}):this._masterService.add(this.pageKey,this.formData).subscribe({next:t=>{this.loading.button=!1,this.utilityService.success(t.message,this._notifyService),this.getList(),n.submitted=!1,n.resetForm(),setTimeout(()=>{this.initFormData()},0)},error:t=>{let r=this.utilityService.serverMessageHandler(t);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}))}checkAll(n,t){if(n.target.checked){const r=t.centers.map(o=>o.center_id).filter(o=>!this.formData.branch_id.includes(o));this.formData.branch_id=this.formData.branch_id.concat(r),setTimeout(()=>{this.defaultCenterList=[],this.defaultCenterList=this.centerListArr.filter(o=>this.formData.branch_id.includes(o.center_id))},200)}else this.removedCentersFromIds(t),setTimeout(()=>{this.defaultCenterList=[],this.defaultCenterList=this.centerListArr.filter(r=>this.formData.branch_id.includes(r.center_id))},200)}checkedChanged(n,t){const r=this.formData.branch_id.indexOf(t.center_id);let o=!0;r>-1?(o=!1,n.isActive=!1,this.formData.branch_id.splice(r,1)):(o=!0,this.formData.branch_id.push(t.center_id),n.isActive=0==n.centers.filter(s=>!this.formData.branch_id.includes(s.center_id)).length);const a=this.defaultCenterList.filter(s=>s.center_id==t.center_id);if(o){if(a.length<=0){let s=this.centerListArr.filter(_=>_.center_id==t.center_id);s.length>0&&this.defaultCenterList.push(s[0])}}else a.length>0&&(this.formData.default_center_id=this.formData.default_center_id==t.center_id?null:this.formData.default_center_id,this.defaultCenterList=this.defaultCenterList.filter(s=>s.center_id!=t.center_id))}removedCentersFromIds(n){n?n.centers.forEach(t=>{const r=this.formData.branch_id.indexOf(t.center_id);r>-1&&this.formData.branch_id.splice(r,1)}):this.centerList.length>0&&this.formData.hub_id.length>0&&this.centerList.forEach(t=>{this.formData.hub_id.includes(t.hub_id)||t.centers.forEach(r=>{const o=this.formData.branch_id.indexOf(r.center_id);o>-1&&this.formData.branch_id.splice(o,1)})})}onChangePermission(){this.formData.permission_id&&(this.enableBillingPoint=this.permissionList.filter(t=>t.id==this.formData.permission_id&&t.permissions.indexOf("hubReverseMenifest.createInvoice")>=0).length>0)}createDefaultCenterList(n){console.log("center_ids ===> ",this.centerListArr),n.length>0&&(this.defaultCenterList=this.centerListArr.filter(t=>n.includes(t.center_id)))}}function Tt(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                            "),e._UZ(2,"app-side-list",30),e._uU(3,"\n                        "),e.BQk()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("listType","list")("listData",t.listData)("selected",t.formData.id)("idField","id")("fieldName","name")("url","/configuration/bm-permissions/")}}function At(i,n){1&i&&(e.ynx(0),e._uU(1,"\n                            "),e.TgZ(2,"div",31),e._uU(3,"\n                                "),e.TgZ(4,"div",32),e._uU(5,"\n                                    "),e.TgZ(6,"div",33),e._uU(7,"\n                                        "),e._UZ(8,"div"),e._uU(9,"\n                                        "),e._UZ(10,"div"),e._uU(11,"\n                                        "),e._UZ(12,"div"),e._uU(13,"\n                                        "),e._UZ(14,"div"),e._uU(15,"\n                                    "),e.qZA(),e._uU(16,"\n                                "),e.qZA(),e._uU(17,"\n                            "),e.qZA(),e._uU(18,"\n                        "),e.BQk())}function bt(i,n){if(1&i&&(e.TgZ(0,"div",29),e._uU(1,"\n                        "),e.YNc(2,Tt,4,6,"ng-container",18),e._uU(3,"\n                        "),e.YNc(4,At,19,0,"ng-container",18),e._uU(5,"\n                    "),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.loading.sidebar),e.xp6(2),e.Q6J("ngIf",t.loading.sidebar)}}C.\u0275fac=function(n){return new(n||C)(e.Y36(Z.t),e.Y36(T),e.Y36(R.m),e.Y36(h.gz),e.Y36(u.c),e.Y36(B.n),e.Y36(d.sK))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-user-management"]],decls:201,vars:49,consts:[[4,"ngIf"],[1,"card","m-0","w-100"],[1,"card-header","d-flex","align-items-center","justify-content-between","flex-wrap","pb-0","pt-3"],["translate","",1,"page-heading","my-0"],["type","button","m4-button","","btn-style","primary",1,"mr-0",3,"routerLink"],[1,"mr-2","mif-add"],["translate",""],[1,"card-content","pt-0"],[1,"row"],[1,"cell-3"],["class","custom-scroll overflow-x-hidden p-2",4,"ngIf"],[1,"cell-9"],["form","ngForm"],[1,"cell-4"],[1,"form-group"],["for","full_name","translate","",1,"mb-0","mr-4"],[1,"required"],["type","text","name","full_name","id","full_name","placeholder","Enter Full Name","required","",3,"ngModel","ngModelChange"],["fullName","ngModel"],[1,"required-wrapper"],["for","username","translate","",1,"mb-0","mr-4"],["type","text","name","username","id","username","placeholder","Enter Username","required","",3,"ngModel","ngModelChange"],["username","ngModel"],["class","cell-4",4,"ngIf"],["for","permissionId","translate","",1,"mb-0","mr-4"],["name","permissionId","bindLabel","name","bindValue","id","required","",3,"items","ngModel","selectOnTab","clearable","ngModelChange","change"],["permissionId","ngModel"],["for","is_active","translate","",1,"d-block","mb-0"],["type","radio","data-role","radio","data-style","2","data-caption","Active","name","is_active",1,"mr-1",3,"value","ngModel","ngModelChange"],["type","radio","data-role","radio","data-style","2","data-caption","Inactive","name","is_active",1,"mr-1",3,"value","ngModel","ngModelChange"],["class","cell-4 my-5",4,"ngIf"],["for","zone_id","translate",""],["name","zone_id","bindLabel","zone_name","bindValue","id","required","",3,"items","ngModel","selectOnTab","clearable","multiple","hideSelected","ngModelChange","change"],["zoneId","ngModel"],["for","hub_id","translate",""],["name","hub_id","bindLabel","center_name","bindValue","center_id","required","",3,"items","ngModel","selectOnTab","clearable","hideSelected","multiple","ngModelChange","change"],["hubId","ngModel"],["name","default_center_id","required","",3,"ngModel","selectOnTab","clearable","ngModelChange"],["defaultCenterId","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"sticky-buttons","py-5"],[1,"cell-12","text-right","px-0"],[1,"main-loader"],[1,"loader-body"],[1,"loader-square"],[1,"custom-scroll","overflow-x-hidden","p-2"],[3,"listType","listData","selected","idField","fieldName","url"],[1,"d-flex","align-items-center","side-loader"],["translate","",3,"translateParams",4,"ngIf"],["translate","",3,"translateParams"],["for","password","translate","",1,"mb-0","mr-4"],["type","password","name","password","id","password","placeholder","Enter Password","required","",3,"ngModel","ngModelChange"],["password","ngModel"],[1,"cell-4","my-5"],["for","resetPass",1,"checkbox","transition-on","mr-2"],["type","checkbox","data-role","checkbox","data-caption","Checkbox","name","resetPass","id","resetPass","data-role-checkbox","true",3,"ngModel","ngModelChange"],[1,"check"],["translate","",1,"caption"],["name","billing_point","bindLabel","billing_point_name","bindValue","id",3,"items","ngModel","selectOnTab","clearable","hideSelected","multiple","ngModelChange"],["billingPoint","ngModel"],[3,"value"],["class","row",4,"ngFor","ngForOf"],[1,"cell-12"],[1,"checkbox","transition-on","mr-2",3,"for"],["type","checkbox","data-role","checkbox","data-caption","Checkbox","data-role-checkbox","true",3,"id","name","checked","click"],[1,"caption"],["class","cell-3",4,"ngFor","ngForOf"],[1,"checkbox","transition-on","mr-2"],["type","checkbox","data-role","checkbox","data-caption","Checkbox","data-role-checkbox","true",3,"name","checked","click"],["type","submit","m4-button","","btn-style","primary","class","btn-lg mr-1","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","class","btn-lg","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg","mr-1",3,"click"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg",3,"click"],["type","button","m4-button","","btn-style","primary",1,"btn-lg","ml-3"],["icon","spinner","m4-animation","spin"]],template:function(n,t){if(1&n&&(e.YNc(0,Re,19,0,"ng-container",0),e._uU(1,"\n"),e.TgZ(2,"div",1),e._uU(3,"\n    "),e.TgZ(4,"div",2),e._uU(5,"\n        "),e.TgZ(6,"h1",3),e._uU(7,"LOAD.USER_MANAGEMENT"),e.qZA(),e._uU(8,"\n        "),e.TgZ(9,"button",4),e._UZ(10,"i",5),e.TgZ(11,"span",6),e._uU(12,"LOAD.ADD_NEW"),e.qZA()(),e._uU(13,"\n        "),e._UZ(14,"hr"),e._uU(15,"\n    "),e.qZA(),e._uU(16,"\n    "),e.TgZ(17,"form"),e._uU(18,"\n        "),e.TgZ(19,"div",7),e._uU(20,"\n            "),e.TgZ(21,"div",8),e._uU(22,"\n                "),e.TgZ(23,"div",9),e._uU(24,"\n                    "),e.YNc(25,Ke,6,2,"div",10),e._uU(26,"\n                "),e.qZA(),e._uU(27,"\n                "),e.TgZ(28,"form",11,12),e._uU(30,"\n                    "),e.TgZ(31,"div",8),e._uU(32,"\n                        "),e.TgZ(33,"div",13),e._uU(34,"\n                            "),e.TgZ(35,"div",14),e._uU(36,"\n                                "),e.TgZ(37,"label",15),e._uU(38,"FORM.LABEL.FULL_NAME"),e.TgZ(39,"span",16),e._uU(40,"*"),e.qZA()(),e._uU(41,"\n                                "),e.TgZ(42,"input",17,18),e.NdJ("ngModelChange",function(o){return t.formData.full_name=o}),e.qZA(),e._uU(44,"\n                                "),e.TgZ(45,"div",19),e._uU(46,"\n                                    "),e.YNc(47,Ve,4,1,"ng-container",0),e._uU(48,"\n                                "),e.qZA(),e._uU(49,"\n                            "),e.qZA(),e._uU(50,"\n                        "),e.qZA(),e._uU(51,"\n                        "),e.TgZ(52,"div",13),e._uU(53,"\n                            "),e.TgZ(54,"div",14),e._uU(55,"\n                                "),e.TgZ(56,"label",20),e._uU(57,"FORM.LABEL.USERNAME"),e.TgZ(58,"span",16),e._uU(59,"*"),e.qZA()(),e._uU(60,"\n                                "),e.TgZ(61,"input",21,22),e.NdJ("ngModelChange",function(o){return t.formData.user_name=o}),e.qZA(),e._uU(63,"\n                                "),e.TgZ(64,"div",19),e._uU(65,"\n                                    "),e.YNc(66,We,4,1,"ng-container",0),e._uU(67,"\n                                "),e.qZA(),e._uU(68,"\n                            "),e.qZA(),e._uU(69,"\n                        "),e.qZA(),e._uU(70,"\n                        "),e.YNc(71,Xe,18,2,"div",23),e._uU(72,"\n                    "),e.qZA(),e._uU(73,"\n                    "),e.TgZ(74,"div",8),e._uU(75,"\n                        "),e.TgZ(76,"div",13),e._uU(77,"\n                            "),e.TgZ(78,"div",14),e._uU(79,"\n                                "),e.TgZ(80,"label",24),e._uU(81,"FORM.LABEL.PERMISSION "),e.TgZ(82,"span",16),e._uU(83,"*"),e.qZA()(),e._uU(84,"\n                                "),e.TgZ(85,"ng-select",25,26),e.NdJ("ngModelChange",function(o){return t.formData.permission_id=o})("change",function(){return t.onChangePermission()}),e._uU(87,"\n                                "),e.qZA(),e._uU(88,"\n                                "),e.TgZ(89,"div",19),e._uU(90,"\n                                    "),e.YNc(91,tt,4,1,"ng-container",0),e._uU(92,"\n                                "),e.qZA(),e._uU(93,"\n                            "),e.qZA(),e._uU(94,"\n                        "),e.qZA(),e._uU(95,"\n                        "),e.TgZ(96,"div",13),e._uU(97,"\n                            "),e.TgZ(98,"div",14),e._uU(99,"\n                                "),e.TgZ(100,"label",27),e._uU(101,"FORM.LABEL.STATUS"),e.qZA(),e._uU(102,"\n                                "),e.TgZ(103,"input",28),e.NdJ("ngModelChange",function(o){return t.formData.is_active=o}),e.qZA(),e._uU(104,"\n                                "),e.TgZ(105,"input",29),e.NdJ("ngModelChange",function(o){return t.formData.is_active=o}),e.qZA(),e._uU(106,"\n                            "),e.qZA(),e._uU(107,"\n                        "),e.qZA(),e._uU(108,"\n                        "),e.YNc(109,nt,12,1,"div",30),e._uU(110,"\n                    "),e.qZA(),e._uU(111,"\n                    "),e.TgZ(112,"div",8),e._uU(113,"\n                        "),e.TgZ(114,"div",13),e._uU(115,"\n                            "),e.TgZ(116,"div",14),e._uU(117,"\n                                "),e.TgZ(118,"label",31),e._uU(119,"LOAD.SELECT_ZONE "),e.TgZ(120,"span",16),e._uU(121,"*"),e.qZA()(),e._uU(122,"\n                                "),e.TgZ(123,"ng-select",32,33),e.NdJ("ngModelChange",function(o){return t.formData.zone_id=o})("change",function(){return t.zoneChanged()}),e.qZA(),e._uU(125,"\n                                "),e.TgZ(126,"div",19),e._uU(127,"\n                                    "),e.YNc(128,rt,4,1,"ng-container",0),e._uU(129,"\n                                "),e.qZA(),e._uU(130,"\n                            "),e.qZA(),e._uU(131,"\n                        "),e.qZA(),e._uU(132,"\n                        "),e.TgZ(133,"div",13),e._uU(134,"\n                            "),e.TgZ(135,"div",14),e._uU(136,"\n                                "),e.TgZ(137,"label",34),e._uU(138,"LOAD.SELECT_HUB "),e.TgZ(139,"span",16),e._uU(140,"*"),e.qZA()(),e._uU(141,"\n                                "),e.TgZ(142,"ng-select",35,36),e.NdJ("ngModelChange",function(o){return t.formData.hub_id=o})("change",function(){return t.hubChanged()}),e.qZA(),e._uU(144,"\n                                "),e.TgZ(145,"div",19),e._uU(146,"\n                                    "),e.YNc(147,at,4,1,"ng-container",0),e._uU(148,"\n                                "),e.qZA(),e._uU(149,"\n                            "),e.qZA(),e._uU(150,"\n                        "),e.qZA(),e._uU(151,"\n                        "),e.YNc(152,st,11,6,"div",23),e._uU(153,"\n                    "),e.qZA(),e._uU(154,"\n                    "),e.TgZ(155,"div",8),e._uU(156,"\n                        "),e.TgZ(157,"div",9),e._uU(158,"\n                            "),e.TgZ(159,"div",14),e._uU(160,"\n                                "),e.TgZ(161,"label",6),e._uU(162,"LOAD.DEFAULT_CENTER "),e.TgZ(163,"span",16),e._uU(164,"*"),e.qZA()(),e._uU(165,"\n                                "),e.TgZ(166,"ng-select",37,38),e.NdJ("ngModelChange",function(o){return t.formData.default_center_id=o}),e._uU(168,"\n                                    "),e.YNc(169,lt,2,2,"ng-option",39),e.ALo(170,"searchCenter"),e._uU(171,"\n                                    "),e.YNc(172,_t,2,2,"ng-option",39),e.ALo(173,"searchCenter"),e._uU(174,"\n                                "),e.qZA(),e._uU(175,"\n                                "),e.TgZ(176,"div",19),e._uU(177,"\n                                    "),e.YNc(178,ct,4,1,"ng-container",0),e._uU(179,"\n                                "),e.qZA(),e._uU(180,"\n                            "),e.qZA(),e._uU(181,"\n                        "),e.qZA(),e._uU(182,"\n                    "),e.qZA(),e._uU(183,"\n                    "),e.YNc(184,mt,4,1,"ng-container",0),e._uU(185,"\n                "),e.qZA(),e._uU(186,"\n            "),e.qZA(),e._uU(187,"\n        "),e.qZA(),e._uU(188,"\n        "),e.TgZ(189,"div",40),e._uU(190,"\n            "),e.TgZ(191,"div",41),e._uU(192,"\n                "),e.YNc(193,ft,7,2,"ng-container",0),e._uU(194,"\n                "),e.YNc(195,Ut,5,0,"ng-container",0),e._uU(196,"\n            "),e.qZA(),e._uU(197,"\n        "),e.qZA(),e._uU(198,"\n    "),e.qZA(),e._uU(199,"\n"),e.qZA(),e._uU(200,"\n\n\n")),2&n){const r=e.MAs(29),o=e.MAs(43),a=e.MAs(62),s=e.MAs(86),_=e.MAs(124),m=e.MAs(143),f=e.MAs(167);e.Q6J("ngIf",t.loading.page),e.xp6(9),e.Q6J("routerLink",e.DdM(48,Zt)),e.xp6(16),e.Q6J("ngIf",t.listData),e.xp6(17),e.Q6J("ngModel",t.formData.full_name),e.xp6(5),e.Q6J("ngIf",o.errors&&(o.dirty||o.touched||r.submitted)),e.xp6(14),e.Q6J("ngModel",t.formData.user_name),e.xp6(5),e.Q6J("ngIf",a.errors&&(a.dirty||a.touched||r.submitted)),e.xp6(5),e.Q6J("ngIf",!t.recordId||t.recordId&&t.isResetPassword),e.xp6(14),e.Q6J("items",t.permissionList)("ngModel",t.formData.permission_id)("selectOnTab",!0)("clearable",!1),e.xp6(6),e.Q6J("ngIf",(null==s?null:s.errors)&&(s.dirty||s.touched||r.submitted)),e.xp6(12),e.Q6J("value",!0)("ngModel",t.formData.is_active),e.xp6(2),e.Q6J("value",!1)("ngModel",t.formData.is_active),e.xp6(4),e.Q6J("ngIf",t.recordId),e.xp6(14),e.Q6J("items",t.zoneList)("ngModel",t.formData.zone_id)("selectOnTab",!0)("clearable",!1)("multiple",!0)("hideSelected",!0),e.xp6(5),e.Q6J("ngIf",(null==_?null:_.errors)&&(_.dirty||_.touched||r.submitted)),e.xp6(14),e.Q6J("items",t.hubList)("ngModel",t.formData.hub_id)("selectOnTab",!0)("clearable",!1)("hideSelected",!0)("multiple",!0),e.xp6(5),e.Q6J("ngIf",(null==m?null:m.errors)&&(m.dirty||m.touched||r.submitted)),e.xp6(5),e.Q6J("ngIf",t.enableBillingPoint),e.xp6(14),e.Q6J("ngModel",t.formData.default_center_id)("selectOnTab",!0)("clearable",!1),e.xp6(3),e.Q6J("ngForOf",e.xi3(170,42,t.hubListArr,t.searchCenterText)),e.xp6(3),e.Q6J("ngForOf",e.xi3(173,45,t.defaultCenterList,t.searchCenterText)),e.xp6(6),e.Q6J("ngIf",(null==f?null:f.errors)&&(f.dirty||f.touched||r.submitted)),e.xp6(6),e.Q6J("ngIf",(null==t.formData||null==t.formData.hub_id?null:t.formData.hub_id.length)&&(null==t.centerList?null:t.centerList.length)),e.xp6(9),e.Q6J("ngIf",!t.loading.button),e.xp6(2),e.Q6J("ngIf",t.loading.button)}},dependencies:[p.sg,p.O5,l._Y,l.Fj,l.Wl,l._,l.JJ,l.JL,l.Q7,l.On,l.F,b.w9,b.jq,u.Hq,u.oJ,u.Vy,P.Z,d.Pi,h.rH,d.X$,Ye.i]});const vt=function(i){return{field:i}};function Mt(i,n){1&i&&(e.TgZ(0,"p",35),e.ALo(1,"translate"),e._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),e.qZA()),2&i&&e.Q6J("translateParams",e.VKq(3,vt,e.lcZ(1,1,"FORM.LABEL.ROLE_NAME")))}function Ct(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                        "),e.YNc(2,Mt,3,5,"p",34),e._uU(3,"\n                                    "),e.BQk()),2&i){e.oxw();const t=e.MAs(41);e.xp6(2),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required)}}function yt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",38),e._uU(1,"\n                                                "),e.TgZ(2,"label",21),e._uU(3,"\n                                                    "),e.TgZ(4,"input",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.changePermission(a.value))}),e.qZA(),e._uU(5,"\n                                                    "),e._UZ(6,"span",23),e._uU(7,"\n                                                    "),e.TgZ(8,"span",24),e._uU(9),e.qZA(),e._uU(10,"\n                                                "),e.qZA(),e._uU(11,"\n                                            "),e.qZA()}if(2&i){const t=n.$implicit,r=e.oxw(2);e.xp6(4),e.Q6J("checked",r.formData.permissions.indexOf(t.value)>-1)("name",t.name)("id",t.name),e.xp6(5),e.Oqu(t.label)}}function Dt(i,n){if(1&i&&(e.TgZ(0,"tr"),e._uU(1,"\n                                        "),e.TgZ(2,"th",36),e._uU(3),e.qZA(),e._uU(4,"\n                                        "),e.TgZ(5,"td"),e._uU(6,"\n                                            "),e.YNc(7,yt,12,4,"div",37),e._uU(8,"\n                                        "),e.qZA(),e._uU(9,"\n                                    "),e.qZA()),2&i){const t=n.$implicit;e.xp6(3),e.Oqu(t.title),e.xp6(4),e.Q6J("ngForOf",t.permissions)}}function qt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),a=e.MAs(27);return e.KtG(o.submitForm(a))}),e._uU(1,"LOAD.UPDATE"),e.qZA()}}function xt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),a=e.MAs(27);return e.KtG(o.submitForm(a))}),e._uU(1,"LOAD.CREATE"),e.qZA()}}function Lt(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                    "),e.YNc(2,qt,2,0,"button",40),e._uU(3,"\n                    "),e._uU(4,"\n                    "),e.YNc(5,xt,2,0,"button",41),e._uU(6,"\n                "),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.recordId),e.xp6(3),e.Q6J("ngIf",!t.recordId)}}function St(i,n){1&i&&(e.ynx(0),e._uU(1,"\n                    "),e.TgZ(2,"button",44),e._UZ(3,"m4-icon",45),e.qZA(),e._uU(4,"\n                "),e.BQk())}const Ot=function(){return["/configuration/bm-permissions"]};class y{constructor(n,t,r,o,a,s){this.utilityService=n,this._superMasterService=t,this._route=r,this._notifyService=o,this._translateService=a,this._dialogService=s,this.permissionData=[],this.formData={},this.listData=[],this.pageKey="permissions",this.loading={sidebar:!1,button:!1,page:!1},this.dateFormat=this.utilityService.datePickerFormat[2],this._notifyService.setup(this.utilityService.notifyConfig),this.initFormData(),this._route.params.subscribe(_=>{this.recordId=_.id,this.recordId&&this.getDetail()})}ngOnInit(){this.utilityService.selectedBranchDetailsShare.subscribe(n=>{this.selectedBranchData=n,this.selectedBranchData?.center?.center_type&&this.initPermissions()}),this.getList()}getDetail(){this.loading.page=!0,this._superMasterService.get(this.pageKey,this.recordId).subscribe({next:n=>{this.formData=n.item,this.loading.page=!1},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService),this.loading.page=!1}})}getList(){this.loading.sidebar=!0,this._superMasterService.postList(this.pageKey,{is_admin:!1}).subscribe({next:n=>{this.listData=n.list,this.loading.sidebar=!1},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService),this.loading.sidebar=!1}})}submitForm(n){n.submitted=!0,n.valid&&(this.loading.button=!0,this.recordId?this._superMasterService.update(this.pageKey,this.recordId,this.formData).subscribe({next:t=>{this.getList(),this.utilityService.success(t.message,this._notifyService),this.loading.button=!1},error:t=>{let r=this.utilityService.serverMessageHandler(t);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}):this._superMasterService.add(this.pageKey,this.formData).subscribe({next:t=>{this.loading.button=!1,this.utilityService.success(t.message,this._notifyService),this.getList(),n.submitted=!1,n.resetForm(),setTimeout(()=>{this.initFormData()},0)},error:t=>{let r=this.utilityService.serverMessageHandler(t);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}))}initFormData(){this.formData={name:"",is_admin:!1,permissions:[]}}initPermissions(){const n=1==this.selectedBranchData?.center?.center_type?U.GD.HUB:U.GD.BM;console.log("testing =======",this.selectedBranchData,n),this.permissionData=this.utilityService.permissionList.filter(t=>t.type.includes(n))}changePermission(n){const t=this.formData.permissions.indexOf(n);t>-1?this.formData.permissions.splice(t,1):this.formData.permissions.push(n)}selectAllPermission(){const n=[];this.permissionData.forEach(t=>{t.permissions.forEach(r=>{n.push(r.value)})}),this.formData.permissions=n}deSelectAllPermission(){this.formData.permissions=[]}changedSelectAll(n){n?.target?.checked?this.selectAllPermission():this.deSelectAllPermission()}}y.\u0275fac=function(n){return new(n||y)(e.Y36(Z.t),e.Y36(Y.a),e.Y36(h.gz),e.Y36(u.c),e.Y36(d.sK),e.Y36(u.xA))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-user-permissions-bm"]],decls:89,vars:8,consts:[[1,"card","m-0","w-100"],[1,"card-header","d-flex","align-items-center","justify-content-between","flex-wrap","pb-0","pt-3"],["translate","",1,"page-heading","my-0"],["type","button","m4-button","","btn-style","primary",1,"mr-0",3,"routerLink"],[1,"mr-2","mif-add"],["translate",""],[1,"card-content","pt-0"],[1,"row"],[1,"cell-3"],["class","custom-scroll overflow-x-hidden p-2",4,"ngIf"],[1,"cell-9"],["form","ngForm"],[1,"form-group"],["for","role_name","translate",""],[1,"required"],["type","text","name","role_name","id","role_name","placeholder","Enter Role Name","required","",3,"ngModel","ngModelChange"],["roleName","ngModel"],[1,"required-wrapper"],[4,"ngIf"],[1,"cell-12"],[1,"d-flex","align-items-right"],[1,"checkbox","transition-on","mr-2"],["type","checkbox","value","1",3,"change"],[1,"check"],["translate","",1,"caption"],[1,"table"],[4,"ngFor","ngForOf"],[1,"sticky-buttons","py-5"],[1,"cell-12","text-right","px-0"],[1,"custom-scroll","overflow-x-hidden","p-2"],[3,"listType","listData","selected","idField","fieldName","url"],[1,"d-flex","align-items-center","side-loader"],[1,"loader-body"],[1,"loader-square"],["translate","",3,"translateParams",4,"ngIf"],["translate","",3,"translateParams"],["translate","",1,"text-left"],["class","",4,"ngFor","ngForOf"],[1,""],["type","checkbox",3,"checked","name","id","click"],["type","submit","m4-button","","btn-style","primary","class","btn-lg mr-1","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","class","btn-lg","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg","mr-1",3,"click"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg",3,"click"],["type","button","m4-button","","btn-style","primary",1,"btn-lg","ml-3"],["icon","spinner","m4-animation","spin"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0),e._uU(1,"\n    "),e.TgZ(2,"div",1),e._uU(3,"\n        "),e.TgZ(4,"h1",2),e._uU(5,"FORM.HEADER.BRANCH_PERMISSIONS_MANAGEMENT"),e.qZA(),e._uU(6,"\n        "),e.TgZ(7,"button",3),e._UZ(8,"i",4),e.TgZ(9,"span",5),e._uU(10,"LOAD.ADD_NEW"),e.qZA()(),e._uU(11,"\n        "),e._UZ(12,"hr"),e._uU(13,"\n    "),e.qZA(),e._uU(14,"\n    "),e.TgZ(15,"form"),e._uU(16,"\n        "),e.TgZ(17,"div",6),e._uU(18,"\n            "),e.TgZ(19,"div",7),e._uU(20,"\n                "),e.TgZ(21,"div",8),e._uU(22,"\n                    "),e.YNc(23,bt,6,2,"div",9),e._uU(24,"\n                "),e.qZA(),e._uU(25,"\n                "),e.TgZ(26,"form",10,11),e._uU(28,"\n\n                    "),e.TgZ(29,"div",7),e._uU(30,"\n                        "),e.TgZ(31,"div",8),e._uU(32,"\n                            "),e.TgZ(33,"div",12),e._uU(34,"\n                                "),e.TgZ(35,"label",13),e._uU(36,"FORM.LABEL.ROLE_NAME "),e.TgZ(37,"span",14),e._uU(38,"*"),e.qZA()(),e._uU(39,"\n                                "),e.TgZ(40,"input",15,16),e.NdJ("ngModelChange",function(o){return t.formData.name=o}),e.qZA(),e._uU(42,"\n                                "),e.TgZ(43,"div",17),e._uU(44,"\n                                    "),e.YNc(45,Ct,4,1,"ng-container",18),e._uU(46,"\n                                "),e.qZA(),e._uU(47,"\n                            "),e.qZA(),e._uU(48,"\n                        "),e.qZA(),e._uU(49,"\n                        "),e.TgZ(50,"div",19),e._uU(51,"\n                            "),e.TgZ(52,"div",20),e._uU(53,"\n                                "),e.TgZ(54,"label",21),e._uU(55,"\n                                    "),e.TgZ(56,"input",22),e.NdJ("change",function(o){return t.changedSelectAll(o)}),e.qZA(),e._uU(57,"\n                                    "),e._UZ(58,"span",23),e._uU(59,"\n                                    "),e.TgZ(60,"span",24),e._uU(61,"LOAD.SELECT_ALL"),e.qZA(),e._uU(62,"\n                                "),e.qZA(),e._uU(63,"\n                            "),e.qZA(),e._uU(64,"\n                            "),e.TgZ(65,"table",25),e._uU(66,"\n                                "),e.TgZ(67,"tbody"),e._uU(68,"\n                                    "),e.YNc(69,Dt,10,2,"tr",26),e._uU(70,"\n                                "),e.qZA(),e._uU(71,"\n                            "),e.qZA(),e._uU(72,"\n                        "),e.qZA(),e._uU(73,"\n                    "),e.qZA(),e._uU(74,"\n                "),e.qZA(),e._uU(75,"\n            "),e.qZA(),e._uU(76,"\n        "),e.qZA(),e._uU(77,"\n        "),e.TgZ(78,"div",27),e._uU(79,"\n            "),e.TgZ(80,"div",28),e._uU(81,"\n                "),e.YNc(82,Lt,7,2,"ng-container",18),e._uU(83,"\n                "),e.YNc(84,St,5,0,"ng-container",18),e._uU(85,"\n            "),e.qZA(),e._uU(86,"\n        "),e.qZA(),e._uU(87,"\n    "),e.qZA(),e._uU(88,"\n"),e.qZA()),2&n){const r=e.MAs(27),o=e.MAs(41);e.xp6(7),e.Q6J("routerLink",e.DdM(7,Ot)),e.xp6(16),e.Q6J("ngIf",t.listData),e.xp6(17),e.Q6J("ngModel",t.formData.name),e.xp6(5),e.Q6J("ngIf",(null==o?null:o.errors)&&(o.dirty||o.touched||r.submitted)),e.xp6(24),e.Q6J("ngForOf",t.permissionData),e.xp6(13),e.Q6J("ngIf",!t.loading.button),e.xp6(2),e.Q6J("ngIf",t.loading.button)}},dependencies:[p.sg,p.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.On,l.F,u.Hq,u.oJ,u.Vy,P.Z,d.Pi,h.rH,d.X$],styles:["table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;vertical-align:top;font-size:12px!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:1px solid #ddd}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:1px solid #ddd}table[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:12px!important;line-height:1.5;white-space:nowrap}.goods-type[_ngcontent-%COMP%]{padding-bottom:0!important}.goods-type[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]});var It=c(57660),Pt=c(35501);function Nt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",9),e._uU(1,"\n                    "),e.TgZ(2,"label",20),e._uU(3,"LOAD.WEIGHTS"),e.qZA(),e._uU(4,"\n                    "),e.TgZ(5,"ng-select",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.rateDataModel[null==a.currentProduct?null:a.currentProduct.id].weights=o)}),e.qZA(),e._uU(6,"\n                "),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("items",t.rateDataModel[null==t.currentProduct?null:t.currentProduct.id].productWeightList)("ngModel",t.rateDataModel[null==t.currentProduct?null:t.currentProduct.id].weights)("closeOnSelect",!1)("selectOnTab",!0)("hideSelected",!0)("multiple",!0)}}function Qt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"li"),e._uU(1,"\n                            "),e.TgZ(2,"a",22),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.currentProduct=a)}),e._uU(3),e.qZA(),e._uU(4,"\n                        "),e.qZA()}if(2&i){const t=n.$implicit,r=e.oxw();e.ekj("active",t.id==(null==r.currentProduct?null:r.currentProduct.id)),e.xp6(3),e.Oqu(t.product_name)}}function Jt(i,n){if(1&i&&(e.TgZ(0,"th",32),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("\n                                            ",t.weight_name,"\n                                        ")}}function Et(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                        "),e.YNc(2,Jt,2,1,"th",31),e._uU(3,"\n                                    "),e.BQk()),2&i){const t=n.$implicit,r=e.oxw(3);e.xp6(2),e.Q6J("ngIf",(null==r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id]?null:r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].weights.indexOf(t.id))>-1)}}function wt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e._uU(1,"\n                                    "),e.TgZ(2,"th",11),e._uU(3,"LOAD.WEIGHT_IN_GM"),e.qZA(),e._uU(4,"\n                                    "),e.YNc(5,Et,4,1,"ng-container",27),e._uU(6,"\n                                    "),e.TgZ(7,"th",28),e._uU(8,"LOAD.ADDITIONAL_RATES "),e.TgZ(9,"span"),e._uU(10,"("),e.qZA(),e.TgZ(11,"span",11),e._uU(12,"LOAD.GM"),e.qZA(),e.TgZ(13,"span"),e._uU(14,")"),e.qZA(),e._uU(15,"\n                                        "),e.TgZ(16,"div",29),e._uU(17,"\n                                            "),e.TgZ(18,"input",30),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.rateDataModel[null==a.currentProduct?null:a.currentProduct.id].additionalWeight=o)})("blur",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onBlurAdditionalWeight())}),e.qZA(),e._uU(19,"\n                                        "),e.qZA(),e._uU(20,"\n                                    "),e.qZA(),e._uU(21,"\n                                "),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",null==t.rateDataModel[null==t.currentProduct?null:t.currentProduct.id]?null:t.rateDataModel[null==t.currentProduct?null:t.currentProduct.id].productWeightList),e.xp6(13),e.Q6J("ngModel",t.rateDataModel[null==t.currentProduct?null:t.currentProduct.id].additionalWeight)}}function kt(i,n){1&i&&(e.TgZ(0,"tr"),e._uU(1,"\n                                    "),e.TgZ(2,"div",33),e._uU(3,"\n                                        "),e.TgZ(4,"div",34),e._uU(5,"\n                                            "),e.TgZ(6,"div",35),e._uU(7,"\n                                                "),e._UZ(8,"div"),e._uU(9,"\n                                                "),e._UZ(10,"div"),e._uU(11,"\n                                                "),e._UZ(12,"div"),e._uU(13,"\n                                                "),e._UZ(14,"div"),e._uU(15,"\n                                            "),e.qZA(),e._uU(16,"\n                                        "),e.qZA(),e._uU(17,"\n                                    "),e.qZA(),e._uU(18,"\n                                "),e.qZA())}function Ft(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"td",32),e._uU(1,"\n                                                "),e.TgZ(2,"div",37),e._uU(3,"\n                                                    "),e.TgZ(4,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.rateDataModel[null==_.currentProduct?null:_.currentProduct.id][s.id][a.id]=o)}),e.qZA(),e._uU(5,"\n                                                "),e.qZA(),e._uU(6,"\n                                            "),e.qZA()}if(2&i){const t=e.oxw(),r=t.index,o=t.$implicit,a=e.oxw().$implicit,s=e.oxw(3);e.xp6(4),e.cQ8("name","val_",null==s.currentProduct?null:s.currentProduct.id,"_",a.id,"_",r,""),e.Q6J("ngModel",s.rateDataModel[null==s.currentProduct?null:s.currentProduct.id][a.id][o.id])}}function Yt(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                            "),e.YNc(2,Ft,7,4,"td",31),e._uU(3,"\n                                        "),e.BQk()),2&i){const t=n.$implicit,r=e.oxw(4);e.xp6(2),e.Q6J("ngIf",(null==r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id]||null==r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].weights?null:r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].weights.indexOf(t.id))>-1)}}function Rt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e._uU(1,"\n                                        "),e.TgZ(2,"td"),e._uU(3),e.qZA(),e._uU(4,"\n                                        "),e.YNc(5,Yt,4,1,"ng-container",27),e._uU(6,"\n                                        "),e.TgZ(7,"td",32),e._uU(8,"\n                                            "),e.TgZ(9,"div",29),e._uU(10,"\n                                                "),e.TgZ(11,"input",36),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.rateDataModel[null==_.currentProduct?null:_.currentProduct.id][s.id].additional=o)}),e.qZA(),e._uU(12,"\n                                            "),e.qZA(),e._uU(13,"\n                                        "),e.qZA(),e._uU(14,"\n                                    "),e.qZA()}if(2&i){const t=n.$implicit,r=e.oxw(3);e.xp6(3),e.Oqu(t.zone_name),e.xp6(2),e.Q6J("ngForOf",null==r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id]?null:r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].productWeightList),e.xp6(6),e.MGl("name","additional_val_",t.id,""),e.Q6J("ngModel",r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id][t.id].additional)("disabled",!r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].additionalWeight||r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].additionalWeight<=0)}}function Bt(i,n){if(1&i&&(e.ynx(0),e._uU(1,"\n                                    "),e.YNc(2,Rt,15,5,"tr",27),e.ALo(3,"filterPipe"),e._uU(4,"\n                                "),e.BQk()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,1,t.zoneList,"zone_name",t.searchControl))}}function $t(i,n){if(1&i&&(e.TgZ(0,"div",23),e._uU(1,"\n                "),e.TgZ(2,"div",14),e._uU(3,"\n                    "),e.TgZ(4,"div",24),e._uU(5,"\n                        "),e.TgZ(6,"table",25),e._uU(7,"\n                            "),e.TgZ(8,"thead"),e._uU(9,"\n                                "),e.YNc(10,wt,22,2,"tr",26),e._uU(11,"\n                            "),e.qZA(),e._uU(12,"\n                            "),e.TgZ(13,"tbody"),e._uU(14,"\n                                "),e.YNc(15,kt,19,0,"tr",26),e._uU(16,"\n                                "),e.YNc(17,Bt,5,5,"ng-container",26),e._uU(18,"\n                            "),e.qZA(),e._uU(19,"\n                        "),e.qZA(),e._uU(20,"\n                    "),e.qZA(),e._uU(21,"\n                "),e.qZA(),e._uU(22,"\n            "),e.qZA()),2&i){const t=e.oxw();e.xp6(10),e.Q6J("ngIf",!t.isChargesLoading),e.xp6(5),e.Q6J("ngIf",t.isChargesLoading&&!t.isChargesLoaded),e.xp6(2),e.Q6J("ngIf",!t.isChargesLoading&&t.isChargesLoaded)}}function Kt(i,n){1&i&&(e.TgZ(0,"button",43),e._uU(1,"LOAD.UPDATE"),e.qZA())}function Ht(i,n){1&i&&(e.TgZ(0,"button",44),e._uU(1,"\n                        "),e._UZ(2,"m4-icon",45),e._uU(3,"\n                    "),e.qZA())}function Vt(i,n){if(1&i&&(e.TgZ(0,"div",39),e._uU(1,"\n                "),e.TgZ(2,"div",40),e._uU(3,"\n                    "),e.YNc(4,Kt,2,0,"button",41),e._uU(5,"\n                    "),e.YNc(6,Ht,4,0,"button",42),e._uU(7,"\n                "),e.qZA(),e._uU(8,"\n            "),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!t.savingData),e.xp6(2),e.Q6J("ngIf",t.savingData)}}class S{constructor(n,t,r,o,a,s){this._masterService=n,this.utilityService=t,this._notifyService=r,this._transactionService=o,this._translateService=a,this._dialogService=s,this.zoneList=[],this.productList=[],this.productWeightList=[],this.rateDataModel={},this.currentProduct={},this.previousChargesData={},this.savingData=!1,this.isChargesLoading=!1,this.isChargesLoaded=!1,this.searchControl="",this.formData={},this.roleType=U.GD,this._notifyService.setup(this.utilityService.notifyConfig)}ngOnInit(){this.getZoneList(),this.getProductList(),this.getProductWeightList()}getProductList(){this._masterService.getDropdowns("product-master",{is_product_ref:!0}).subscribe({next:n=>{this.productList=n.list,this.productList.length&&(this.currentProduct=this.productList[0],this.getQuotationRate())},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService)}})}getZoneList(){this._masterService.getZones({is_exclude_local:!1}).subscribe({next:n=>{this.zoneList=n.list,this.getQuotationRate()},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService)}})}getProductWeightList(){this._masterService.postList("product-master/product-weights",{is_exclude_reverse_weight:!0}).subscribe({next:n=>{this.productWeightList=n.list,this.getQuotationRate()},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService)}})}getQuotationRate(){this.productList?.length&&this.zoneList?.length&&this.productWeightList?.length&&(this.isChargesLoading=!0,this.isChargesLoaded=!1,this._transactionService.getQuotationConfig().subscribe({next:n=>{this.previousChargesData=n.item,this.rateDataModel={},this.setPreviousCharges(),this.setAdditionalCharges(),this.isChargesLoading=!1,this.isChargesLoaded=!0},error:n=>{this.isChargesLoading=!1,this.isChargesLoaded=!1;let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService)}}))}submitForm(){this.savingData=!0,this._transactionService.updateQuotationConfig({quotation_rates:this.getLatestCharges()}).subscribe({next:n=>{this.savingData=!1,this.utilityService.success(n.message,this._notifyService)},error:n=>{this.savingData=!1;let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService)}})}setPreviousCharges(){this.productList.forEach(n=>{this.rateDataModel[`${n.id}`]=this.rateDataModel[`${n.id}`]||{},this.rateDataModel[`${n.id}`].weights=[],this.rateDataModel[`${n.id}`].productWeightList=[],this.zoneList.forEach(t=>{t[`${n.id}`]={isTop:0},this.rateDataModel[`${n.id}`][`${t.id}`]=this.rateDataModel[`${n.id}`][`${t.id}`]||{},this.previousChargesData&&this.previousChargesData[`${n.id}`]&&this.previousChargesData[`${n.id}`].rates&&this.previousChargesData[`${n.id}`].rates.forEach(r=>{this.rateDataModel[`${n.id}`].weights.includes(r.pr_weight_id)||this.rateDataModel[`${n.id}`].weights.push(r.pr_weight_id)}),this.rateDataModel[`${n.id}`].productWeightList=this.productWeightList.filter(r=>r.type==n.product_type),this.rateDataModel[`${n.id}`].productWeightList.forEach(r=>{if(this.previousChargesData&&this.previousChargesData[`${n.id}`]&&this.previousChargesData[`${n.id}`].rates){const o=this.previousChargesData[`${n.id}`].rates.filter(a=>a.zone_id==t.id&&a.pr_weight_id==r.id);this.rateDataModel[`${n.id}`][`${t.id}`][`${r.id}`]=0,o.length>0&&(this.rateDataModel[`${n.id}`][`${t.id}`][`${r.id}`]=o[0].charges)}this.rateDataModel[`${n.id}`][`${t.id}`][`${r.id}`]&&(t[`${n.id}`].isTop=1)})})}),this.sortingZones()}setAdditionalCharges(){this.productList.forEach(n=>{this.rateDataModel[`${n.id}`]=this.rateDataModel[`${n.id}`]||{},this.zoneList.forEach(t=>{if(this.rateDataModel[`${n.id}`][`${t.id}`].additional=0,this.rateDataModel[`${n.id}`].additionalWeight=0,this.previousChargesData&&this.previousChargesData[`${n.id}`]&&this.previousChargesData[`${n.id}`].additional){const r=this.previousChargesData[`${n.id}`].additional.filter(o=>o.zone_id==t.id);r.length>0&&(this.rateDataModel[`${n.id}`][`${t.id}`].additional=r[0].charges,this.rateDataModel[`${n.id}`].additionalWeight=r[0].weight)}t.isTopAdditional=this.rateDataModel[`${n.id}`][`${t.id}`].additional>0})}),this.sortingZones()}getLatestCharges(){const n={};return this.productList.forEach(t=>{n[`${t.id}`]={rates:[],additional:[]},this.zoneList.forEach(r=>{this.rateDataModel?.[`${t.id}`]?.weights?.length>0&&this.rateDataModel[`${t.id}`].weights.forEach(a=>{n[`${t.id}`].rates.push({zone_id:r.id,product_id:t.id,pr_weight_id:a,charges:this.rateDataModel[`${t.id}`][`${r.id}`][`${a}`]||0})});const o=this.rateDataModel?.[`${t.id}`]?.additionalWeight;n[`${t.id}`].additional.push({zone_id:r.id,product_id:t.id,weight:o||0,charges:o&&this.rateDataModel[`${t.id}`][`${r.id}`].additional||0})})}),n}sortingZones(){if(this.currentProduct?.id){const n=this.zoneList.filter(o=>o.is_local),t=this.zoneList.filter(o=>!o.is_local&&o[`${this.currentProduct?.id}`].isTop).sort((o,a)=>a[`${this.currentProduct?.id}`].isTop-o[`${this.currentProduct?.id}`].isTop),r=this.zoneList.filter(o=>!o.is_local&&!o[`${this.currentProduct?.id}`].isTop).sort((o,a)=>a[`${this.currentProduct?.id}`].isTopAdditional-o[`${this.currentProduct?.id}`].isTopAdditional);this.zoneList=n.concat(t,r)}}onBlurAdditionalWeight(){this.rateDataModel[`${this.currentProduct?.id}`].additionalWeight||this.zoneList.forEach(n=>{this.rateDataModel[`${this.currentProduct?.id}`][`${n.id}`].additional=0})}}S.\u0275fac=function(n){return new(n||S)(e.Y36(R.m),e.Y36(Z.t),e.Y36(u.c),e.Y36(It.p),e.Y36(d.sK),e.Y36(u.xA))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-quotation-config"]],decls:73,vars:5,consts:[[1,"card","m-0","w-100"],[1,"card-header","pb-0"],["translate","",1,"page-heading","my-0"],[1,"card-content","pt-0","pb-3"],[3,"submit"],["form","ngForm"],[1,"row","align-items-center","mb-3"],["class","cell-3",4,"ngIf"],[1,"row","mt-1","mb-2"],[1,"cell-3"],[1,"form-group"],["translate",""],["type","text","name","searchControl",3,"ngModel","ngModelChange"],[1,"row","mt-2"],[1,"cell-12"],[1,"required-wrapper"],["data-role","tabs","data-expand","true",1,"pb-0"],[3,"active",4,"ngFor","ngForOf"],["class","row mt-0",4,"ngIf"],["class","row mt-3",4,"ngIf"],["for","weights","translate",""],["bindLabel","weight_name","bindValue","id","id","weights","name","weights",3,"items","ngModel","closeOnSelect","selectOnTab","hideSelected","multiple","ngModelChange"],["href","javascript:void(0)",3,"click"],[1,"row","mt-0"],[1,"table-header-sticky","custom-scroll","mt-3"],[1,"table","mt-0","table-border","cell-border","compact","row-hover"],[4,"ngIf"],[4,"ngFor","ngForOf"],["scope","col","translate",""],[1,"input-group"],["type","number","placeholder","Value","name","additional_weight",1,"form-control",3,"ngModel","ngModelChange","blur"],["scope","col",4,"ngIf"],["scope","col"],[1,"table-loader-container"],[1,"loader-body"],[1,"loader-square"],["type","number","placeholder","Value",1,"form-control",3,"ngModel","name","disabled","ngModelChange"],[1,"input-group","mb-0"],["type","number","placeholder","Value",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"row","mt-3"],[1,"cell-12","text-right"],["type","submit","m4-button","","btn-style","primary","class","btn-lg","translate","",4,"ngIf"],["type","button","m4-button","","btn-style","primary","class","btn-lg mr-3","translate","",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg"],["type","button","m4-button","","btn-style","primary","translate","",1,"btn-lg","mr-3"],["icon","spinner","m4-animation","spin"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e._uU(1,"\n    "),e.TgZ(2,"div",1),e._uU(3,"\n        "),e.TgZ(4,"h1",2),e._uU(5,"LOAD.QUOTATION"),e.qZA(),e._uU(6,"\n        "),e._UZ(7,"hr"),e._uU(8,"\n    "),e.qZA(),e._uU(9,"\n    "),e.TgZ(10,"div",3),e._uU(11,"\n        "),e.TgZ(12,"form",4,5),e.NdJ("submit",function(){return t.submitForm()}),e._uU(14,"\n            "),e.TgZ(15,"div",6),e._uU(16,"\n                "),e.YNc(17,Nt,7,6,"div",7),e._uU(18,"\n            "),e.qZA(),e._uU(19,"\n\n            "),e.TgZ(20,"div",8),e._uU(21,"\n                "),e.TgZ(22,"div",9),e._uU(23,"\n                    "),e.TgZ(24,"div",10),e._uU(25,"\n                        "),e.TgZ(26,"label",11),e._uU(27,"LOAD.SEARCH"),e.qZA(),e._uU(28,"\n                        "),e.TgZ(29,"input",12),e.NdJ("ngModelChange",function(o){return t.searchControl=o}),e.qZA(),e._uU(30,"\n                    "),e.qZA(),e._uU(31,"\n                "),e.qZA(),e._uU(32,"\n                "),e._uU(33,"\n            "),e.qZA(),e._uU(34,"\n            "),e.TgZ(35,"div",13),e._uU(36,"\n                "),e.TgZ(37,"div",14),e._uU(38,"\n                    "),e.TgZ(39,"div",10),e._uU(40,"\n                        "),e.TgZ(41,"div",15),e._uU(42,"\n                            "),e.TgZ(43,"p")(44,"b",11),e._uU(45,"LOAD.NOTE"),e.qZA(),e.TgZ(46,"b"),e._uU(47,":"),e.qZA(),e.TgZ(48,"span",11),e._uU(49," LOAD.CASH_RATE_REQUIRED_NOTE"),e.qZA(),e._uU(50,"\n                            "),e.qZA(),e._uU(51,"\n                        "),e.qZA(),e._uU(52,"\n                    "),e.qZA(),e._uU(53,"\n                "),e.qZA(),e._uU(54,"\n            "),e.qZA(),e._uU(55,"\n            "),e.TgZ(56,"div",8),e._uU(57,"\n                "),e.TgZ(58,"div",14),e._uU(59,"\n                    "),e.TgZ(60,"ul",16),e._uU(61,"\n                        "),e.YNc(62,Qt,5,3,"li",17),e._uU(63,"\n                    "),e.qZA(),e._uU(64,"\n                "),e.qZA(),e._uU(65,"\n            "),e.qZA(),e._uU(66,"\n            "),e.YNc(67,$t,23,3,"div",18),e._uU(68,"\n            "),e.YNc(69,Vt,9,2,"div",19),e._uU(70,"\n        "),e.qZA(),e._uU(71,"\n    "),e.qZA(),e._uU(72,"\n"),e.qZA()),2&n&&(e.xp6(17),e.Q6J("ngIf",(null==t.rateDataModel[null==t.currentProduct?null:t.currentProduct.id]||null==t.rateDataModel[null==t.currentProduct?null:t.currentProduct.id].productWeightList?null:t.rateDataModel[null==t.currentProduct?null:t.currentProduct.id].productWeightList.length)>0),e.xp6(12),e.Q6J("ngModel",t.searchControl),e.xp6(33),e.Q6J("ngForOf",t.productList),e.xp6(5),e.Q6J("ngIf",t.isChargesLoading||t.isChargesLoaded),e.xp6(2),e.Q6J("ngIf",t.utilityService.hasAccess("quotationContents.update")&&t.isChargesLoaded))},dependencies:[p.sg,p.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.On,l.F,b.w9,u.Hq,u.oJ,u.Vy,d.Pi,Pt.g],styles:[".table-scroll-y[_ngcontent-%COMP%]{max-height:calc(100vh - 350px)}ul.tabs-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-right:10px!important}"]});class O{constructor(n,t,r,o,a,s,_){this._generalService=n,this._notifyService=t,this._dialogService=r,this.electronService=o,this._translateService=a,this._localStorageService=s,this.utilityService=_,this.pageKey="network-setting",this.networkMode=U.I,this.formData={mode:U.I.OPTIMIZED}}ngOnInit(){this.getNetworkSetting()}getNetworkSetting(){this._generalService.get(this.pageKey,null).subscribe({next:n=>{this.formData=n.item||{}},error:n=>{let t=this.utilityService.serverMessageHandler(n);this.utilityService.error(t,this._notifyService)}})}onSubmit(n){if(n.valid&&this.electronService.isElectron){let t=this._translateService.instant("LOAD.APP_RESTART_MESSAGE"),r=this._translateService.instant("LOAD.APP_RESTART_CONFIRMATION");this._dialogService.confirm(r,t).subscribe(o=>{o&&this._generalService.add(this.pageKey,this.formData).subscribe({next:a=>{this.utilityService.success(a.message,this._notifyService),this.formData.mode==this.networkMode.NORMAL&&this._localStorageService.setLocalStorageItem(this.utilityService.localStrorage.netowrkMode,"1"),this.electronService.ipcRenderer.send("relaunch-app")},error:a=>{let s=this.utilityService.serverMessageHandler(a);this.utilityService.error(s,this._notifyService)}})})}}onCancel(){this.getNetworkSetting()}}O.\u0275fac=function(n){return new(n||O)(e.Y36(I.m),e.Y36(u.c),e.Y36(u.xA),e.Y36(F.d),e.Y36(d.sK),e.Y36(B.n),e.Y36(Z.t))},O.\u0275cmp=e.Xpm({type:O,selectors:[["app-network-setting"]],decls:61,vars:4,consts:[[1,"card","m-0","w-100","network-mode-card"],[1,"card-header","d-flex","align-items-center","justify-content-between","flex-wrap","pb-0","pt-3"],["translate","",1,"page-heading","my-0"],[3,"ngSubmit"],["form","ngForm"],[1,"card-content","pt-0"],["translate",""],[1,"form-group","m-0","d-flex","align-items-center"],["type","radio","data-role","radio","data-style","2","name","networkMode","id","normalMode",1,"mr-1",3,"ngModel","value","ngModelChange"],["for","normalMode",1,"mb-0","cursor-pointer"],["translate","",1,"required"],["type","radio","data-role","radio","data-style","2","name","networkMode","id","optimizedMode",1,"mr-1",3,"ngModel","value","ngModelChange"],["for","optimizedMode",1,"mb-0","cursor-pointer"],[1,"sticky-buttons","py-5"],[1,"cell-12","text-right","px-0"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg","mr-2"],["type","button","m4-button","","btn-style","secondary","translate","",1,"btn-lg","mr-0",3,"click"]],template:function(n,t){if(1&n){const r=e.EpF();e.TgZ(0,"div",0),e._uU(1,"\n    "),e.TgZ(2,"div",1),e._uU(3,"\n        "),e.TgZ(4,"h1",2),e._uU(5,"LOAD.NETWORK_SETTING"),e.qZA(),e._uU(6,"\n        "),e._UZ(7,"hr"),e._uU(8,"\n    "),e.qZA(),e._uU(9,"\n    "),e.TgZ(10,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(r);const a=e.MAs(11);return e.KtG(t.onSubmit(a))}),e._uU(12,"\n        "),e.TgZ(13,"div",5),e._uU(14,"\n            "),e.TgZ(15,"h3")(16,"strong",6),e._uU(17,"LOAD.NETWORK_INSTRUCTION"),e.qZA()(),e._uU(18,"\n            "),e.TgZ(19,"div",7),e._uU(20,"\n                "),e.TgZ(21,"input",8),e.NdJ("ngModelChange",function(a){return t.formData.mode=a}),e.qZA(),e._uU(22,"\n                "),e.TgZ(23,"label",9),e._uU(24,"\n                    "),e.TgZ(25,"strong",6),e._uU(26,"LOAD.NORMAL_MODE\n                        "),e.TgZ(27,"small",10),e._uU(28,"LOAD.NORMAL_MODE_SUB_TITLE"),e.qZA(),e._uU(29,"\n                    "),e.qZA(),e._uU(30,"\n                "),e.qZA(),e._uU(31,"\n            "),e.qZA(),e._uU(32,"\n            "),e.TgZ(33,"div",7),e._uU(34,"\n                "),e.TgZ(35,"input",11),e.NdJ("ngModelChange",function(a){return t.formData.mode=a}),e.qZA(),e._uU(36,"\n                "),e.TgZ(37,"label",12),e._uU(38,"\n                    "),e.TgZ(39,"strong",6),e._uU(40,"LOAD.OPTIMIZED_MODE\n                        "),e.TgZ(41,"small",10),e._uU(42,"LOAD.OPTIMIZED_MODE_SUB_TITLE"),e.qZA(),e._uU(43,"\n                    "),e.qZA(),e._uU(44,"\n                "),e.qZA(),e._uU(45,"\n            "),e.qZA(),e._uU(46,"\n        "),e.qZA(),e._uU(47,"\n        "),e.TgZ(48,"div",13),e._uU(49,"\n            "),e.TgZ(50,"div",14),e._uU(51,"\n                "),e.TgZ(52,"button",15),e._uU(53,"LOAD.SAVE"),e.qZA(),e._uU(54,"\n                "),e.TgZ(55,"button",16),e.NdJ("click",function(){return t.onCancel()}),e._uU(56,"LOAD.CANCEL"),e.qZA(),e._uU(57,"\n            "),e.qZA(),e._uU(58,"\n        "),e.qZA(),e._uU(59,"\n    "),e.qZA(),e._uU(60,"\n"),e.qZA()}2&n&&(e.xp6(21),e.Q6J("ngModel",t.formData.mode)("value",t.networkMode.NORMAL),e.xp6(14),e.Q6J("ngModel",t.formData.mode)("value",t.networkMode.OPTIMIZED))},dependencies:[l._Y,l.Fj,l._,l.JJ,l.JL,l.On,l.F,u.Hq,d.Pi]});const Gt=[{path:"",component:x,children:[{path:"",redirectTo:"company-master",pathMatch:"full"},{path:"company-master",component:v},{path:"company-master/:id",component:v},{path:"print-setting",component:L},{path:"permissions",component:M},{path:"permissions/:id",component:M},{path:"user-management",component:C},{path:"user-management/:id",component:C},{path:"bm-permissions",component:y},{path:"bm-permissions/:id",component:y},{path:"quotation-config",component:S},{path:"network-setting",component:O}]}];class D{}D.\u0275fac=function(n){return new(n||D)},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({imports:[h.Bz.forChild(Gt),h.Bz]});var Wt=c(24586);class q{}q.\u0275fac=function(n){return new(n||q)},q.\u0275mod=e.oAB({type:q}),q.\u0275inj=e.cJS({imports:[p.ez,l.u5,b.A0,u.L3,k.ts,k.YM,$.k,u.gj,d.aw.forChild(),D,K.o,Wt.D]})}}]);