"use strict";(globalThis.webpackChunksacs=globalThis.webpackChunksacs||[]).push([[942],{88942:(Qn,Q,c)=>{c.r(Q),c.d(Q,{ConfigurationModule:()=>v});var p=c(88692),s=c(20092),_=c(34942),d=c(56707),J=c(90),k=c(82563),R=c(35540),m=c(7976),t=c(64537);class M{}M.\u0275fac=function(e){return new(e||M)},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-configuration"]],decls:2,vars:0,template:function(e,n){1&e&&(t._uU(0,"\n"),t._UZ(1,"router-outlet"))},dependencies:[m.lC]});var C=c(80532),f=c(37730),E=c(79907),w=c(36198),y=c(11208),q=c(56898);function $(i,e){1&i&&(t.ynx(0),t._uU(1,"\n    "),t.TgZ(2,"div",53),t._uU(3,"\n        "),t.TgZ(4,"div",54),t._uU(5,"\n            "),t.TgZ(6,"div",55),t._uU(7,"\n                "),t._UZ(8,"div"),t._uU(9,"\n                "),t._UZ(10,"div"),t._uU(11,"\n                "),t._UZ(12,"div"),t._uU(13,"\n                "),t._UZ(14,"div"),t._uU(15,"\n            "),t.qZA(),t._uU(16,"\n        "),t.qZA(),t._uU(17,"\n    "),t.qZA(),t._uU(18,"\n"),t.BQk())}function B(i,e){1&i&&(t.TgZ(0,"button",56),t._UZ(1,"i",57),t.TgZ(2,"span",58),t._uU(3,"LOAD.ADD_NEW"),t.qZA()())}function H(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                        "),t._UZ(2,"app-side-list",59),t._uU(3,"\n                    "),t.BQk()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("listType","list")("listData",n.listData)("selected",n.formData.id)("idField","id")("fieldName","company_name")("url","/configuration/company-master/")}}function K(i,e){1&i&&(t.ynx(0),t._uU(1,"\n                        "),t.TgZ(2,"div",60),t._uU(3,"\n                            "),t.TgZ(4,"div",54),t._uU(5,"\n                                "),t.TgZ(6,"div",55),t._uU(7,"\n                                    "),t._UZ(8,"div"),t._uU(9,"\n                                    "),t._UZ(10,"div"),t._uU(11,"\n                                    "),t._UZ(12,"div"),t._uU(13,"\n                                    "),t._UZ(14,"div"),t._uU(15,"\n                                "),t.qZA(),t._uU(16,"\n                            "),t.qZA(),t._uU(17,"\n                        "),t.qZA(),t._uU(18,"\n                    "),t.BQk())}const g=function(i){return{field:i}};function V(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.COMPANY_NAME")))}function G(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                    "),t.YNc(2,V,3,5,"p",61),t._uU(3,"\n                                "),t.BQk()),2&i){t.oxw();const n=t.MAs(43);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required)}}function W(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.ADDRESS")))}function z(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                    "),t.YNc(2,W,3,5,"p",61),t._uU(3,"\n                                "),t.BQk()),2&i){t.oxw();const n=t.MAs(62);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required)}}function j(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.CITY")))}function X(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                    "),t.YNc(2,j,3,5,"p",61),t._uU(3,"\n                                "),t.BQk()),2&i){t.oxw();const n=t.MAs(92);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required)}}function tt(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.STATE")))}function nt(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                    "),t.YNc(2,tt,3,5,"p",61),t._uU(3,"\n                                "),t.BQk()),2&i){const n=t.oxw(),r=t.MAs(111);t.xp6(2),t.Q6J("ngIf",(null==r||null==r.errors?null:r.errors.required)||0==n.formData.state)}}function et(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.PHONE")))}function it(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                    "),t.YNc(2,et,3,5,"p",61),t._uU(3,"\n                                "),t.BQk()),2&i){t.oxw();const n=t.MAs(132);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required)}}function rt(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.PINCODE")))}function ot(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.PATTERN_NOT_MATCH\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.PINCODE")))}function at(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                    "),t.YNc(2,rt,3,5,"p",61),t._uU(3,"\n                                    "),t.YNc(4,ot,3,5,"p",61),t._uU(5,"\n                                "),t.BQk()),2&i){t.oxw();const n=t.MAs(164);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required),t.xp6(2),t.Q6J("ngIf",n.errors.pattern)}}function st(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.EMAIL")))}function lt(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.PATTERN_NOT_MATCH\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.EMAIL")))}function _t(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                    "),t.YNc(2,st,3,5,"p",61),t._uU(3,"\n                                    "),t.YNc(4,lt,3,5,"p",61),t._uU(5,"\n                                "),t.BQk()),2&i){t.oxw();const n=t.MAs(184);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required),t.xp6(2),t.Q6J("ngIf",n.errors.pattern)}}function ut(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.WEBSITE")))}function ct(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.PATTERN_NOT_MATCH\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.WEBSITE")))}function dt(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                    "),t.YNc(2,ut,3,5,"p",61),t._uU(3,"\n                                    "),t.YNc(4,ct,3,5,"p",61),t._uU(5,"\n                                "),t.BQk()),2&i){t.oxw();const n=t.MAs(203);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required),t.xp6(2),t.Q6J("ngIf",n.errors.pattern)}}function gt(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.PAN_NO")))}function mt(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.MINLENGTH\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.PAN_NO")))}function pt(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                    "),t.YNc(2,gt,3,5,"p",61),t._uU(3,"\n                                    "),t.YNc(4,mt,3,5,"p",61),t._uU(5,"\n                                "),t.BQk()),2&i){t.oxw();const n=t.MAs(222);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required),t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.minlength)}}function ht(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.IS_REQUIRED\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.GST_NO")))}function ft(i,e){1&i&&(t.TgZ(0,"p",62),t.ALo(1,"translate"),t._uU(2,"\n                                        VALIDATION.MINLENGTH\n                                    "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,g,t.lcZ(1,1,"LOAD.GST_NO")))}function Ut(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                    "),t.YNc(2,ht,3,5,"p",61),t._uU(3,"\n                                    "),t.YNc(4,ft,3,5,"p",61),t._uU(5,"\n                                "),t.BQk()),2&i){t.oxw();const n=t.MAs(242);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required),t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.minlength)}}function Zt(i,e){1&i&&(t.TgZ(0,"button",63),t._uU(1,"LOAD.UPDATE"),t.qZA())}function bt(i,e){1&i&&(t.TgZ(0,"button",63),t._uU(1,"LOAD.ADD"),t.qZA())}function Tt(i,e){1&i&&(t.TgZ(0,"button",64),t._UZ(1,"m4-icon",65),t.qZA())}class U{constructor(e,n,r,o,a,l){this.utilityService=e,this._configurationService=n,this._generalService=r,this._route=o,this._notifyService=a,this._translateService=l,this.formData={},this.listData=[],this.stateList=[],this.pageKey="company",this.productTypeList=C.kv,this.mediumList=C.$z,this.inheritProductList={},this.loading={sidebar:!1,button:!1,page:!1},this.dateFormat=this.utilityService.datePickerFormat[2],this._notifyService.setup(this.utilityService.notifyConfig),this.initFormData(),this._route.params.subscribe(u=>{this.recordId=u.id,this.recordId&&this.getDetail()})}ngOnInit(){this.getList(),this.getStateList()}onDateChange(e,n){e&&e.detail&&e.detail.val&&(this.formData[n]=this.utilityService.convertDateToString(e.detail.val,this.dateFormat,!1))}getDetail(){this.loading.page=!0,this._configurationService.get(this.pageKey,this.recordId).subscribe({next:e=>{this.formData=e.item,e.list&&e.list.start_date&&(this.formData.start_date=this.utilityService.convertDateToString(new Date(e.list.start_date),this.dateFormat)),e.list&&e.list.end_date&&(this.formData.end_date=this.utilityService.convertDateToString(new Date(e.list.end_date),this.dateFormat)),this.loading.page=!1},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService),this.loading.page=!1}})}getStateList(){this._generalService.list("states").subscribe({next:e=>{this.stateList=e.list},error:e=>{}})}getList(){this.loading.sidebar=!0,this._configurationService.postList(this.pageKey,{}).subscribe({next:e=>{this.listData=e.list,this.loading.sidebar=!1},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService),this.loading.sidebar=!1}})}submitForm(e){e.valid&&(this.loading.button=!0,e.value.start_date&&(e.value.start_date=new Date(e.value.start_date+" 00:00:00").toISOString()),e.value.end_date&&(e.value.end_date=new Date(e.value.end_date+" 23:59:59").toISOString()),this.recordId?this._configurationService.update(this.pageKey,this.recordId,e.value).subscribe({next:n=>{this.getList(),this.loading.button=!1,this.utilityService.success(n.message,this._notifyService)},error:n=>{this.loading.button=!1;let r=this.utilityService.serverMessageHandler(n);this.utilityService.error(r,this._notifyService)}}):this._configurationService.add(this.pageKey,e.value).subscribe({next:n=>{this.getList(),this.loading.button=!1,this.utilityService.success(n.message,this._notifyService),e.submitted=!1,e.resetForm(),this.initFormData()},error:n=>{this.loading.button=!1;let r=this.utilityService.serverMessageHandler(n);this.utilityService.error(r,this._notifyService)}}))}initFormData(){this.formData={company_name:"",address_1:"",city:"",state:"",phone_number_1:"",phone_number_2:"",pin_code:"",email:"",website_url:"",pan_number:"",gst_number:""}}}U.\u0275fac=function(e){return new(e||U)(t.Y36(f.t),t.Y36(E.e),t.Y36(w.m),t.Y36(m.gz),t.Y36(_.c),t.Y36(d.sK))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-company-master"]],decls:264,vars:36,consts:[[4,"ngIf"],[1,"card","m-0","w-100"],[1,"card-header","d-flex","align-items-center","justify-content-between","flex-wrap"],["translate","",1,"page-heading","my-0"],["type","button","routerLink","/configuration/company-master/","m4-button","","btn-style","primary","class","mr-0",4,"ngIf"],[1,"card-content","pt-0"],[1,"row"],[1,"cell-3"],[1,"custom-scroll","overflow-x-hidden","p-2"],[1,"cell-9",3,"ngSubmit"],["form","ngForm"],[1,"cell-4"],[1,"form-group"],["for","company_name","translate","",1,"mb-0","mr-4"],[1,"required"],["type","text","name","company_name","id","company_name","required","",3,"ngModel","ngModelChange"],["company_name","ngModel"],[1,"required-wrapper"],["for","address_1","translate","",1,"mb-0","mr-4"],["type","text","name","address_1","id","address_1","required","",3,"ngModel","ngModelChange"],["address_1","ngModel"],["for","address_2","translate","",1,"mb-0","mr-4"],["type","text","name","address_2","id","address_2",3,"ngModel","ngModelChange"],[1,"cell-2"],["for","city","translate","",1,"mb-0","mr-4"],["type","text","name","city","id","city","required","",3,"ngModel","ngModelChange"],["city","ngModel"],["for","state","translate","",1,"mb-0","mr-4"],["name","state","id","state","bindLabel","state_name","bindValue","id",3,"items","ngModel","virtualScroll","selectOnTab","clearable","ngModelChange"],["state","ngModel"],["for","phone_number_1","translate","",1,"mb-0","mr-4"],["type","text","name","phone_number_1","id","phone_number_1","required","",3,"ngModel","ngModelChange"],["phone_number_1","ngModel"],["for","phone_number_2","translate","",1,"mb-0","mr-4"],["type","text","name","phone_number_2","id","phone_number_2",3,"ngModel","ngModelChange"],["for","pin_code","translate","",1,"mb-0","mr-4"],["type","text","name","pin_code","id","pin_code","minlength","6","maxlength","6","required","",3,"ngModel","pattern","ngModelChange"],["pin_code","ngModel"],["for","email","translate","",1,"mb-0","mr-4"],["type","text","name","email","id","email","required","",3,"ngModel","pattern","ngModelChange"],["email","ngModel"],["for","website_url","translate","",1,"mb-0","mr-4"],["type","text","name","website_url","id","website_url","required","",3,"ngModel","pattern","ngModelChange"],["website_url","ngModel"],["for","pan_number","translate","",1,"mb-0","mr-4"],["type","text","name","pan_number","id","pan_number","minlength","10","maxlength","10","required","",3,"ngModel"],["pan_number","ngModel"],["for","gst_number","translate","",1,"mb-0","mr-4"],["type","text","name","gst_number","id","gst_number","minlength","15","maxlength","15","required","",3,"ngModel","ngModelChange"],["gst_number","ngModel"],[1,"cell-12","mx-auto","text-right","my-0","mt-5"],["type","submit","m4-button","","btn-style","primary","class","btn-lg","translate","",4,"ngIf"],["type","button","m4-button","","btn-style","primary","class","btn-lg ml-3",4,"ngIf"],[1,"main-loader"],[1,"loader-body"],[1,"loader-square"],["type","button","routerLink","/configuration/company-master/","m4-button","","btn-style","primary",1,"mr-0"],[1,"mr-2","mif-add"],["translate",""],[3,"listType","listData","selected","idField","fieldName","url"],[1,"d-flex","align-items-center","side-loader"],["translate","",3,"translateParams",4,"ngIf"],["translate","",3,"translateParams"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg"],["type","button","m4-button","","btn-style","primary",1,"btn-lg","ml-3"],["icon","spinner","m4-animation","spin"]],template:function(e,n){if(1&e){const r=t.EpF();t.YNc(0,$,19,0,"ng-container",0),t._uU(1,"\n"),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"div",2),t._uU(5,"\n        "),t.TgZ(6,"h1",3),t._uU(7,"LOAD.COMPANIES"),t.qZA(),t._uU(8,"\n        "),t.YNc(9,B,4,0,"button",4),t._uU(10,"\n        "),t._UZ(11,"hr"),t._uU(12,"\n    "),t.qZA(),t._uU(13,"\n    "),t.TgZ(14,"div",5),t._uU(15,"\n        "),t.TgZ(16,"div",6),t._uU(17,"\n            "),t.TgZ(18,"div",7),t._uU(19,"\n                "),t.TgZ(20,"div",8),t._uU(21,"\n                    "),t.YNc(22,H,4,6,"ng-container",0),t._uU(23,"\n                    "),t.YNc(24,K,19,0,"ng-container",0),t._uU(25,"\n                "),t.qZA(),t._uU(26,"\n            "),t.qZA(),t._uU(27,"\n            "),t.TgZ(28,"form",9,10),t.NdJ("ngSubmit",function(){t.CHM(r);const a=t.MAs(29);return t.KtG(n.submitForm(a))}),t._uU(30,"\n                "),t.TgZ(31,"div",6),t._uU(32,"\n                    "),t.TgZ(33,"div",11),t._uU(34,"\n                        "),t.TgZ(35,"div",12),t._uU(36,"\n                            "),t.TgZ(37,"label",13),t._uU(38,"LOAD.COMPANY_NAME "),t.TgZ(39,"span",14),t._uU(40,"*"),t.qZA()(),t._uU(41,"\n                            "),t.TgZ(42,"input",15,16),t.NdJ("ngModelChange",function(a){return n.formData.company_name=a}),t.qZA(),t._uU(44,"\n                            "),t.TgZ(45,"div",17),t._uU(46,"\n                                "),t.YNc(47,G,4,1,"ng-container",0),t._uU(48,"\n                            "),t.qZA(),t._uU(49,"\n                        "),t.qZA(),t._uU(50,"\n                    "),t.qZA(),t._uU(51,"\n                    "),t.TgZ(52,"div",11),t._uU(53,"\n                        "),t.TgZ(54,"div",12),t._uU(55,"\n                            "),t.TgZ(56,"label",18),t._uU(57,"LOAD.ADDRESS_1"),t.TgZ(58,"span",14),t._uU(59,"*"),t.qZA()(),t._uU(60,"\n                            "),t.TgZ(61,"input",19,20),t.NdJ("ngModelChange",function(a){return n.formData.address_1=a}),t.qZA(),t._uU(63,"\n                            "),t.TgZ(64,"div",17),t._uU(65,"\n                                "),t.YNc(66,z,4,1,"ng-container",0),t._uU(67,"\n                            "),t.qZA(),t._uU(68,"\n                        "),t.qZA(),t._uU(69,"\n                    "),t.qZA(),t._uU(70,"\n                    "),t.TgZ(71,"div",11),t._uU(72,"\n                        "),t.TgZ(73,"div",12),t._uU(74,"\n                            "),t.TgZ(75,"label",21),t._uU(76,"LOAD.ADDRESS_2"),t.qZA(),t._uU(77,"\n                            "),t.TgZ(78,"input",22),t.NdJ("ngModelChange",function(a){return n.formData.address_2=a}),t.qZA(),t._uU(79,"\n                        "),t.qZA(),t._uU(80,"\n                    "),t.qZA(),t._uU(81,"\n                    "),t.TgZ(82,"div",23),t._uU(83,"\n                        "),t.TgZ(84,"div",12),t._uU(85,"\n                            "),t.TgZ(86,"label",24),t._uU(87,"LOAD.CITY "),t.TgZ(88,"span",14),t._uU(89,"*"),t.qZA()(),t._uU(90,"\n                            "),t.TgZ(91,"input",25,26),t.NdJ("ngModelChange",function(a){return n.formData.city=a}),t.qZA(),t._uU(93,"\n                            "),t.TgZ(94,"div",17),t._uU(95,"\n                                "),t.YNc(96,X,4,1,"ng-container",0),t._uU(97,"\n                            "),t.qZA(),t._uU(98,"\n                        "),t.qZA(),t._uU(99,"\n                    "),t.qZA(),t._uU(100,"\n                    "),t.TgZ(101,"div",23),t._uU(102,"\n                        "),t.TgZ(103,"div",12),t._uU(104,"\n                            "),t.TgZ(105,"label",27),t._uU(106,"LOAD.STATE "),t.TgZ(107,"span",14),t._uU(108,"*"),t.qZA()(),t._uU(109,"\n                            "),t.TgZ(110,"ng-select",28,29),t.NdJ("ngModelChange",function(a){return n.formData.state=a}),t.qZA(),t._uU(112,"\n                            "),t.TgZ(113,"div",17),t._uU(114,"\n                                "),t.YNc(115,nt,4,1,"ng-container",0),t._uU(116,"\n                            "),t.qZA(),t._uU(117,"\n                        "),t.qZA(),t._uU(118,"\n                    "),t.qZA(),t._uU(119,"\n                    "),t.TgZ(120,"div",23),t._uU(121,"\n                        "),t.TgZ(122,"div",12),t._uU(123,"\n                            "),t.TgZ(124,"label",30),t._uU(125,"LOAD.PHONE "),t.TgZ(126,"span"),t._uU(127,"1"),t.qZA(),t.TgZ(128,"span",14),t._uU(129,"*"),t.qZA()(),t._uU(130,"\n                            "),t.TgZ(131,"input",31,32),t.NdJ("ngModelChange",function(a){return n.formData.phone_number_1=a}),t.qZA(),t._uU(133,"\n                            "),t.TgZ(134,"div",17),t._uU(135,"\n                                "),t.YNc(136,it,4,1,"ng-container",0),t._uU(137,"\n                            "),t.qZA(),t._uU(138,"\n                        "),t.qZA(),t._uU(139,"\n                    "),t.qZA(),t._uU(140,"\n                    "),t.TgZ(141,"div",23),t._uU(142,"\n                        "),t.TgZ(143,"div",12),t._uU(144,"\n                            "),t.TgZ(145,"label",33),t._uU(146,"LOAD.PHONE "),t.TgZ(147,"span"),t._uU(148,"2"),t.qZA()(),t._uU(149,"\n                            "),t.TgZ(150,"input",34),t.NdJ("ngModelChange",function(a){return n.formData.phone_number_2=a}),t.qZA(),t._uU(151,"\n                        "),t.qZA(),t._uU(152,"\n                    "),t.qZA(),t._uU(153,"\n                    "),t.TgZ(154,"div",11),t._uU(155,"\n                        "),t.TgZ(156,"div",12),t._uU(157,"\n                            "),t.TgZ(158,"label",35),t._uU(159,"LOAD.PINCODE "),t.TgZ(160,"span",14),t._uU(161,"*"),t.qZA()(),t._uU(162,"\n                            "),t.TgZ(163,"input",36,37),t.NdJ("ngModelChange",function(a){return n.formData.pin_code=a}),t.qZA(),t._uU(165,"\n                            "),t.TgZ(166,"div",17),t._uU(167,"\n                                "),t.YNc(168,at,6,2,"ng-container",0),t._uU(169,"\n                            "),t.qZA(),t._uU(170,"\n                        "),t.qZA(),t._uU(171,"\n                    "),t.qZA(),t._uU(172,"\n                    "),t._uU(173,"\n                    "),t.TgZ(174,"div",11),t._uU(175,"\n                        "),t.TgZ(176,"div",12),t._uU(177,"\n                            "),t.TgZ(178,"label",38),t._uU(179,"LOAD.EMAIL "),t.TgZ(180,"span",14),t._uU(181,"*"),t.qZA()(),t._uU(182,"\n                            "),t.TgZ(183,"input",39,40),t.NdJ("ngModelChange",function(a){return n.formData.email=a}),t.qZA(),t._uU(185,"\n                            "),t.TgZ(186,"div",17),t._uU(187,"\n                                "),t.YNc(188,_t,6,2,"ng-container",0),t._uU(189,"\n                            "),t.qZA(),t._uU(190,"\n                        "),t.qZA(),t._uU(191,"\n                    "),t.qZA(),t._uU(192,"\n                    "),t.TgZ(193,"div",11),t._uU(194,"\n                        "),t.TgZ(195,"div",12),t._uU(196,"\n                            "),t.TgZ(197,"label",41),t._uU(198,"LOAD.WEBSITE "),t.TgZ(199,"span",14),t._uU(200,"*"),t.qZA()(),t._uU(201,"\n                            "),t.TgZ(202,"input",42,43),t.NdJ("ngModelChange",function(a){return n.formData.website_url=a}),t.qZA(),t._uU(204,"\n                            "),t.TgZ(205,"div",17),t._uU(206,"\n                                "),t.YNc(207,dt,6,2,"ng-container",0),t._uU(208,"\n                            "),t.qZA(),t._uU(209,"\n                        "),t.qZA(),t._uU(210,"\n                    "),t.qZA(),t._uU(211,"\n                    "),t.TgZ(212,"div",11),t._uU(213,"\n                        "),t.TgZ(214,"div",12),t._uU(215,"\n                            "),t.TgZ(216,"label",44),t._uU(217,"LOAD.PAN_NO "),t.TgZ(218,"span",14),t._uU(219,"*"),t.qZA()(),t._uU(220,"\n                            "),t._UZ(221,"input",45,46),t._uU(223,"\n                            "),t.TgZ(224,"div",17),t._uU(225,"\n                                "),t.YNc(226,pt,6,2,"ng-container",0),t._uU(227,"\n                            "),t.qZA(),t._uU(228,"\n                        "),t.qZA(),t._uU(229,"\n                    "),t.qZA(),t._uU(230,"\n                    "),t._uU(231,"\n                    "),t.TgZ(232,"div",11),t._uU(233,"\n                        "),t.TgZ(234,"div",12),t._uU(235,"\n                            "),t.TgZ(236,"label",47),t._uU(237,"LOAD.GST_NO "),t.TgZ(238,"span",14),t._uU(239,"*"),t.qZA()(),t._uU(240,"\n                            "),t.TgZ(241,"input",48,49),t.NdJ("ngModelChange",function(a){return n.formData.gst_number=a}),t.qZA(),t._uU(243,"\n                            "),t.TgZ(244,"div",17),t._uU(245,"\n                                "),t.YNc(246,Ut,6,2,"ng-container",0),t._uU(247,"\n                            "),t.qZA(),t._uU(248,"\n                        "),t.qZA(),t._uU(249,"\n                    "),t.qZA(),t._uU(250,"\n                    \n                    "),t.TgZ(251,"div",50),t._uU(252,"\n                        "),t.YNc(253,Zt,2,0,"button",51),t._uU(254,"\n                        "),t.YNc(255,bt,2,0,"button",51),t._uU(256,"\n                        "),t.YNc(257,Tt,2,0,"button",52),t._uU(258,"\n                    "),t.qZA(),t._uU(259,"\n                "),t.qZA(),t._uU(260,"\n            "),t.qZA(),t._uU(261,"\n        "),t.qZA(),t._uU(262,"\n    "),t.qZA(),t._uU(263,"\n"),t.qZA()}if(2&e){const r=t.MAs(29),o=t.MAs(43),a=t.MAs(62),l=t.MAs(92),u=t.MAs(111),h=t.MAs(132),S=t.MAs(164),I=t.MAs(184),O=t.MAs(203),P=t.MAs(222),N=t.MAs(242);t.Q6J("ngIf",n.loading.page),t.xp6(9),t.Q6J("ngIf",n.recordId),t.xp6(13),t.Q6J("ngIf",!n.loading.sidebar&&n.listData),t.xp6(2),t.Q6J("ngIf",n.loading.sidebar),t.xp6(18),t.Q6J("ngModel",n.formData.company_name),t.xp6(5),t.Q6J("ngIf",(null==o?null:o.errors)&&(o.dirty||o.touched||r.submitted)),t.xp6(14),t.Q6J("ngModel",n.formData.address_1),t.xp6(5),t.Q6J("ngIf",(null==a?null:a.errors)&&(a.dirty||a.touched||r.submitted)),t.xp6(12),t.Q6J("ngModel",n.formData.address_2),t.xp6(13),t.Q6J("ngModel",n.formData.city),t.xp6(5),t.Q6J("ngIf",(null==l?null:l.errors)&&(l.dirty||l.touched||r.submitted)),t.xp6(14),t.Q6J("items",n.stateList)("ngModel",n.formData.state)("virtualScroll",!0)("selectOnTab",!0)("clearable",!1),t.xp6(5),t.Q6J("ngIf",((null==u?null:u.errors)||0==n.formData.state)&&(u.dirty||u.touched||r.submitted)),t.xp6(16),t.Q6J("ngModel",n.formData.phone_number_1),t.xp6(5),t.Q6J("ngIf",(null==h?null:h.errors)&&(h.dirty||h.touched||r.submitted)),t.xp6(14),t.Q6J("ngModel",n.formData.phone_number_2),t.xp6(13),t.Q6J("ngModel",n.formData.pin_code)("pattern",n.utilityService.regex.numeric),t.xp6(5),t.Q6J("ngIf",(null==S?null:S.errors)&&(S.dirty||S.touched||r.submitted)),t.xp6(15),t.Q6J("ngModel",n.formData.email)("pattern",n.utilityService.regex.email),t.xp6(5),t.Q6J("ngIf",(null==I?null:I.errors)&&(I.dirty||I.touched||r.submitted)),t.xp6(14),t.Q6J("ngModel",n.formData.website_url)("pattern",n.utilityService.regex.siteURL),t.xp6(5),t.Q6J("ngIf",(null==O?null:O.errors)&&(O.dirty||O.touched||r.submitted)),t.xp6(14),t.Q6J("ngModel",n.formData.pan_number),t.xp6(5),t.Q6J("ngIf",(null==P?null:P.errors)&&(P.dirty||P.touched||r.submitted)),t.xp6(15),t.Q6J("ngModel",n.formData.gst_number),t.xp6(5),t.Q6J("ngIf",(null==N?null:N.errors)&&(N.dirty||N.touched||r.submitted)),t.xp6(7),t.Q6J("ngIf",!n.loading.button&&n.recordId),t.xp6(2),t.Q6J("ngIf",!n.loading.button&&!n.recordId),t.xp6(2),t.Q6J("ngIf",n.loading.button)}},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.c5,s.On,s.F,y.w9,_.Hq,_.oJ,_.Vy,q.Z,d.Pi,m.rH,d.X$]});class x{constructor(e,n,r){this.utilityService=e,this._generalService=n,this._notifyService=r,this.pageKey="print-setting",this.printList=[],this.formData={},this.printList=this.utilityService.convertObjTotArrWithNumValue(this.utilityService.printFormat)}ngOnInit(){this.formData={cash_booking:1,account_booking:1,manifax:1,drs:1,account_bill:1,packing_slip:1,quotation:1,document_return:1},this.getPrintSetting()}getPrintSetting(){this._generalService.get(this.pageKey,null).subscribe({next:e=>{this.formData.cash_booking=e?.item?.cash_booking||1,this.formData.account_booking=e?.item?.account_booking||1,this.formData.manifax=e?.item?.manifax||1,this.formData.drs=e?.item?.drs||1,this.formData.account_bill=e?.item?.account_bill||1,this.formData.packing_slip=e?.item?.packing_slip||1,this.formData.quotation=e?.item?.quotation||1,this.formData.document_return=e?.item?.document_return||1},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService)}})}onSubmit(e){e.valid&&this._generalService.add(this.pageKey,this.formData).subscribe({next:n=>{this.utilityService.success(n.message,this._notifyService)},error:n=>{let r=this.utilityService.serverMessageHandler(n);this.utilityService.error(r,this._notifyService)}})}}x.\u0275fac=function(e){return new(e||x)(t.Y36(f.t),t.Y36(w.m),t.Y36(_.c))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-print-setting"]],decls:115,vars:32,consts:[[1,"row","mx-0","mt-10","print-setting","align-items-center"],[1,"cell-6","mx-auto"],[1,"card","form-box",3,"submit"],["form","ngForm"],["translate","",1,"card-header"],[1,"card-content","pt-0"],[1,"row"],[1,"cell-6"],[1,"form-group","mb-2"],["translate","",1,"mb-1","d-inline-block"],["name","cash_booking","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","account_booking","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","manifax","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","drs","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","account_bill","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","packing_slip","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","quotation","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["name","document_return","bindValue","value","bindLabel","title",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],[1,"row","mt-4"],[1,"cell-12","d-flex","justify-content-end"],["type","submit","btn-style","primary","translate","",1,"button","primary"]],template:function(e,n){if(1&e){const r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n    "),t.TgZ(2,"div",1),t._uU(3,"\n        "),t.TgZ(4,"form",2,3),t.NdJ("submit",function(){t.CHM(r);const a=t.MAs(5);return t.KtG(n.onSubmit(a))}),t._uU(6,"\n            "),t.TgZ(7,"div",4),t._uU(8,"LOAD.PRINT_SETUP"),t.qZA(),t._uU(9,"\n            "),t.TgZ(10,"div",5),t._uU(11,"\n                "),t.TgZ(12,"div",6),t._uU(13,"\n                    "),t.TgZ(14,"div",7),t._uU(15,"\n                        "),t.TgZ(16,"div",8),t._uU(17,"\n                            "),t.TgZ(18,"label",9),t._uU(19,"LOAD.CASH_BOOKING_PRINT"),t.qZA(),t._uU(20,"\n                            "),t.TgZ(21,"ng-select",10),t.NdJ("ngModelChange",function(a){return n.formData.cash_booking=a}),t.qZA(),t._uU(22,"\n                        "),t.qZA(),t._uU(23,"\n                    "),t.qZA(),t._uU(24,"\n                    "),t.TgZ(25,"div",7),t._uU(26,"\n                        "),t.TgZ(27,"div",8),t._uU(28,"\n                            "),t.TgZ(29,"label",9),t._uU(30,"LOAD.PARTY_BOOKING_PRINT"),t.qZA(),t._uU(31,"\n                            "),t.TgZ(32,"ng-select",11),t.NdJ("ngModelChange",function(a){return n.formData.account_booking=a}),t.qZA(),t._uU(33,"\n                        "),t.qZA(),t._uU(34,"\n                    "),t.qZA(),t._uU(35,"\n                    "),t.TgZ(36,"div",7),t._uU(37,"\n                        "),t.TgZ(38,"div",8),t._uU(39,"\n                            "),t.TgZ(40,"label",9),t._uU(41,"LOAD.MANIFAX_PRINT"),t.qZA(),t._uU(42,"\n                            "),t.TgZ(43,"ng-select",12),t.NdJ("ngModelChange",function(a){return n.formData.manifax=a}),t.qZA(),t._uU(44,"\n                        "),t.qZA(),t._uU(45,"\n                    "),t.qZA(),t._uU(46,"\n                    "),t.TgZ(47,"div",7),t._uU(48,"\n                        "),t.TgZ(49,"div",8),t._uU(50,"\n                            "),t.TgZ(51,"label",9),t._uU(52,"LOAD.DRS_PRINT"),t.qZA(),t._uU(53,"\n                            "),t.TgZ(54,"ng-select",13),t.NdJ("ngModelChange",function(a){return n.formData.drs=a}),t.qZA(),t._uU(55,"\n                        "),t.qZA(),t._uU(56,"\n                    "),t.qZA(),t._uU(57,"\n                    "),t.TgZ(58,"div",7),t._uU(59,"\n                        "),t.TgZ(60,"div",8),t._uU(61,"\n                            "),t.TgZ(62,"label",9),t._uU(63,"LOAD.PARTY_BILL_PRINT"),t.qZA(),t._uU(64,"\n                            "),t.TgZ(65,"ng-select",14),t.NdJ("ngModelChange",function(a){return n.formData.account_bill=a}),t.qZA(),t._uU(66,"\n                        "),t.qZA(),t._uU(67,"\n                    "),t.qZA(),t._uU(68,"\n                    "),t.TgZ(69,"div",7),t._uU(70,"\n                        "),t.TgZ(71,"div",8),t._uU(72,"\n                            "),t.TgZ(73,"label",9),t._uU(74,"LOAD.PACKING_SLIP"),t.qZA(),t._uU(75,"\n                            "),t.TgZ(76,"ng-select",15),t.NdJ("ngModelChange",function(a){return n.formData.packing_slip=a}),t.qZA(),t._uU(77,"\n                        "),t.qZA(),t._uU(78,"\n                    "),t.qZA(),t._uU(79,"\n                    "),t.TgZ(80,"div",7),t._uU(81,"\n                        "),t.TgZ(82,"div",8),t._uU(83,"\n                            "),t.TgZ(84,"label",9),t._uU(85,"LOAD.QUOTATION"),t.qZA(),t._uU(86,"\n                            "),t.TgZ(87,"ng-select",16),t.NdJ("ngModelChange",function(a){return n.formData.quotation=a}),t.qZA(),t._uU(88,"\n                        "),t.qZA(),t._uU(89,"\n                    "),t.qZA(),t._uU(90,"\n                    "),t.TgZ(91,"div",7),t._uU(92,"\n                        "),t.TgZ(93,"div",8),t._uU(94,"\n                            "),t.TgZ(95,"label",9),t._uU(96,"LOAD.DOCUMENT_RETURN_SLIP"),t.qZA(),t._uU(97,"\n                            "),t.TgZ(98,"ng-select",17),t.NdJ("ngModelChange",function(a){return n.formData.document_return=a}),t.qZA(),t._uU(99,"\n                        "),t.qZA(),t._uU(100,"\n                    "),t.qZA(),t._uU(101,"\n                "),t.qZA(),t._uU(102,"\n                "),t.TgZ(103,"div",18),t._uU(104,"\n                    "),t.TgZ(105,"div",19),t._uU(106,"\n                        "),t.TgZ(107,"button",20),t._uU(108,"LOAD.SAVE"),t.qZA(),t._uU(109,"\n                    "),t.qZA(),t._uU(110,"\n                "),t.qZA(),t._uU(111,"\n            "),t.qZA(),t._uU(112,"\n        "),t.qZA(),t._uU(113,"\n    "),t.qZA(),t._uU(114,"\n"),t.qZA()}2&e&&(t.xp6(21),t.Q6J("items",n.printList)("ngModel",n.formData.cash_booking)("selectOnTab",!0)("clearable",!1),t.xp6(11),t.Q6J("items",n.printList)("ngModel",n.formData.account_booking)("selectOnTab",!0)("clearable",!1),t.xp6(11),t.Q6J("items",n.printList)("ngModel",n.formData.manifax)("selectOnTab",!0)("clearable",!1),t.xp6(11),t.Q6J("items",n.printList)("ngModel",n.formData.drs)("selectOnTab",!0)("clearable",!1),t.xp6(11),t.Q6J("items",n.printList)("ngModel",n.formData.account_bill)("selectOnTab",!0)("clearable",!1),t.xp6(11),t.Q6J("items",n.printList)("ngModel",n.formData.packing_slip)("selectOnTab",!0)("clearable",!1),t.xp6(11),t.Q6J("items",n.printList)("ngModel",n.formData.quotation)("selectOnTab",!0)("clearable",!1),t.xp6(11),t.Q6J("items",n.printList)("ngModel",n.formData.document_return)("selectOnTab",!0)("clearable",!1))},dependencies:[s._Y,s.JJ,s.JL,s.On,s.F,y.w9,d.Pi],styles:[".print-setting[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:auto;padding:10px 25px;line-height:1.5}"]});var F=c(33963);function At(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                            "),t._UZ(2,"app-side-list",30),t._uU(3,"\n                        "),t.BQk()),2&i){const n=t.oxw(2);t.xp6(2),t.Q6J("listType","list")("listData",n.listData)("selected",n.formData.id)("idField","id")("fieldName","name")("url","/configuration/permissions/")}}function vt(i,e){1&i&&(t.ynx(0),t._uU(1,"\n                            "),t.TgZ(2,"div",31),t._uU(3,"\n                                "),t.TgZ(4,"div",32),t._uU(5,"\n                                    "),t.TgZ(6,"div",33),t._uU(7,"\n                                        "),t._UZ(8,"div"),t._uU(9,"\n                                        "),t._UZ(10,"div"),t._uU(11,"\n                                        "),t._UZ(12,"div"),t._uU(13,"\n                                        "),t._UZ(14,"div"),t._uU(15,"\n                                    "),t.qZA(),t._uU(16,"\n                                "),t.qZA(),t._uU(17,"\n                            "),t.qZA(),t._uU(18,"\n                        "),t.BQk())}function Mt(i,e){if(1&i&&(t.TgZ(0,"div",29),t._uU(1,"\n                        "),t.YNc(2,At,4,6,"ng-container",18),t._uU(3,"\n                        "),t.YNc(4,vt,19,0,"ng-container",18),t._uU(5,"\n                    "),t.qZA()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",!n.loading.sidebar),t.xp6(2),t.Q6J("ngIf",n.loading.sidebar)}}const Ct=function(i){return{field:i}};function yt(i,e){1&i&&(t.TgZ(0,"p",35),t.ALo(1,"translate"),t._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,Ct,t.lcZ(1,1,"FORM.LABEL.ROLE_NAME")))}function xt(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                        "),t.YNc(2,yt,3,5,"p",34),t._uU(3,"\n                                    "),t.BQk()),2&i){t.oxw();const n=t.MAs(41);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required)}}function Dt(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"div",38),t._uU(1,"\n                                                "),t.TgZ(2,"label",21),t._uU(3,"\n                                                    "),t.TgZ(4,"input",39),t.NdJ("click",function(){const a=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.changePermission(a.value))}),t.qZA(),t._uU(5,"\n                                                    "),t._UZ(6,"span",23),t._uU(7,"\n                                                    "),t.TgZ(8,"span",24),t._uU(9),t.qZA(),t._uU(10,"\n                                                "),t.qZA(),t._uU(11,"\n                                            "),t.qZA()}if(2&i){const n=e.$implicit,r=t.oxw(2);t.xp6(4),t.Q6J("checked",r.formData.permissions.indexOf(n.value)>-1)("name",n.name)("id",n.name),t.xp6(5),t.Oqu(n.label)}}function qt(i,e){if(1&i&&(t.TgZ(0,"tr"),t._uU(1,"\n                                        "),t.TgZ(2,"th",36),t._uU(3),t.qZA(),t._uU(4,"\n                                        "),t.TgZ(5,"td"),t._uU(6,"\n                                            "),t.YNc(7,Dt,12,4,"div",37),t._uU(8,"\n                                        "),t.qZA(),t._uU(9,"\n                                    "),t.qZA()),2&i){const n=e.$implicit;t.xp6(3),t.Oqu(n.title),t.xp6(4),t.Q6J("ngForOf",n.permissions)}}function Lt(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2),a=t.MAs(27);return t.KtG(o.submitForm(a))}),t._uU(1,"LOAD.UPDATE"),t.qZA()}}function St(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2),a=t.MAs(27);return t.KtG(o.submitForm(a))}),t._uU(1,"LOAD.CREATE"),t.qZA()}}function It(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                    "),t.YNc(2,Lt,2,0,"button",40),t._uU(3,"\n                    "),t._uU(4,"\n                    "),t.YNc(5,St,2,0,"button",41),t._uU(6,"\n                "),t.BQk()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.recordId),t.xp6(3),t.Q6J("ngIf",!n.recordId)}}function Ot(i,e){1&i&&(t.ynx(0),t._uU(1,"\n                    "),t.TgZ(2,"button",44),t._UZ(3,"m4-icon",45),t.qZA(),t._uU(4,"\n                "),t.BQk())}const Pt=function(){return["/configuration/permissions"]};class Z{constructor(e,n,r,o,a,l){this.utilityService=e,this._superMasterService=n,this._route=r,this._notifyService=o,this._translateService=a,this._dialogService=l,this.permissionData=[],this.formData={},this.listData=[],this.pageKey="permissions",this.loading={sidebar:!1,button:!1,page:!1},this.dateFormat=this.utilityService.datePickerFormat[2],this._notifyService.setup(this.utilityService.notifyConfig),this.initFormData(),this._route.params.subscribe(u=>{this.recordId=u.id,this.recordId&&this.getDetail()})}ngOnInit(){this.initPermissions(),this.getList()}getDetail(){this.loading.page=!0,this._superMasterService.get(this.pageKey,this.recordId).subscribe({next:e=>{this.formData=e.item,this.loading.page=!1},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService),this.loading.page=!1}})}getList(){this.loading.sidebar=!0,this._superMasterService.postList(this.pageKey,{is_admin:!0}).subscribe({next:e=>{this.listData=e.list,this.loading.sidebar=!1},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService),this.loading.sidebar=!1}})}submitForm(e){e.submitted=!0,e.valid&&(this.loading.button=!0,this.recordId?this._superMasterService.update(this.pageKey,this.recordId,this.formData).subscribe({next:n=>{this.getList(),this.utilityService.success(n.message,this._notifyService),this.loading.button=!1},error:n=>{let r=this.utilityService.serverMessageHandler(n);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}):this._superMasterService.add(this.pageKey,this.formData).subscribe({next:n=>{this.loading.button=!1,this.utilityService.success(n.message,this._notifyService),this.getList(),e.submitted=!1,e.resetForm(),setTimeout(()=>{this.initFormData()},0)},error:n=>{let r=this.utilityService.serverMessageHandler(n);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}))}initFormData(){this.formData={name:"",is_admin:!0,permissions:[]}}initPermissions(){this.permissionData=this.utilityService.permissionList.filter(e=>e.type.includes(C.GD.ADM))}changePermission(e){const n=this.formData.permissions.indexOf(e);n>-1?this.formData.permissions.splice(n,1):this.formData.permissions.push(e)}selectAllPermission(){const e=[];this.permissionData.forEach(n=>{n.permissions.forEach(r=>{e.push(r.value)})}),this.formData.permissions=e}deSelectAllPermission(){this.formData.permissions=[]}changedSelectAll(e){e?.target?.checked?this.selectAllPermission():this.deSelectAllPermission()}}Z.\u0275fac=function(e){return new(e||Z)(t.Y36(f.t),t.Y36(F.a),t.Y36(m.gz),t.Y36(_.c),t.Y36(d.sK),t.Y36(_.xA))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-user-permissions"]],decls:89,vars:8,consts:[[1,"card","m-0","w-100"],[1,"card-header","d-flex","align-items-center","justify-content-between","flex-wrap","pb-0","pt-3"],["translate","",1,"page-heading","my-0"],["type","button","m4-button","","btn-style","primary",1,"mr-0",3,"routerLink"],[1,"mr-2","mif-add"],["translate",""],[1,"card-content","pt-0"],[1,"row"],[1,"cell-3"],["class","custom-scroll overflow-x-hidden p-2",4,"ngIf"],[1,"cell-9"],["form","ngForm"],[1,"form-group"],["for","role_name","translate",""],[1,"required"],["type","text","name","role_name","id","role_name","placeholder","Enter Role Name","required","",3,"ngModel","ngModelChange"],["roleName","ngModel"],[1,"required-wrapper"],[4,"ngIf"],[1,"cell-12"],[1,"d-flex","align-items-right"],[1,"checkbox","transition-on","mr-2"],["type","checkbox","value","1",3,"change"],[1,"check"],["translate","",1,"caption"],[1,"table"],[4,"ngFor","ngForOf"],[1,"sticky-buttons","py-5"],[1,"cell-12","text-right","px-0"],[1,"custom-scroll","overflow-x-hidden","p-2"],[3,"listType","listData","selected","idField","fieldName","url"],[1,"d-flex","align-items-center","side-loader"],[1,"loader-body"],[1,"loader-square"],["translate","",3,"translateParams",4,"ngIf"],["translate","",3,"translateParams"],["translate","",1,"text-left"],["class","",4,"ngFor","ngForOf"],[1,""],["type","checkbox",3,"checked","name","id","click"],["type","submit","m4-button","","btn-style","primary","class","btn-lg mr-1","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","class","btn-lg","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg","mr-1",3,"click"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg",3,"click"],["type","button","m4-button","","btn-style","primary",1,"btn-lg","ml-3"],["icon","spinner","m4-animation","spin"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t._uU(1,"\n    "),t.TgZ(2,"div",1),t._uU(3,"\n        "),t.TgZ(4,"h1",2),t._uU(5,"FORM.HEADER.ADMIN_PERMISSIONS_MANAGEMENT"),t.qZA(),t._uU(6,"\n        "),t.TgZ(7,"button",3),t._UZ(8,"i",4),t.TgZ(9,"span",5),t._uU(10,"LOAD.ADD_NEW"),t.qZA()(),t._uU(11,"\n        "),t._UZ(12,"hr"),t._uU(13,"\n    "),t.qZA(),t._uU(14,"\n    "),t.TgZ(15,"form"),t._uU(16,"\n        "),t.TgZ(17,"div",6),t._uU(18,"\n            "),t.TgZ(19,"div",7),t._uU(20,"\n                "),t.TgZ(21,"div",8),t._uU(22,"\n                    "),t.YNc(23,Mt,6,2,"div",9),t._uU(24,"\n                "),t.qZA(),t._uU(25,"\n                "),t.TgZ(26,"form",10,11),t._uU(28,"\n\n                    "),t.TgZ(29,"div",7),t._uU(30,"\n                        "),t.TgZ(31,"div",8),t._uU(32,"\n                            "),t.TgZ(33,"div",12),t._uU(34,"\n                                "),t.TgZ(35,"label",13),t._uU(36,"FORM.LABEL.ROLE_NAME "),t.TgZ(37,"span",14),t._uU(38,"*"),t.qZA()(),t._uU(39,"\n                                "),t.TgZ(40,"input",15,16),t.NdJ("ngModelChange",function(o){return n.formData.name=o}),t.qZA(),t._uU(42,"\n                                "),t.TgZ(43,"div",17),t._uU(44,"\n                                    "),t.YNc(45,xt,4,1,"ng-container",18),t._uU(46,"\n                                "),t.qZA(),t._uU(47,"\n                            "),t.qZA(),t._uU(48,"\n                        "),t.qZA(),t._uU(49,"\n                        "),t.TgZ(50,"div",19),t._uU(51,"\n                            "),t.TgZ(52,"div",20),t._uU(53,"\n                                "),t.TgZ(54,"label",21),t._uU(55,"\n                                    "),t.TgZ(56,"input",22),t.NdJ("change",function(o){return n.changedSelectAll(o)}),t.qZA(),t._uU(57,"\n                                    "),t._UZ(58,"span",23),t._uU(59,"\n                                    "),t.TgZ(60,"span",24),t._uU(61,"LOAD.SELECT_ALL"),t.qZA(),t._uU(62,"\n                                "),t.qZA(),t._uU(63,"\n                            "),t.qZA(),t._uU(64,"\n                            "),t.TgZ(65,"table",25),t._uU(66,"\n                                "),t.TgZ(67,"tbody"),t._uU(68,"\n                                    "),t.YNc(69,qt,10,2,"tr",26),t._uU(70,"\n                                "),t.qZA(),t._uU(71,"\n                            "),t.qZA(),t._uU(72,"\n                        "),t.qZA(),t._uU(73,"\n                    "),t.qZA(),t._uU(74,"\n                "),t.qZA(),t._uU(75,"\n            "),t.qZA(),t._uU(76,"\n        "),t.qZA(),t._uU(77,"\n        "),t.TgZ(78,"div",27),t._uU(79,"\n            "),t.TgZ(80,"div",28),t._uU(81,"\n                "),t.YNc(82,It,7,2,"ng-container",18),t._uU(83,"\n                "),t.YNc(84,Ot,5,0,"ng-container",18),t._uU(85,"\n            "),t.qZA(),t._uU(86,"\n        "),t.qZA(),t._uU(87,"\n    "),t.qZA(),t._uU(88,"\n"),t.qZA()),2&e){const r=t.MAs(27),o=t.MAs(41);t.xp6(7),t.Q6J("routerLink",t.DdM(7,Pt)),t.xp6(16),t.Q6J("ngIf",n.listData),t.xp6(17),t.Q6J("ngModel",n.formData.name),t.xp6(5),t.Q6J("ngIf",(null==o?null:o.errors)&&(o.dirty||o.touched||r.submitted)),t.xp6(24),t.Q6J("ngForOf",n.permissionData),t.xp6(13),t.Q6J("ngIf",!n.loading.button),t.xp6(2),t.Q6J("ngIf",n.loading.button)}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,_.Hq,_.oJ,_.Vy,q.Z,d.Pi,m.rH,d.X$],styles:["table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;vertical-align:top;font-size:12px!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:1px solid #ddd}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:1px solid #ddd}table[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:12px!important;line-height:1.5;white-space:nowrap}.goods-type[_ngcontent-%COMP%]{padding-bottom:0!important}.goods-type[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]});var Y=c(59212),Nt=c(20434);function Qt(i,e){1&i&&(t.ynx(0),t._uU(1,"\n    "),t.TgZ(2,"div",39),t._uU(3,"\n        "),t.TgZ(4,"div",40),t._uU(5,"\n            "),t.TgZ(6,"div",41),t._uU(7,"\n                "),t._UZ(8,"div"),t._uU(9,"\n                "),t._UZ(10,"div"),t._uU(11,"\n                "),t._UZ(12,"div"),t._uU(13,"\n                "),t._UZ(14,"div"),t._uU(15,"\n            "),t.qZA(),t._uU(16,"\n        "),t.qZA(),t._uU(17,"\n    "),t.qZA(),t._uU(18,"\n"),t.BQk())}function Jt(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                            "),t._UZ(2,"app-side-list",43),t._uU(3,"\n                        "),t.BQk()),2&i){const n=t.oxw(2);t.xp6(2),t.Q6J("listType","list")("listData",n.listData)("selected",n.formData.id)("idField","user_id")("fieldName","full_name")("url","/configuration/user-management/")}}function Et(i,e){1&i&&(t.ynx(0),t._uU(1,"\n                            "),t.TgZ(2,"div",44),t._uU(3,"\n                                "),t.TgZ(4,"div",40),t._uU(5,"\n                                    "),t.TgZ(6,"div",41),t._uU(7,"\n                                        "),t._UZ(8,"div"),t._uU(9,"\n                                        "),t._UZ(10,"div"),t._uU(11,"\n                                        "),t._UZ(12,"div"),t._uU(13,"\n                                        "),t._UZ(14,"div"),t._uU(15,"\n                                    "),t.qZA(),t._uU(16,"\n                                "),t.qZA(),t._uU(17,"\n                            "),t.qZA(),t._uU(18,"\n                        "),t.BQk())}function wt(i,e){if(1&i&&(t.TgZ(0,"div",42),t._uU(1,"\n                        "),t.YNc(2,Jt,4,6,"ng-container",0),t._uU(3,"\n                        "),t.YNc(4,Et,19,0,"ng-container",0),t._uU(5,"\n                    "),t.qZA()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",!n.loading.sidebar),t.xp6(2),t.Q6J("ngIf",n.loading.sidebar)}}const L=function(i){return{field:i}};function Ft(i,e){1&i&&(t.TgZ(0,"p",46),t.ALo(1,"translate"),t._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,L,t.lcZ(1,1,"FORM.LABEL.FULL_NAME")))}function Yt(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                        "),t.YNc(2,Ft,3,5,"p",45),t._uU(3,"\n                                    "),t.BQk()),2&i){t.oxw();const n=t.MAs(43);t.xp6(2),t.Q6J("ngIf",n.errors.required)}}function kt(i,e){1&i&&(t.TgZ(0,"p",46),t.ALo(1,"translate"),t._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,L,t.lcZ(1,1,"FORM.LABEL.USERNAME")))}function Rt(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                        "),t.YNc(2,kt,3,5,"p",45),t._uU(3,"\n                                    "),t.BQk()),2&i){t.oxw();const n=t.MAs(62);t.xp6(2),t.Q6J("ngIf",n.errors.required)}}function $t(i,e){1&i&&(t.TgZ(0,"p",46),t.ALo(1,"translate"),t._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,L,t.lcZ(1,1,"FORM.LABEL.PASSWORD")))}function Bt(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                        "),t.YNc(2,$t,3,5,"p",45),t._uU(3,"\n                                    "),t.BQk()),2&i){t.oxw();const n=t.MAs(10);t.xp6(2),t.Q6J("ngIf",n.errors.required)}}function Ht(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"div",13),t._uU(1,"\n                            "),t.TgZ(2,"div",14),t._uU(3,"\n                                "),t.TgZ(4,"label",47),t._uU(5,"FORM.LABEL.PASSWORD"),t.TgZ(6,"span",16),t._uU(7,"*"),t.qZA()(),t._uU(8,"\n                                "),t.TgZ(9,"input",48,49),t.NdJ("ngModelChange",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.formData.password=o)}),t.qZA(),t._uU(11,"\n                                "),t.TgZ(12,"div",19),t._uU(13,"\n                                    "),t.YNc(14,Bt,4,1,"ng-container",0),t._uU(15,"\n                                "),t.qZA(),t._uU(16,"\n                            "),t.qZA(),t._uU(17,"\n                        "),t.qZA()}if(2&i){const n=t.MAs(10),r=t.oxw(),o=t.MAs(29);t.xp6(9),t.Q6J("ngModel",r.formData.password),t.xp6(5),t.Q6J("ngIf",n.errors&&(n.dirty||n.touched||o.submitted))}}function Kt(i,e){1&i&&(t.TgZ(0,"p",46),t.ALo(1,"translate"),t._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,L,t.lcZ(1,1,"FORM.LABEL.PERMISSION")))}function Vt(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                        "),t.YNc(2,Kt,3,5,"p",45),t._uU(3,"\n                                    "),t.BQk()),2&i){t.oxw();const n=t.MAs(86);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required)}}function Gt(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"div",50),t._uU(1,"\n                            "),t.TgZ(2,"label",51),t._uU(3,"\n                                "),t.TgZ(4,"input",52),t.NdJ("ngModelChange",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.isResetPassword=o)}),t.qZA(),t._uU(5,"\n                                "),t._UZ(6,"span",53),t._uU(7,"\n                                "),t.TgZ(8,"span",54),t._uU(9,"LOAD.RESET_PASSWORD"),t.qZA(),t._uU(10,"\n                            "),t.qZA(),t._uU(11,"\n                        "),t.qZA()}if(2&i){const n=t.oxw();t.xp6(4),t.Q6J("ngModel",n.isResetPassword)}}function Wt(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"div",9),t._uU(1,"\n                                "),t.TgZ(2,"label",61),t._uU(3,"\n                                    "),t.TgZ(4,"input",62),t.NdJ("click",function(){const a=t.CHM(n).$implicit,l=t.oxw().$implicit,u=t.oxw(2);return t.KtG(u.checkedChanged(l,a))}),t.qZA(),t._uU(5,"\n                                    "),t._UZ(6,"span",53),t._uU(7,"\n                                    "),t.TgZ(8,"span",59),t._uU(9),t.qZA(),t._uU(10,"\n                                "),t.qZA(),t._uU(11,"\n                            "),t.qZA()}if(2&i){const n=e.$implicit,r=t.oxw(3);t.xp6(4),t.Q6J("name",n.center_id)("checked",r.formData.branch_id.includes(n.center_id)),t.xp6(5),t.Oqu(n.center_name)}}function zt(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"div",8),t._uU(1,"\n                            "),t.TgZ(2,"div",56),t._uU(3,"\n                                "),t.TgZ(4,"label",57),t._uU(5,"\n                                    "),t.TgZ(6,"input",58),t.NdJ("click",function(o){const l=t.CHM(n).$implicit,u=t.oxw(2);return t.KtG(u.checkAll(o,l))}),t.qZA(),t._uU(7,"\n                                    "),t._UZ(8,"span",53),t._uU(9,"\n                                    "),t.TgZ(10,"span",54),t._uU(11,"LOAD.SELECT_ALL"),t.qZA(),t._uU(12,"\n                                    "),t.TgZ(13,"span",59),t._uU(14),t.qZA(),t._uU(15,"\n                                "),t.qZA(),t._uU(16,"\n                                "),t._UZ(17,"hr"),t._uU(18,"\n                            "),t.qZA(),t._uU(19,"\n                            "),t.YNc(20,Wt,12,3,"div",60),t._uU(21,"\n                        "),t.qZA()}if(2&i){const n=e.$implicit,r=e.index;t.xp6(4),t.MGl("for","hub_id",r,""),t.xp6(2),t.MGl("id","hub_id",r,"")("name","hub_id",r,""),t.Q6J("checked",n.isActive),t.xp6(8),t.hij(" (",n.hub_name,")"),t.xp6(6),t.Q6J("ngForOf",n.centers)}}function jt(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                        "),t.YNc(2,zt,22,6,"div",55),t._uU(3,"\n                    "),t.BQk()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.centerList)}}function Xt(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"button",65),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2),a=t.MAs(29);return t.KtG(o.submitForm(a))}),t._uU(1,"LOAD.UPDATE"),t.qZA()}}function tn(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"button",66),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2),a=t.MAs(29);return t.KtG(o.submitForm(a))}),t._uU(1,"LOAD.CREATE"),t.qZA()}}function nn(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                    "),t.YNc(2,Xt,2,0,"button",63),t._uU(3,"\n                    "),t._uU(4,"\n                    "),t.YNc(5,tn,2,0,"button",64),t._uU(6,"\n                "),t.BQk()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.recordId),t.xp6(3),t.Q6J("ngIf",!n.recordId)}}function en(i,e){1&i&&(t.ynx(0),t._uU(1,"\n                    "),t.TgZ(2,"button",67),t._UZ(3,"m4-icon",68),t.qZA(),t._uU(4,"\n                "),t.BQk())}const rn=function(){return["/configuration/user-management"]};class b{constructor(e,n,r,o,a,l,u){this.utilityService=e,this._configurationService=n,this._masterService=r,this._route=o,this._notifyService=a,this._localStorage=l,this._translateService=u,this.pageKey="user-master",this.formData={},this.listData=[],this.zoneList=[],this.hubList=[],this.centerList=[],this.permissionList=[],this.isResetPassword=!1,this.loading={sidebar:!1,button:!1,page:!1},this.userData=JSON.parse(this._localStorage.getLocalStorageItem(this.utilityService.localStrorage.userDetails)),this.dateFormat=this.utilityService.datePickerFormat[2],this._notifyService.setup(this.utilityService.notifyConfig),this.initFormData(),this._route.params.subscribe(h=>{this.recordId=h.id,this.recordId&&(this.formData.id=h.id,this.getDetail())})}ngOnInit(){this.getPermissionList(),this.dropdownList(),this.getList()}initFormData(){this.formData={zone_id:[],hub_id:[],branch_id:[],center_id:this.userData?.center_id,full_name:"",user_name:"",password:"",permission_id:null,is_active:!0}}dropdownList(){this.getZoneList(),this.getHubList(!1),this.getCenterList()}getZoneList(){this._masterService.getZones({is_exclude_local:!0}).subscribe({next:e=>{this.zoneList=e.list},error:e=>{}})}zoneChanged(){this.getHubList(!0)}getHubList(e){if(this.formData.zone_id.length>0){let n=this.formData.hub_id;e&&(this.formData.hub_id=[]),this._masterService.post("centers/zone-hub-list",{zone_ids:this.formData.zone_id}).subscribe({next:r=>{this.hubList=r.list;let o=[];for(let a=0;a<r.list.length;a++){const l=r.list[a];n.includes(l.center_id)&&!this.formData.hub_id.includes(l.center_id)&&o.push(l.center_id)}this.formData.hub_id=[...o,...this.formData.hub_id],this.hubChanged()},error:r=>{}})}}hubChanged(){if(this.formData.hub_id.length<this.centerList.length)for(let e=0;e<this.centerList.length;e++){const n=this.centerList[e];if(0==this.formData.hub_id.filter(r=>r.center_id==n.hub_id).length){this.removedCentersFromIds(!1);break}}this.getCenterList()}getCenterList(){this.formData.hub_id.length>0&&this._masterService.post("centers/hub-center-list",{hub_ids:this.formData.hub_id}).subscribe({next:e=>{this.centerList=e.list,this.centerList.forEach(n=>{n.isActive=0==n.centers.filter(r=>!this.formData.branch_id.includes(r.center_id)).length})},error:e=>{}})}getPermissionList(){this._masterService.getDropdowns("permissions",{is_admin:!0}).subscribe({next:e=>{this.permissionList=e.list},error:e=>{}})}getList(){this.loading.sidebar=!0,this._masterService.postList(this.pageKey,{center_id:this.userData?.center_id}).subscribe({next:e=>{this.listData=e.list,this.loading.sidebar=!1},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService),this.loading.sidebar=!1}})}getDetail(){this.loading.page=!0,this._masterService.get(this.pageKey,this.recordId).subscribe({next:e=>{this.formData={...this.formData,...e.item},this.isResetPassword=!1,this.dropdownList(),this.loading.page=!1},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService),this.loading.page=!1}})}submitForm(e){e.submitted=!0,e.valid&&(this.loading.button=!0,this.recordId?this._masterService.update(this.pageKey,this.recordId,this.formData).subscribe({next:n=>{this.getList(),this.utilityService.success(n.message,this._notifyService),this.isResetPassword=!1,this.loading.button=!1},error:n=>{let r=this.utilityService.serverMessageHandler(n);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}):this._masterService.add(this.pageKey,this.formData).subscribe({next:n=>{this.loading.button=!1,this.utilityService.success(n.message,this._notifyService),this.getList(),e.submitted=!1,e.resetForm(),setTimeout(()=>{this.initFormData()},0)},error:n=>{let r=this.utilityService.serverMessageHandler(n);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}))}checkAll(e,n){if(e.target.checked){const r=n.centers.map(o=>o.center_id).filter(o=>!this.formData.branch_id.includes(o));this.formData.branch_id=this.formData.branch_id.concat(r)}else this.removedCentersFromIds(n)}checkedChanged(e,n){const r=this.formData.branch_id.indexOf(n.center_id);r>-1?(e.isActive=!1,this.formData.branch_id.splice(r,1)):(this.formData.branch_id.push(n.center_id),e.isActive=0==e.centers.filter(o=>!this.formData.branch_id.includes(o.center_id)).length)}removedCentersFromIds(e){e?e.centers.forEach(n=>{const r=this.formData.branch_id.indexOf(n.center_id);r>-1&&this.formData.branch_id.splice(r,1)}):this.centerList.length>0&&this.formData.hub_id.length>0&&this.centerList.forEach(n=>{this.formData.hub_id.includes(n.hub_id)||n.centers.forEach(r=>{const o=this.formData.branch_id.indexOf(r.center_id);o>-1&&this.formData.branch_id.splice(o,1)})})}}function on(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                            "),t._UZ(2,"app-side-list",25),t._uU(3,"\n                        "),t.BQk()),2&i){const n=t.oxw(2);t.xp6(2),t.Q6J("listType","list")("listData",n.listData)("selected",n.formData.id)("idField","id")("fieldName","name")("url","/configuration/bm-permissions/")}}function an(i,e){1&i&&(t.ynx(0),t._uU(1,"\n                            "),t.TgZ(2,"div",26),t._uU(3,"\n                                "),t.TgZ(4,"div",27),t._uU(5,"\n                                    "),t.TgZ(6,"div",28),t._uU(7,"\n                                        "),t._UZ(8,"div"),t._uU(9,"\n                                        "),t._UZ(10,"div"),t._uU(11,"\n                                        "),t._UZ(12,"div"),t._uU(13,"\n                                        "),t._UZ(14,"div"),t._uU(15,"\n                                    "),t.qZA(),t._uU(16,"\n                                "),t.qZA(),t._uU(17,"\n                            "),t.qZA(),t._uU(18,"\n                        "),t.BQk())}function sn(i,e){if(1&i&&(t.TgZ(0,"div",24),t._uU(1,"\n                        "),t.YNc(2,on,4,6,"ng-container",18),t._uU(3,"\n                        "),t.YNc(4,an,19,0,"ng-container",18),t._uU(5,"\n                    "),t.qZA()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",!n.loading.sidebar),t.xp6(2),t.Q6J("ngIf",n.loading.sidebar)}}b.\u0275fac=function(e){return new(e||b)(t.Y36(f.t),t.Y36(E.e),t.Y36(Y.m),t.Y36(m.gz),t.Y36(_.c),t.Y36(Nt.n),t.Y36(d.sK))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-user-management"]],decls:156,vars:34,consts:[[4,"ngIf"],[1,"card","m-0","w-100"],[1,"card-header","d-flex","align-items-center","justify-content-between","flex-wrap","pb-0","pt-3"],["translate","",1,"page-heading","my-0"],["type","button","m4-button","","btn-style","primary",1,"mr-0",3,"routerLink"],[1,"mr-2","mif-add"],["translate",""],[1,"card-content","pt-0"],[1,"row"],[1,"cell-3"],["class","custom-scroll overflow-x-hidden p-2",4,"ngIf"],[1,"cell-9"],["form","ngForm"],[1,"cell-4"],[1,"form-group"],["for","full_name","translate","",1,"mb-0","mr-4"],[1,"required"],["type","text","name","full_name","id","full_name","placeholder","Enter Full Name","required","",3,"ngModel","ngModelChange"],["fullName","ngModel"],[1,"required-wrapper"],["for","username","translate","",1,"mb-0","mr-4"],["type","text","name","username","id","username","placeholder","Enter Username","required","",3,"ngModel","ngModelChange"],["username","ngModel"],["class","cell-4",4,"ngIf"],["for","permissionId","translate","",1,"mb-0","mr-4"],["name","permissionId","bindLabel","name","bindValue","id","required","",3,"items","ngModel","selectOnTab","clearable","ngModelChange"],["permissionId","ngModel"],["for","is_active","translate","",1,"d-block","mb-0"],["type","radio","data-role","radio","data-style","2","data-caption","Active","name","is_active",1,"mr-1",3,"value","ngModel","ngModelChange"],["type","radio","data-role","radio","data-style","2","data-caption","Inactive","name","is_active",1,"mr-1",3,"value","ngModel","ngModelChange"],["class","cell-4 my-5",4,"ngIf"],["for","zone_id","translate",""],["name","zone_id","bindLabel","zone_name","bindValue","id","required","",3,"items","ngModel","selectOnTab","clearable","multiple","hideSelected","ngModelChange","change"],["zoneId","ngModel"],["for","hub_id","translate",""],["name","hub_id","bindLabel","center_name","bindValue","center_id","required","",3,"items","ngModel","selectOnTab","clearable","hideSelected","multiple","ngModelChange","change"],["hubId","ngModel"],[1,"sticky-buttons","py-5"],[1,"cell-12","text-right","px-0"],[1,"main-loader"],[1,"loader-body"],[1,"loader-square"],[1,"custom-scroll","overflow-x-hidden","p-2"],[3,"listType","listData","selected","idField","fieldName","url"],[1,"d-flex","align-items-center","side-loader"],["translate","",3,"translateParams",4,"ngIf"],["translate","",3,"translateParams"],["for","password","translate","",1,"mb-0","mr-4"],["type","password","name","password","id","password","placeholder","Enter Password","required","",3,"ngModel","ngModelChange"],["password","ngModel"],[1,"cell-4","my-5"],["for","resetPass",1,"checkbox","transition-on","mr-2"],["type","checkbox","data-role","checkbox","data-caption","Checkbox","name","resetPass","id","resetPass","data-role-checkbox","true",3,"ngModel","ngModelChange"],[1,"check"],["translate","",1,"caption"],["class","row",4,"ngFor","ngForOf"],[1,"cell-12"],[1,"checkbox","transition-on","mr-2",3,"for"],["type","checkbox","data-role","checkbox","data-caption","Checkbox","data-role-checkbox","true",3,"id","name","checked","click"],[1,"caption"],["class","cell-3",4,"ngFor","ngForOf"],[1,"checkbox","transition-on","mr-2"],["type","checkbox","data-role","checkbox","data-caption","Checkbox","data-role-checkbox","true",3,"name","checked","click"],["type","submit","m4-button","","btn-style","primary","class","btn-lg mr-1","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","class","btn-lg","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg","mr-1",3,"click"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg",3,"click"],["type","button","m4-button","","btn-style","primary",1,"btn-lg","ml-3"],["icon","spinner","m4-animation","spin"]],template:function(e,n){if(1&e&&(t.YNc(0,Qt,19,0,"ng-container",0),t._uU(1,"\n"),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"div",2),t._uU(5,"\n        "),t.TgZ(6,"h1",3),t._uU(7,"LOAD.USER_MANAGEMENT"),t.qZA(),t._uU(8,"\n        "),t.TgZ(9,"button",4),t._UZ(10,"i",5),t.TgZ(11,"span",6),t._uU(12,"LOAD.ADD_NEW"),t.qZA()(),t._uU(13,"\n        "),t._UZ(14,"hr"),t._uU(15,"\n    "),t.qZA(),t._uU(16,"\n    "),t.TgZ(17,"form"),t._uU(18,"\n        "),t.TgZ(19,"div",7),t._uU(20,"\n            "),t.TgZ(21,"div",8),t._uU(22,"\n                "),t.TgZ(23,"div",9),t._uU(24,"\n                    "),t.YNc(25,wt,6,2,"div",10),t._uU(26,"\n                "),t.qZA(),t._uU(27,"\n                "),t.TgZ(28,"form",11,12),t._uU(30,"\n                    "),t.TgZ(31,"div",8),t._uU(32,"\n                        "),t.TgZ(33,"div",13),t._uU(34,"\n                            "),t.TgZ(35,"div",14),t._uU(36,"\n                                "),t.TgZ(37,"label",15),t._uU(38,"FORM.LABEL.FULL_NAME"),t.TgZ(39,"span",16),t._uU(40,"*"),t.qZA()(),t._uU(41,"\n                                "),t.TgZ(42,"input",17,18),t.NdJ("ngModelChange",function(o){return n.formData.full_name=o}),t.qZA(),t._uU(44,"\n                                "),t.TgZ(45,"div",19),t._uU(46,"\n                                    "),t.YNc(47,Yt,4,1,"ng-container",0),t._uU(48,"\n                                "),t.qZA(),t._uU(49,"\n                            "),t.qZA(),t._uU(50,"\n                        "),t.qZA(),t._uU(51,"\n                        "),t.TgZ(52,"div",13),t._uU(53,"\n                            "),t.TgZ(54,"div",14),t._uU(55,"\n                                "),t.TgZ(56,"label",20),t._uU(57,"FORM.LABEL.USERNAME"),t.TgZ(58,"span",16),t._uU(59,"*"),t.qZA()(),t._uU(60,"\n                                "),t.TgZ(61,"input",21,22),t.NdJ("ngModelChange",function(o){return n.formData.user_name=o}),t.qZA(),t._uU(63,"\n                                "),t.TgZ(64,"div",19),t._uU(65,"\n                                    "),t.YNc(66,Rt,4,1,"ng-container",0),t._uU(67,"\n                                "),t.qZA(),t._uU(68,"\n                            "),t.qZA(),t._uU(69,"\n                        "),t.qZA(),t._uU(70,"\n                        "),t.YNc(71,Ht,18,2,"div",23),t._uU(72,"\n                    "),t.qZA(),t._uU(73,"\n                    "),t.TgZ(74,"div",8),t._uU(75,"\n                        "),t.TgZ(76,"div",13),t._uU(77,"\n                            "),t.TgZ(78,"div",14),t._uU(79,"\n                                "),t.TgZ(80,"label",24),t._uU(81,"FORM.LABEL.PERMISSION "),t.TgZ(82,"span",16),t._uU(83,"*"),t.qZA()(),t._uU(84,"\n                                "),t.TgZ(85,"ng-select",25,26),t.NdJ("ngModelChange",function(o){return n.formData.permission_id=o}),t._uU(87,"\n                                "),t.qZA(),t._uU(88,"\n                                "),t.TgZ(89,"div",19),t._uU(90,"\n                                    "),t.YNc(91,Vt,4,1,"ng-container",0),t._uU(92,"\n                                "),t.qZA(),t._uU(93,"\n                            "),t.qZA(),t._uU(94,"\n                        "),t.qZA(),t._uU(95,"\n                        "),t.TgZ(96,"div",13),t._uU(97,"\n                            "),t.TgZ(98,"div",14),t._uU(99,"\n                                "),t.TgZ(100,"label",27),t._uU(101,"FORM.LABEL.STATUS"),t.qZA(),t._uU(102,"\n                                "),t.TgZ(103,"input",28),t.NdJ("ngModelChange",function(o){return n.formData.is_active=o}),t.qZA(),t._uU(104,"\n                                "),t.TgZ(105,"input",29),t.NdJ("ngModelChange",function(o){return n.formData.is_active=o}),t.qZA(),t._uU(106,"\n                            "),t.qZA(),t._uU(107,"\n                        "),t.qZA(),t._uU(108,"\n                        "),t.YNc(109,Gt,12,1,"div",30),t._uU(110,"\n                    "),t.qZA(),t._uU(111,"\n                    "),t.TgZ(112,"div",8),t._uU(113,"\n                        "),t.TgZ(114,"div",13),t._uU(115,"\n                            "),t.TgZ(116,"div",14),t._uU(117,"\n                                "),t.TgZ(118,"label",31),t._uU(119,"LOAD.SELECT_ZONE"),t.qZA(),t._uU(120,"\n                                "),t.TgZ(121,"ng-select",32,33),t.NdJ("ngModelChange",function(o){return n.formData.zone_id=o})("change",function(){return n.zoneChanged()}),t.qZA(),t._uU(123,"\n                            "),t.qZA(),t._uU(124,"\n                        "),t.qZA(),t._uU(125,"\n                        "),t.TgZ(126,"div",13),t._uU(127,"\n                            "),t.TgZ(128,"div",14),t._uU(129,"\n                                "),t.TgZ(130,"label",34),t._uU(131,"LOAD.SELECT_HUB"),t.qZA(),t._uU(132,"\n                                "),t.TgZ(133,"ng-select",35,36),t.NdJ("ngModelChange",function(o){return n.formData.hub_id=o})("change",function(){return n.hubChanged()}),t.qZA(),t._uU(135,"\n                            "),t.qZA(),t._uU(136,"\n                        "),t.qZA(),t._uU(137,"\n                    "),t.qZA(),t._uU(138,"\n                    "),t.YNc(139,jt,4,1,"ng-container",0),t._uU(140,"\n                "),t.qZA(),t._uU(141,"\n            "),t.qZA(),t._uU(142,"\n        "),t.qZA(),t._uU(143,"\n        "),t.TgZ(144,"div",37),t._uU(145,"\n            "),t.TgZ(146,"div",38),t._uU(147,"\n                "),t.YNc(148,nn,7,2,"ng-container",0),t._uU(149,"\n                "),t.YNc(150,en,5,0,"ng-container",0),t._uU(151,"\n            "),t.qZA(),t._uU(152,"\n        "),t.qZA(),t._uU(153,"\n    "),t.qZA(),t._uU(154,"\n"),t.qZA(),t._uU(155,"\n\n\n")),2&e){const r=t.MAs(29),o=t.MAs(43),a=t.MAs(62),l=t.MAs(86);t.Q6J("ngIf",n.loading.page),t.xp6(9),t.Q6J("routerLink",t.DdM(33,rn)),t.xp6(16),t.Q6J("ngIf",n.listData),t.xp6(17),t.Q6J("ngModel",n.formData.full_name),t.xp6(5),t.Q6J("ngIf",o.errors&&(o.dirty||o.touched||r.submitted)),t.xp6(14),t.Q6J("ngModel",n.formData.user_name),t.xp6(5),t.Q6J("ngIf",a.errors&&(a.dirty||a.touched||r.submitted)),t.xp6(5),t.Q6J("ngIf",!n.recordId||n.recordId&&n.isResetPassword),t.xp6(14),t.Q6J("items",n.permissionList)("ngModel",n.formData.permission_id)("selectOnTab",!0)("clearable",!1),t.xp6(6),t.Q6J("ngIf",(null==l?null:l.errors)&&(l.dirty||l.touched||r.submitted)),t.xp6(12),t.Q6J("value",!0)("ngModel",n.formData.is_active),t.xp6(2),t.Q6J("value",!1)("ngModel",n.formData.is_active),t.xp6(4),t.Q6J("ngIf",n.recordId),t.xp6(12),t.Q6J("items",n.zoneList)("ngModel",n.formData.zone_id)("selectOnTab",!0)("clearable",!1)("multiple",!0)("hideSelected",!0),t.xp6(12),t.Q6J("items",n.hubList)("ngModel",n.formData.hub_id)("selectOnTab",!0)("clearable",!1)("hideSelected",!0)("multiple",!0),t.xp6(6),t.Q6J("ngIf",(null==n.formData||null==n.formData.hub_id?null:n.formData.hub_id.length)&&(null==n.centerList?null:n.centerList.length)),t.xp6(9),t.Q6J("ngIf",!n.loading.button),t.xp6(2),t.Q6J("ngIf",n.loading.button)}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.Wl,s._,s.JJ,s.JL,s.Q7,s.On,s.F,y.w9,_.Hq,_.oJ,_.Vy,q.Z,d.Pi,m.rH,d.X$]});const ln=function(i){return{field:i}};function _n(i,e){1&i&&(t.TgZ(0,"p",30),t.ALo(1,"translate"),t._uU(2,"\n                                            VALIDATION.IS_REQUIRED\n                                        "),t.qZA()),2&i&&t.Q6J("translateParams",t.VKq(3,ln,t.lcZ(1,1,"FORM.LABEL.ROLE_NAME")))}function un(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                        "),t.YNc(2,_n,3,5,"p",29),t._uU(3,"\n                                    "),t.BQk()),2&i){t.oxw();const n=t.MAs(41);t.xp6(2),t.Q6J("ngIf",null==n||null==n.errors?null:n.errors.required)}}function cn(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"div",33),t._uU(1,"\n                                                "),t.TgZ(2,"label",34),t._uU(3,"\n                                                    "),t.TgZ(4,"input",35),t.NdJ("click",function(){const a=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.changePermission(a.value))}),t.qZA(),t._uU(5,"\n                                                    "),t._UZ(6,"span",36),t._uU(7,"\n                                                    "),t.TgZ(8,"span",37),t._uU(9),t.qZA(),t._uU(10,"\n                                                "),t.qZA(),t._uU(11,"\n                                            "),t.qZA()}if(2&i){const n=e.$implicit,r=t.oxw(2);t.xp6(4),t.Q6J("checked",r.formData.permissions.indexOf(n.value)>-1)("name",n.name)("id",n.name),t.xp6(5),t.Oqu(n.label)}}function dn(i,e){if(1&i&&(t.TgZ(0,"tr"),t._uU(1,"\n                                        "),t.TgZ(2,"th",31),t._uU(3),t.qZA(),t._uU(4,"\n                                        "),t.TgZ(5,"td"),t._uU(6,"\n                                            "),t.YNc(7,cn,12,4,"div",32),t._uU(8,"\n                                        "),t.qZA(),t._uU(9,"\n                                    "),t.qZA()),2&i){const n=e.$implicit;t.xp6(3),t.Oqu(n.title),t.xp6(4),t.Q6J("ngForOf",n.permissions)}}function gn(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2),a=t.MAs(27);return t.KtG(o.submitForm(a))}),t._uU(1,"LOAD.UPDATE"),t.qZA()}}function mn(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2),a=t.MAs(27);return t.KtG(o.submitForm(a))}),t._uU(1,"LOAD.CREATE"),t.qZA()}}function pn(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                    "),t.YNc(2,gn,2,0,"button",38),t._uU(3,"\n                    "),t._uU(4,"\n                    "),t.YNc(5,mn,2,0,"button",39),t._uU(6,"\n                "),t.BQk()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.recordId),t.xp6(3),t.Q6J("ngIf",!n.recordId)}}function hn(i,e){1&i&&(t.ynx(0),t._uU(1,"\n                    "),t.TgZ(2,"button",42),t._UZ(3,"m4-icon",43),t.qZA(),t._uU(4,"\n                "),t.BQk())}const fn=function(){return["/configuration/bm-permissions"]};class T{constructor(e,n,r,o,a,l){this.utilityService=e,this._superMasterService=n,this._route=r,this._notifyService=o,this._translateService=a,this._dialogService=l,this.permissionData=[],this.formData={},this.listData=[],this.pageKey="permissions",this.loading={sidebar:!1,button:!1,page:!1},this.dateFormat=this.utilityService.datePickerFormat[2],this._notifyService.setup(this.utilityService.notifyConfig),this.initFormData(),this._route.params.subscribe(u=>{this.recordId=u.id,this.recordId&&this.getDetail()})}ngOnInit(){this.utilityService.selectedBranchDetailsShare.subscribe(e=>{this.selectedBranchData=e,this.selectedBranchData?.center?.center_type&&this.initPermissions()}),this.getList()}getDetail(){this.loading.page=!0,this._superMasterService.get(this.pageKey,this.recordId).subscribe({next:e=>{this.formData=e.item,this.loading.page=!1},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService),this.loading.page=!1}})}getList(){this.loading.sidebar=!0,this._superMasterService.postList(this.pageKey,{is_admin:!1}).subscribe({next:e=>{this.listData=e.list,this.loading.sidebar=!1},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService),this.loading.sidebar=!1}})}submitForm(e){e.submitted=!0,e.valid&&(this.loading.button=!0,this.recordId?this._superMasterService.update(this.pageKey,this.recordId,this.formData).subscribe({next:n=>{this.getList(),this.utilityService.success(n.message,this._notifyService),this.loading.button=!1},error:n=>{let r=this.utilityService.serverMessageHandler(n);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}):this._superMasterService.add(this.pageKey,this.formData).subscribe({next:n=>{this.loading.button=!1,this.utilityService.success(n.message,this._notifyService),this.getList(),e.submitted=!1,e.resetForm(),setTimeout(()=>{this.initFormData()},0)},error:n=>{let r=this.utilityService.serverMessageHandler(n);this.utilityService.error(r,this._notifyService),this.loading.button=!1}}))}initFormData(){this.formData={name:"",is_admin:!1,permissions:[]}}initPermissions(){const e=1==this.selectedBranchData?.center?.center_type?C.GD.HUB:C.GD.BM;console.log("testing =======",this.selectedBranchData,e),this.permissionData=this.utilityService.permissionList.filter(n=>n.type.includes(e))}changePermission(e){const n=this.formData.permissions.indexOf(e);n>-1?this.formData.permissions.splice(n,1):this.formData.permissions.push(e)}}T.\u0275fac=function(e){return new(e||T)(t.Y36(f.t),t.Y36(F.a),t.Y36(m.gz),t.Y36(_.c),t.Y36(d.sK),t.Y36(_.xA))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-user-permissions-bm"]],decls:76,vars:8,consts:[[1,"card","m-0","w-100"],[1,"card-header","d-flex","align-items-center","justify-content-between","flex-wrap","pb-0","pt-3"],["translate","",1,"page-heading","my-0"],["type","button","m4-button","","btn-style","primary",1,"mr-0",3,"routerLink"],[1,"mr-2","mif-add"],["translate",""],[1,"card-content","pt-0"],[1,"row"],[1,"cell-3"],["class","custom-scroll overflow-x-hidden p-2",4,"ngIf"],[1,"cell-9"],["form","ngForm"],[1,"form-group"],["for","role_name","translate",""],[1,"required"],["type","text","name","role_name","id","role_name","placeholder","Enter Role Name","required","",3,"ngModel","ngModelChange"],["roleName","ngModel"],[1,"required-wrapper"],[4,"ngIf"],[1,"cell-12"],[1,"table"],[4,"ngFor","ngForOf"],[1,"sticky-buttons","py-5"],[1,"cell-12","text-right","px-0"],[1,"custom-scroll","overflow-x-hidden","p-2"],[3,"listType","listData","selected","idField","fieldName","url"],[1,"d-flex","align-items-center","side-loader"],[1,"loader-body"],[1,"loader-square"],["translate","",3,"translateParams",4,"ngIf"],["translate","",3,"translateParams"],["translate","",1,"text-left"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"checkbox","transition-on","mr-2"],["type","checkbox",3,"checked","name","id","click"],[1,"check"],["translate","",1,"caption"],["type","submit","m4-button","","btn-style","primary","class","btn-lg mr-1","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","class","btn-lg","translate","",3,"click",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg","mr-1",3,"click"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg",3,"click"],["type","button","m4-button","","btn-style","primary",1,"btn-lg","ml-3"],["icon","spinner","m4-animation","spin"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t._uU(1,"\n    "),t.TgZ(2,"div",1),t._uU(3,"\n        "),t.TgZ(4,"h1",2),t._uU(5,"FORM.HEADER.BRANCH_PERMISSIONS_MANAGEMENT"),t.qZA(),t._uU(6,"\n        "),t.TgZ(7,"button",3),t._UZ(8,"i",4),t.TgZ(9,"span",5),t._uU(10,"LOAD.ADD_NEW"),t.qZA()(),t._uU(11,"\n        "),t._UZ(12,"hr"),t._uU(13,"\n    "),t.qZA(),t._uU(14,"\n    "),t.TgZ(15,"form"),t._uU(16,"\n        "),t.TgZ(17,"div",6),t._uU(18,"\n            "),t.TgZ(19,"div",7),t._uU(20,"\n                "),t.TgZ(21,"div",8),t._uU(22,"\n                    "),t.YNc(23,sn,6,2,"div",9),t._uU(24,"\n                "),t.qZA(),t._uU(25,"\n                "),t.TgZ(26,"form",10,11),t._uU(28,"\n\n                    "),t.TgZ(29,"div",7),t._uU(30,"\n                        "),t.TgZ(31,"div",8),t._uU(32,"\n                            "),t.TgZ(33,"div",12),t._uU(34,"\n                                "),t.TgZ(35,"label",13),t._uU(36,"FORM.LABEL.ROLE_NAME "),t.TgZ(37,"span",14),t._uU(38,"*"),t.qZA()(),t._uU(39,"\n                                "),t.TgZ(40,"input",15,16),t.NdJ("ngModelChange",function(o){return n.formData.name=o}),t.qZA(),t._uU(42,"\n                                "),t.TgZ(43,"div",17),t._uU(44,"\n                                    "),t.YNc(45,un,4,1,"ng-container",18),t._uU(46,"\n                                "),t.qZA(),t._uU(47,"\n                            "),t.qZA(),t._uU(48,"\n                        "),t.qZA(),t._uU(49,"\n                        "),t.TgZ(50,"div",19),t._uU(51,"\n                            "),t.TgZ(52,"table",20),t._uU(53,"\n                                "),t.TgZ(54,"tbody"),t._uU(55,"\n                                    "),t.YNc(56,dn,10,2,"tr",21),t._uU(57,"\n                                "),t.qZA(),t._uU(58,"\n                            "),t.qZA(),t._uU(59,"\n                        "),t.qZA(),t._uU(60,"\n                    "),t.qZA(),t._uU(61,"\n                "),t.qZA(),t._uU(62,"\n            "),t.qZA(),t._uU(63,"\n        "),t.qZA(),t._uU(64,"\n        "),t.TgZ(65,"div",22),t._uU(66,"\n            "),t.TgZ(67,"div",23),t._uU(68,"\n                "),t.YNc(69,pn,7,2,"ng-container",18),t._uU(70,"\n                "),t.YNc(71,hn,5,0,"ng-container",18),t._uU(72,"\n            "),t.qZA(),t._uU(73,"\n        "),t.qZA(),t._uU(74,"\n    "),t.qZA(),t._uU(75,"\n"),t.qZA()),2&e){const r=t.MAs(27),o=t.MAs(41);t.xp6(7),t.Q6J("routerLink",t.DdM(7,fn)),t.xp6(16),t.Q6J("ngIf",n.listData),t.xp6(17),t.Q6J("ngModel",n.formData.name),t.xp6(5),t.Q6J("ngIf",(null==o?null:o.errors)&&(o.dirty||o.touched||r.submitted)),t.xp6(11),t.Q6J("ngForOf",n.permissionData),t.xp6(13),t.Q6J("ngIf",!n.loading.button),t.xp6(2),t.Q6J("ngIf",n.loading.button)}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,_.Hq,_.oJ,_.Vy,q.Z,d.Pi,m.rH,d.X$],styles:["table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;vertical-align:top;font-size:12px!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:1px solid #ddd}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:1px solid #ddd}table[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:12px!important;line-height:1.5;white-space:nowrap}.goods-type[_ngcontent-%COMP%]{padding-bottom:0!important}.goods-type[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]});var Un=c(57660),Zn=c(35501);function bn(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"div",9),t._uU(1,"\n                    "),t.TgZ(2,"label",20),t._uU(3,"LOAD.WEIGHTS"),t.qZA(),t._uU(4,"\n                    "),t.TgZ(5,"ng-select",21),t.NdJ("ngModelChange",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.rateDataModel[null==a.currentProduct?null:a.currentProduct.id].weights=o)}),t.qZA(),t._uU(6,"\n                "),t.qZA()}if(2&i){const n=t.oxw();t.xp6(5),t.Q6J("items",n.rateDataModel[null==n.currentProduct?null:n.currentProduct.id].productWeightList)("ngModel",n.rateDataModel[null==n.currentProduct?null:n.currentProduct.id].weights)("closeOnSelect",!1)("selectOnTab",!0)("hideSelected",!0)("multiple",!0)}}function Tn(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"li"),t._uU(1,"\n                            "),t.TgZ(2,"a",22),t.NdJ("click",function(){const a=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.currentProduct=a)}),t._uU(3),t.qZA(),t._uU(4,"\n                        "),t.qZA()}if(2&i){const n=e.$implicit,r=t.oxw();t.ekj("active",n.id==(null==r.currentProduct?null:r.currentProduct.id)),t.xp6(3),t.Oqu(n.product_name)}}function An(i,e){if(1&i&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(1),t.hij("\n                                            ",n.weight_name,"\n                                        ")}}function vn(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                        "),t.YNc(2,An,2,1,"th",31),t._uU(3,"\n                                    "),t.BQk()),2&i){const n=e.$implicit,r=t.oxw(3);t.xp6(2),t.Q6J("ngIf",(null==r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id]?null:r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].weights.indexOf(n.id))>-1)}}function Mn(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"tr"),t._uU(1,"\n                                    "),t.TgZ(2,"th",11),t._uU(3,"LOAD.WEIGHT_IN_GM"),t.qZA(),t._uU(4,"\n                                    "),t.YNc(5,vn,4,1,"ng-container",27),t._uU(6,"\n                                    "),t.TgZ(7,"th",28),t._uU(8,"LOAD.ADDITIONAL_RATES "),t.TgZ(9,"span"),t._uU(10,"("),t.qZA(),t.TgZ(11,"span",11),t._uU(12,"LOAD.GM"),t.qZA(),t.TgZ(13,"span"),t._uU(14,")"),t.qZA(),t._uU(15,"\n                                        "),t.TgZ(16,"div",29),t._uU(17,"\n                                            "),t.TgZ(18,"input",30),t.NdJ("ngModelChange",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.rateDataModel[null==a.currentProduct?null:a.currentProduct.id].additionalWeight=o)})("blur",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onBlurAdditionalWeight())}),t.qZA(),t._uU(19,"\n                                        "),t.qZA(),t._uU(20,"\n                                    "),t.qZA(),t._uU(21,"\n                                "),t.qZA()}if(2&i){const n=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",null==n.rateDataModel[null==n.currentProduct?null:n.currentProduct.id]?null:n.rateDataModel[null==n.currentProduct?null:n.currentProduct.id].productWeightList),t.xp6(13),t.Q6J("ngModel",n.rateDataModel[null==n.currentProduct?null:n.currentProduct.id].additionalWeight)}}function Cn(i,e){1&i&&(t.TgZ(0,"tr"),t._uU(1,"\n                                    "),t.TgZ(2,"div",33),t._uU(3,"\n                                        "),t.TgZ(4,"div",34),t._uU(5,"\n                                            "),t.TgZ(6,"div",35),t._uU(7,"\n                                                "),t._UZ(8,"div"),t._uU(9,"\n                                                "),t._UZ(10,"div"),t._uU(11,"\n                                                "),t._UZ(12,"div"),t._uU(13,"\n                                                "),t._UZ(14,"div"),t._uU(15,"\n                                            "),t.qZA(),t._uU(16,"\n                                        "),t.qZA(),t._uU(17,"\n                                    "),t.qZA(),t._uU(18,"\n                                "),t.qZA())}function yn(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"td",32),t._uU(1,"\n                                                "),t.TgZ(2,"div",37),t._uU(3,"\n                                                    "),t.TgZ(4,"input",38),t.NdJ("ngModelChange",function(o){t.CHM(n);const a=t.oxw().$implicit,l=t.oxw().$implicit,u=t.oxw(3);return t.KtG(u.rateDataModel[null==u.currentProduct?null:u.currentProduct.id][l.id][a.id]=o)}),t.qZA(),t._uU(5,"\n                                                "),t.qZA(),t._uU(6,"\n                                            "),t.qZA()}if(2&i){const n=t.oxw(),r=n.index,o=n.$implicit,a=t.oxw().$implicit,l=t.oxw(3);t.xp6(4),t.cQ8("name","val_",null==l.currentProduct?null:l.currentProduct.id,"_",a.id,"_",r,""),t.Q6J("ngModel",l.rateDataModel[null==l.currentProduct?null:l.currentProduct.id][a.id][o.id])}}function xn(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                            "),t.YNc(2,yn,7,4,"td",31),t._uU(3,"\n                                        "),t.BQk()),2&i){const n=e.$implicit,r=t.oxw(4);t.xp6(2),t.Q6J("ngIf",(null==r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id]||null==r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].weights?null:r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].weights.indexOf(n.id))>-1)}}function Dn(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"tr"),t._uU(1,"\n                                        "),t.TgZ(2,"td"),t._uU(3),t.qZA(),t._uU(4,"\n                                        "),t.YNc(5,xn,4,1,"ng-container",27),t._uU(6,"\n                                        "),t.TgZ(7,"td",32),t._uU(8,"\n                                            "),t.TgZ(9,"div",29),t._uU(10,"\n                                                "),t.TgZ(11,"input",36),t.NdJ("ngModelChange",function(o){const l=t.CHM(n).$implicit,u=t.oxw(3);return t.KtG(u.rateDataModel[null==u.currentProduct?null:u.currentProduct.id][l.id].additional=o)}),t.qZA(),t._uU(12,"\n                                            "),t.qZA(),t._uU(13,"\n                                        "),t.qZA(),t._uU(14,"\n                                    "),t.qZA()}if(2&i){const n=e.$implicit,r=t.oxw(3);t.xp6(3),t.Oqu(n.zone_name),t.xp6(2),t.Q6J("ngForOf",null==r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id]?null:r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].productWeightList),t.xp6(6),t.MGl("name","additional_val_",n.id,""),t.Q6J("ngModel",r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id][n.id].additional)("disabled",!r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].additionalWeight||r.rateDataModel[null==r.currentProduct?null:r.currentProduct.id].additionalWeight<=0)}}function qn(i,e){if(1&i&&(t.ynx(0),t._uU(1,"\n                                    "),t.YNc(2,Dn,15,5,"tr",27),t.ALo(3,"filterPipe"),t._uU(4,"\n                                "),t.BQk()),2&i){const n=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,1,n.zoneList,"zone_name",n.searchControl))}}function Ln(i,e){if(1&i&&(t.TgZ(0,"div",23),t._uU(1,"\n                "),t.TgZ(2,"div",14),t._uU(3,"\n                    "),t.TgZ(4,"div",24),t._uU(5,"\n                        "),t.TgZ(6,"table",25),t._uU(7,"\n                            "),t.TgZ(8,"thead"),t._uU(9,"\n                                "),t.YNc(10,Mn,22,2,"tr",26),t._uU(11,"\n                            "),t.qZA(),t._uU(12,"\n                            "),t.TgZ(13,"tbody"),t._uU(14,"\n                                "),t.YNc(15,Cn,19,0,"tr",26),t._uU(16,"\n                                "),t.YNc(17,qn,5,5,"ng-container",26),t._uU(18,"\n                            "),t.qZA(),t._uU(19,"\n                        "),t.qZA(),t._uU(20,"\n                    "),t.qZA(),t._uU(21,"\n                "),t.qZA(),t._uU(22,"\n            "),t.qZA()),2&i){const n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.isChargesLoading),t.xp6(5),t.Q6J("ngIf",n.isChargesLoading&&!n.isChargesLoaded),t.xp6(2),t.Q6J("ngIf",!n.isChargesLoading&&n.isChargesLoaded)}}function Sn(i,e){1&i&&(t.TgZ(0,"button",43),t._uU(1,"LOAD.UPDATE"),t.qZA())}function In(i,e){1&i&&(t.TgZ(0,"button",44),t._uU(1,"\n                        "),t._UZ(2,"m4-icon",45),t._uU(3,"\n                    "),t.qZA())}function On(i,e){if(1&i&&(t.TgZ(0,"div",39),t._uU(1,"\n                "),t.TgZ(2,"div",40),t._uU(3,"\n                    "),t.YNc(4,Sn,2,0,"button",41),t._uU(5,"\n                    "),t.YNc(6,In,4,0,"button",42),t._uU(7,"\n                "),t.qZA(),t._uU(8,"\n            "),t.qZA()),2&i){const n=t.oxw();t.xp6(4),t.Q6J("ngIf",!n.savingData),t.xp6(2),t.Q6J("ngIf",n.savingData)}}class D{constructor(e,n,r,o,a,l){this._masterService=e,this.utilityService=n,this._notifyService=r,this._transactionService=o,this._translateService=a,this._dialogService=l,this.zoneList=[],this.productList=[],this.productWeightList=[],this.rateDataModel={},this.currentProduct={},this.previousChargesData={},this.savingData=!1,this.isChargesLoading=!1,this.isChargesLoaded=!1,this.searchControl="",this.formData={},this._notifyService.setup(this.utilityService.notifyConfig)}ngOnInit(){this.getZoneList(),this.getProductList(),this.getProductWeightList()}getProductList(){this._masterService.getDropdowns("product-master",{is_product_ref:!0}).subscribe({next:e=>{this.productList=e.list,this.productList.length&&(this.currentProduct=this.productList[0],this.getQuotationRate())},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService)}})}getZoneList(){this._masterService.getZones({is_exclude_local:!1}).subscribe({next:e=>{this.zoneList=e.list,this.getQuotationRate()},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService)}})}getProductWeightList(){this._masterService.postList("product-master/product-weights",{is_exclude_reverse_weight:!0}).subscribe({next:e=>{this.productWeightList=e.list,this.getQuotationRate()},error:e=>{let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService)}})}getQuotationRate(){this.productList?.length&&this.zoneList?.length&&this.productWeightList?.length&&(this.isChargesLoading=!0,this.isChargesLoaded=!1,this._transactionService.getQuotationConfig().subscribe({next:e=>{this.previousChargesData=e.item,this.rateDataModel={},this.setPreviousCharges(),this.setAdditionalCharges(),this.isChargesLoading=!1,this.isChargesLoaded=!0},error:e=>{this.isChargesLoading=!1,this.isChargesLoaded=!1;let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService)}}))}submitForm(){this.savingData=!0,this._transactionService.updateQuotationConfig({quotation_rates:this.getLatestCharges()}).subscribe({next:e=>{this.savingData=!1,this.utilityService.success(e.message,this._notifyService)},error:e=>{this.savingData=!1;let n=this.utilityService.serverMessageHandler(e);this.utilityService.error(n,this._notifyService)}})}setPreviousCharges(){this.productList.forEach(e=>{this.rateDataModel[`${e.id}`]=this.rateDataModel[`${e.id}`]||{},this.rateDataModel[`${e.id}`].weights=[],this.rateDataModel[`${e.id}`].productWeightList=[],this.zoneList.forEach(n=>{n[`${e.id}`]={isTop:0},this.rateDataModel[`${e.id}`][`${n.id}`]=this.rateDataModel[`${e.id}`][`${n.id}`]||{},this.previousChargesData&&this.previousChargesData[`${e.id}`]&&this.previousChargesData[`${e.id}`].rates&&this.previousChargesData[`${e.id}`].rates.forEach(r=>{this.rateDataModel[`${e.id}`].weights.includes(r.pr_weight_id)||this.rateDataModel[`${e.id}`].weights.push(r.pr_weight_id)}),this.rateDataModel[`${e.id}`].productWeightList=this.productWeightList.filter(r=>r.type==e.product_type),this.rateDataModel[`${e.id}`].productWeightList.forEach(r=>{if(this.previousChargesData&&this.previousChargesData[`${e.id}`]&&this.previousChargesData[`${e.id}`].rates){const o=this.previousChargesData[`${e.id}`].rates.filter(a=>a.zone_id==n.id&&a.pr_weight_id==r.id);this.rateDataModel[`${e.id}`][`${n.id}`][`${r.id}`]=0,o.length>0&&(this.rateDataModel[`${e.id}`][`${n.id}`][`${r.id}`]=o[0].charges)}this.rateDataModel[`${e.id}`][`${n.id}`][`${r.id}`]&&(n[`${e.id}`].isTop=1)})})}),this.sortingZones()}setAdditionalCharges(){this.productList.forEach(e=>{this.rateDataModel[`${e.id}`]=this.rateDataModel[`${e.id}`]||{},this.zoneList.forEach(n=>{if(this.rateDataModel[`${e.id}`][`${n.id}`].additional=0,this.rateDataModel[`${e.id}`].additionalWeight=0,this.previousChargesData&&this.previousChargesData[`${e.id}`]&&this.previousChargesData[`${e.id}`].additional){const r=this.previousChargesData[`${e.id}`].additional.filter(o=>o.zone_id==n.id);r.length>0&&(this.rateDataModel[`${e.id}`][`${n.id}`].additional=r[0].charges,this.rateDataModel[`${e.id}`].additionalWeight=r[0].weight)}n.isTopAdditional=this.rateDataModel[`${e.id}`][`${n.id}`].additional>0})}),this.sortingZones()}getLatestCharges(){const e={};return this.productList.forEach(n=>{e[`${n.id}`]={rates:[],additional:[]},this.zoneList.forEach(r=>{this.rateDataModel?.[`${n.id}`]?.weights?.length>0&&this.rateDataModel[`${n.id}`].weights.forEach(a=>{e[`${n.id}`].rates.push({zone_id:r.id,product_id:n.id,pr_weight_id:a,charges:this.rateDataModel[`${n.id}`][`${r.id}`][`${a}`]||0})});const o=this.rateDataModel?.[`${n.id}`]?.additionalWeight;e[`${n.id}`].additional.push({zone_id:r.id,product_id:n.id,weight:o||0,charges:o&&this.rateDataModel[`${n.id}`][`${r.id}`].additional||0})})}),e}sortingZones(){if(this.currentProduct?.id){const e=this.zoneList.filter(o=>o.is_local),n=this.zoneList.filter(o=>!o.is_local&&o[`${this.currentProduct?.id}`].isTop).sort((o,a)=>a[`${this.currentProduct?.id}`].isTop-o[`${this.currentProduct?.id}`].isTop),r=this.zoneList.filter(o=>!o.is_local&&!o[`${this.currentProduct?.id}`].isTop).sort((o,a)=>a[`${this.currentProduct?.id}`].isTopAdditional-o[`${this.currentProduct?.id}`].isTopAdditional);this.zoneList=e.concat(n,r)}}onBlurAdditionalWeight(){this.rateDataModel[`${this.currentProduct?.id}`].additionalWeight||this.zoneList.forEach(e=>{this.rateDataModel[`${this.currentProduct?.id}`][`${e.id}`].additional=0})}}D.\u0275fac=function(e){return new(e||D)(t.Y36(Y.m),t.Y36(f.t),t.Y36(_.c),t.Y36(Un.p),t.Y36(d.sK),t.Y36(_.xA))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-quotation-config"]],decls:73,vars:5,consts:[[1,"card","m-0","w-100"],[1,"card-header","pb-0"],["translate","",1,"page-heading","my-0"],[1,"card-content","pt-0","pb-3"],[3,"submit"],["form","ngForm"],[1,"row","align-items-center","mb-3"],["class","cell-3",4,"ngIf"],[1,"row","mt-1","mb-2"],[1,"cell-3"],[1,"form-group"],["translate",""],["type","text","name","searchControl",3,"ngModel","ngModelChange"],[1,"row","mt-2"],[1,"cell-12"],[1,"required-wrapper"],["data-role","tabs","data-expand","true",1,"pb-0"],[3,"active",4,"ngFor","ngForOf"],["class","row mt-0",4,"ngIf"],["class","row mt-3",4,"ngIf"],["for","weights","translate",""],["bindLabel","weight_name","bindValue","id","id","weights","name","weights",3,"items","ngModel","closeOnSelect","selectOnTab","hideSelected","multiple","ngModelChange"],["href","javascript:void(0)",3,"click"],[1,"row","mt-0"],[1,"table-header-sticky","custom-scroll","mt-3"],[1,"table","mt-0","table-border","cell-border","compact","row-hover"],[4,"ngIf"],[4,"ngFor","ngForOf"],["scope","col","translate",""],[1,"input-group"],["type","number","placeholder","Value","name","additional_weight",1,"form-control",3,"ngModel","ngModelChange","blur"],["scope","col",4,"ngIf"],["scope","col"],[1,"table-loader-container"],[1,"loader-body"],[1,"loader-square"],["type","number","placeholder","Value",1,"form-control",3,"ngModel","name","disabled","ngModelChange"],[1,"input-group","mb-0"],["type","number","placeholder","Value",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"row","mt-3"],[1,"cell-12","text-right"],["type","submit","m4-button","","btn-style","primary","class","btn-lg","translate","",4,"ngIf"],["type","button","m4-button","","btn-style","primary","class","btn-lg mr-3","translate","",4,"ngIf"],["type","submit","m4-button","","btn-style","primary","translate","",1,"btn-lg"],["type","button","m4-button","","btn-style","primary","translate","",1,"btn-lg","mr-3"],["icon","spinner","m4-animation","spin"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._uU(1,"\n    "),t.TgZ(2,"div",1),t._uU(3,"\n        "),t.TgZ(4,"h1",2),t._uU(5,"LOAD.QUOTATION"),t.qZA(),t._uU(6,"\n        "),t._UZ(7,"hr"),t._uU(8,"\n    "),t.qZA(),t._uU(9,"\n    "),t.TgZ(10,"div",3),t._uU(11,"\n        "),t.TgZ(12,"form",4,5),t.NdJ("submit",function(){return n.submitForm()}),t._uU(14,"\n            "),t.TgZ(15,"div",6),t._uU(16,"\n                "),t.YNc(17,bn,7,6,"div",7),t._uU(18,"\n            "),t.qZA(),t._uU(19,"\n\n            "),t.TgZ(20,"div",8),t._uU(21,"\n                "),t.TgZ(22,"div",9),t._uU(23,"\n                    "),t.TgZ(24,"div",10),t._uU(25,"\n                        "),t.TgZ(26,"label",11),t._uU(27,"LOAD.SEARCH"),t.qZA(),t._uU(28,"\n                        "),t.TgZ(29,"input",12),t.NdJ("ngModelChange",function(o){return n.searchControl=o}),t.qZA(),t._uU(30,"\n                    "),t.qZA(),t._uU(31,"\n                "),t.qZA(),t._uU(32,"\n                "),t._uU(33,"\n            "),t.qZA(),t._uU(34,"\n            "),t.TgZ(35,"div",13),t._uU(36,"\n                "),t.TgZ(37,"div",14),t._uU(38,"\n                    "),t.TgZ(39,"div",10),t._uU(40,"\n                        "),t.TgZ(41,"div",15),t._uU(42,"\n                            "),t.TgZ(43,"p")(44,"b",11),t._uU(45,"LOAD.NOTE"),t.qZA(),t.TgZ(46,"b"),t._uU(47,":"),t.qZA(),t.TgZ(48,"span",11),t._uU(49," LOAD.CASH_RATE_REQUIRED_NOTE"),t.qZA(),t._uU(50,"\n                            "),t.qZA(),t._uU(51,"\n                        "),t.qZA(),t._uU(52,"\n                    "),t.qZA(),t._uU(53,"\n                "),t.qZA(),t._uU(54,"\n            "),t.qZA(),t._uU(55,"\n            "),t.TgZ(56,"div",8),t._uU(57,"\n                "),t.TgZ(58,"div",14),t._uU(59,"\n                    "),t.TgZ(60,"ul",16),t._uU(61,"\n                        "),t.YNc(62,Tn,5,3,"li",17),t._uU(63,"\n                    "),t.qZA(),t._uU(64,"\n                "),t.qZA(),t._uU(65,"\n            "),t.qZA(),t._uU(66,"\n            "),t.YNc(67,Ln,23,3,"div",18),t._uU(68,"\n            "),t.YNc(69,On,9,2,"div",19),t._uU(70,"\n        "),t.qZA(),t._uU(71,"\n    "),t.qZA(),t._uU(72,"\n"),t.qZA()),2&e&&(t.xp6(17),t.Q6J("ngIf",(null==n.rateDataModel[null==n.currentProduct?null:n.currentProduct.id]||null==n.rateDataModel[null==n.currentProduct?null:n.currentProduct.id].productWeightList?null:n.rateDataModel[null==n.currentProduct?null:n.currentProduct.id].productWeightList.length)>0),t.xp6(12),t.Q6J("ngModel",n.searchControl),t.xp6(33),t.Q6J("ngForOf",n.productList),t.xp6(5),t.Q6J("ngIf",n.isChargesLoading||n.isChargesLoaded),t.xp6(2),t.Q6J("ngIf",n.isChargesLoaded))},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.F,y.w9,_.Hq,_.oJ,_.Vy,d.Pi,Zn.g],styles:[".table-scroll-y[_ngcontent-%COMP%]{max-height:calc(100vh - 350px)}ul.tabs-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-right:10px!important}"]});const Pn=[{path:"",component:M,children:[{path:"",redirectTo:"company-master",pathMatch:"full"},{path:"company-master",component:U},{path:"company-master/:id",component:U},{path:"print-setting",component:x},{path:"permissions",component:Z},{path:"permissions/:id",component:Z},{path:"user-management",component:b},{path:"user-management/:id",component:b},{path:"bm-permissions",component:T},{path:"bm-permissions/:id",component:T},{path:"quotation-config",component:D}]}];class A{}A.\u0275fac=function(e){return new(e||A)},A.\u0275mod=t.oAB({type:A}),A.\u0275inj=t.cJS({imports:[m.Bz.forChild(Pn),m.Bz]});var Nn=c(24586);class v{}v.\u0275fac=function(e){return new(e||v)},v.\u0275mod=t.oAB({type:v}),v.\u0275inj=t.cJS({imports:[p.ez,s.u5,y.A0,_.L3,J.ts,J.YM,k.k,_.gj,d.aw.forChild(),A,R.o,Nn.D]})}}]);