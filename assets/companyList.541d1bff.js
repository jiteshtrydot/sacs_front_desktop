import{r as l,_ as v,a as $,u as Q,b as W,c as X,aB as Z,d as s,F as A,j as t,T as r,J as N,K as b,$ as ee,aC as ae,aD as te}from"./index.b6833530.js";import{N as se}from"./navbar-sidebar.cfa267da.js";import{E as re}from"./pagination.17cdcb63.js";import{E as le}from"./breadcrumb.f211a126.js";import{h as ne}from"./moment.40bc58bf.js";import{j as oe}from"./utils.7e7ecbc8.js";import"./index.esm.6e0b1c9e.js";import"./logo.265d9f73.js";import"./Input.e13d00be.js";const de=l.exports.lazy(()=>v(()=>import("./ToastMessage.356bd70a.js"),["assets/ToastMessage.356bd70a.js","assets/index.b6833530.js","assets/index.e11da923.css","assets/ToastMessage.d9e3f7bd.css"])),ie=l.exports.lazy(()=>v(()=>import("./deleteModal.a36f05be.js"),["assets/deleteModal.a36f05be.js","assets/index.b6833530.js","assets/index.e11da923.css"])),Ne=function(){const d=$(),D=Q(),[C,i]=l.exports.useState(!1),[x,w]=l.exports.useState([]),[a,f]=l.exports.useState(),{Companylist:c,CompanylistSize:p,TotalCompanyData:u,CurrentPage:m,permissionsdata:o}=W(e=>({Companylist:e.Company.Companylist,CompanylistSize:e.Company.CompanylistSize,TotalCompanyData:e.Company.TotalCompanyData,CurrentPage:e.Company.CurrentPage,permissionsdata:e.Login.permissionsdata}));l.exports.useEffect(()=>{var n;if(X.get("role")==="67b388a7d593423df0e24295")f({add:!0,view:!0,edit:!0,delete:!0});else{const J=o&&((n=o==null?void 0:o.find(K=>K.module_name==="Company"))==null?void 0:n.permissions);f(J||[])}},[o]);const[P,S]=l.exports.useState(0),[ce,_]=l.exports.useState(),[k,T]=l.exports.useState(0),[g,E]=l.exports.useState(1),[h,z]=l.exports.useState(5),H=e=>{const n=Number(e);z(n)},R=e=>{E(e)},[y,M]=l.exports.useState(null),j=e=>{M(e)};l.exports.useEffect(()=>{d(Z({page:g,size:h,search:y}))},[d,g,h,y]),l.exports.useEffect(()=>{w(c||[]),S(u||0),_(p||0),T(m||1)},[c,p,u,m]);const[F,q]=l.exports.useState(0),B=e=>{q(e),i(!0)},O=()=>{d(ae({id:F})),i(!1)},Y=e=>{console.log(e)},V=()=>{D("/company/add")},I=e=>{d(te({id:e}))};let L="Company List",U="Search For Company (Name)",G=a==null?void 0:a.add;return s(A,{children:[s(se,{isFooter:!1,isSidebar:!0,isNavbar:!0,isRightSidebar:!0,children:[t(le,{Name:L,Searchplaceholder:U,searchData:y,Changename:j,isOpenAddModel:V,AddAccess:G}),s(r,{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600 ",children:[s(r.Head,{className:"bg-gray-100 dark:bg-gray-700",children:[s(r.HeadCell,{children:[" ",t(N,{id:"select-all",name:"select-all"})," "]}),t(r.HeadCell,{children:"Name ( Eng )"}),t(r.HeadCell,{children:"Name ( Guj )"}),t(r.HeadCell,{children:"Description"}),t(r.HeadCell,{children:"Status"}),t(r.HeadCell,{children:"Created At"}),(a==null?void 0:a.edit)||(a==null?void 0:a.delete)?t(r.HeadCell,{children:"Actions"}):null]}),t(r.Body,{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:x&&x.map((e,n)=>s(r.Row,{className:"hover:bg-gray-100 dark:hover:bg-gray-700",children:[s(r.Cell,{className:"w-4 py-0",style:{paddingTop:"1",paddingBottom:"1"},children:["  ",t(N,{value:e._id,onClick:()=>{Y(e._id)}}),"  "]}),s(r.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e==null?void 0:e.name_eng," "]}),s(r.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e==null?void 0:e.name_guj," "]}),s(r.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e==null?void 0:e.description," "]}),t(r.Cell,{className:"whitespace-nowrap p-4 text-base font-normal text-gray-900 dark:text-white",children:e.is_active==!0?s("div",{className:"flex items-center",children:["  ",t("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-green-400"})," Active  "]}):s("div",{className:"flex items-center",children:["  ",t("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-Red"})," Deactive  "]})}),s(r.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",ne(e==null?void 0:e.added_at).format("DD-MM-YYYY hh:mm:ss")," "]}),(a==null?void 0:a.edit)||(a==null?void 0:a.delete)?t(r.Cell,{className:"space-x-2 whitespace-nowrap py-0",children:s("div",{className:"flex items-center gap-x-3",children:[a!=null&&a.edit?s(b,{gradientDuoTone:"greenToBlue",onClick:()=>I(e==null?void 0:e._id),children:[s("div",{className:"flex items-center gap-x-2 deletebutton min-w-[5rem] text-center font-semibold",children:[" ",t(oe,{className:"text-lg font-semibold"}),"  Change status "]})," "]}):null,a!=null&&a.delete?s(b,{gradientDuoTone:"purpleToPink",onClick:()=>B(e==null?void 0:e._id),children:[s("div",{className:"flex items-center gap-x-2 deletebutton",children:[" ",t(ee,{className:"text-lg"}),"  Delete Company"]})," "]}):null]})}):null]},n))})]}),t(re,{PageData:R,RowPerPage:H,RowsPerPageValue:h,PageNo:g,CurrentPageNo:k,TotalListData:P})]}),C&&t(l.exports.Suspense,{fallback:s("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:[" ",t("div",{className:"text-white",children:"Loading..."})," "]}),children:t(ie,{isOpenDelteModel:C,name:"Company",setisOpenDelteModel:i,DelCall:O})}),t(de,{})]})};export{Ne as default};
