import{a as P,u as R,r as s,aR as A,b as E,aS as L,E as V,j as t,F as j,d as r,K as f}from"./index.b6833530.js";import{N as D}from"./navbar-sidebar.cfa267da.js";import{E as O}from"./breadcrumb.f211a126.js";import{u as $,c as q,a as x,F as z,L as b}from"./formik.esm.1dcdd950.js";import{S as J}from"./react-select.esm.eb1ccb54.js";import{F as o}from"./FormFeedback.b1d46ea7.js";import{I as N}from"./Input.e13d00be.js";import{I as K}from"./imageuploader.08f1031a.js";import"./index.esm.6e0b1c9e.js";import"./utils.7e7ecbc8.js";import"./logo.265d9f73.js";const te=function(){const h=P(),g=R(),[n,y]=s.exports.useState(null),[S,c]=s.exports.useState(0);s.exports.useEffect(()=>{c(n?0:1)},[n]);const[k,u]=s.exports.useState(null),[v,m]=s.exports.useState(null),[F,d]=s.exports.useState(0),B=a=>{a?(m(a.value),u(a),d(0)):(m(null),u(null),d(1))},[_,M]=s.exports.useState({name:"",description:"",status:""}),e=$({enableReinitialize:!0,initialValues:_,validationSchema:q({name:x().required("Please enter banner name"),description:x().required("Please enter banner description")}),onSubmit:a=>{if(v==null)return d(1);if(!n)return c(1);const i=new FormData;i.append("name",a.name),i.append("description",a.description),i.append("is_active",JSON.stringify(v)),n&&i.append("banner_pic",n),h(A(i))}}),w=[{label:"Active",value:!0},{label:"Inactive",value:!1}],{AddBannerDatalist:l}=E(a=>({AddBannerDatalist:a.Banner.AddBannerlist}));s.exports.useEffect(()=>{(l==null?void 0:l.success)==!0&&(h(L()),V.success(l==null?void 0:l.msg),g(p),e.resetForm(),m(null),u(null),d(1))},[l]);let C="Banner Add",I="Banner List",p="/banner/list";return t(j,{children:r(D,{isFooter:!1,isSidebar:!0,isNavbar:!0,isRightSidebar:!0,children:[t(O,{Name:C,ParentName:I,ParentLink:p}),t("div",{className:"mt-[2rem] bg-white dark:bg-gray-800 p-4",children:r(z,{onSubmit:a=>(a.preventDefault(),e.handleSubmit(),!1),children:[r("div",{children:[t(K,{onFileSelect:y}),S==1?t(o,{type:"invalid",className:"text-Red text-sm",children:" Please select category image "}):null]}),r("div",{children:[r(b,{htmlFor:"Name",children:["Name ",t("span",{className:"text-red-500",children:"*"})," "]}),r("div",{className:"mt-1",children:[t(N,{id:"name",name:"name",className:"bg-gray-50 border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400 dark:text-white disabled:cursor-not-allowed disabled:opacity-50 focus:border-blue-500 focus:ring-blue-500 p-2.5 rounded-lg text-gray-900 text-sm w-full",placeholder:"Banner name",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.name||"",invalid:!!(e.touched.name&&e.errors.name)}),e.touched.name&&e.errors.name?r(o,{type:"invalid",className:"text-Red text-sm",children:[" ",e.errors.name," "]}):null]})]}),r("div",{className:"mt-[1rem]",children:[r(b,{htmlFor:"Description",children:["Description ",t("span",{className:"text-red-500",children:"*"})," "]}),r("div",{className:"mt-1",children:[t(N,{id:"description",name:"description",className:"bg-gray-50 border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400 dark:text-white disabled:cursor-not-allowed disabled:opacity-50 focus:border-blue-500 focus:ring-blue-500 p-2.5 rounded-lg text-gray-900 text-sm w-full",placeholder:"description",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.description||"",invalid:!!(e.touched.description&&e.errors.description)}),e.touched.description&&e.errors.description?r(o,{type:"invalid",className:"text-Red text-sm",children:[" ",e.errors.description," "]}):null]})]}),r("div",{className:"mt-[1rem]",children:[t(b,{htmlFor:"Status",children:"Status"}),r("div",{className:"mt-1",children:[t(J,{className:"w-full dark:text-white",classNames:{control:()=>"react-select__control",singleValue:()=>"react-select__single-value",menu:()=>"react-select__menu",option:({isSelected:a})=>a?"react-select__option--is-selected":"react-select__option",placeholder:()=>"react-select__placeholder"},value:k,onChange:a=>{B(a)},options:w,isClearable:!0}),F==1?t(o,{type:"invalid",className:"text-Red text-sm",children:" Please select status "}):null]})]}),r("div",{className:"flex gap-x-3 justify-end mt-[1rem]",children:[t(f,{className:"bg-addbutton hover:bg-addbutton dark:bg-addbutton dark:hover:bg-addbutton",type:"submit",children:" Add Banner "}),t(f,{className:"bg-deletebutton hover:bg-deletebutton dark:bg-deletebutton dark:hover:bg-deletebutton",onClick:()=>g(p),children:"  Close "})]})]})})]})})};export{te as default};
