import{a as z,u as M,r,b as Y,aL as j,c as A,d as t,F as V,j as s,T as a,J as f,K as N,aM as q}from"./index.b6833530.js";import{N as J}from"./navbar-sidebar.cfa267da.js";import{E as K}from"./pagination.17cdcb63.js";import{E as $}from"./breadcrumb.f211a126.js";import{h as G}from"./moment.40bc58bf.js";import I from"./ToastMessage.356bd70a.js";import{k as O,l as Q,i as W}from"./utils.7e7ecbc8.js";import"./index.esm.6e0b1c9e.js";import"./logo.265d9f73.js";import"./Input.e13d00be.js";const ie=function(){const d=z(),w=M(),[n,g]=r.exports.useState(),[x,b]=r.exports.useState([]),[i,k]=r.exports.useState(1),[u,y]=r.exports.useState(5),v=e=>{const l=Number(e);y(l)},D=e=>{k(e)},[c,P]=r.exports.useState(null),S=e=>{P(e)},{Customerlist:h,UserListSize:L,TotalUserListData:p,CurrentPage:m,permissionsdata:o}=Y(e=>({Customerlist:e.Customer.Customerlist,UserListSize:e.Customer.CustomerlistSize,TotalUserListData:e.Customer.TotalCustomerData,CurrentPage:e.Customer.CurrentPage,permissionsdata:e.Login.permissionsdata})),[_,T]=r.exports.useState(0),[H,U]=r.exports.useState(0);r.exports.useEffect(()=>{b(h||null),T(p||0),U(m||1)},[h,p,L,m]),r.exports.useEffect(()=>{let e={page:i,size:u};c&&(e.search=c),d(j(e))},[d,c,i,u]),r.exports.useEffect(()=>{var l;if(A.get("role")==="67b388a7d593423df0e24295")g({add:!0,view:!0,edit:!0,delete:!0});else{const F=o&&((l=o==null?void 0:o.find(R=>R.module_name==="Customer"))==null?void 0:l.permissions);g(F||[])}},[o]);const B=e=>{console.log(e)},E=e=>{d(q({id:e}))},C=e=>{w(`/customer/details/${e}`)};return t(V,{children:[t(J,{isFooter:!1,isSidebar:!0,isNavbar:!0,isRightSidebar:!0,children:[s($,{Name:"Customer List",Searchplaceholder:"Search For Customers (Name)",searchData:c,Changename:S}),t(a,{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600 ",children:[t(a.Head,{className:"bg-gray-100 dark:bg-gray-700",children:[t(a.HeadCell,{children:[" ",s(f,{id:"select-all",name:"select-all"})," "]}),s(a.HeadCell,{children:"Name"}),s(a.HeadCell,{children:"Phone"}),s(a.HeadCell,{children:"District"}),s(a.HeadCell,{children:"Taluka"}),s(a.HeadCell,{children:"Village"}),s(a.HeadCell,{children:"Created At"}),s(a.HeadCell,{children:"Status"}),s(a.HeadCell,{children:"Actions"})]}),s(a.Body,{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:x&&x.map((e,l)=>t(a.Row,{className:"hover:bg-gray-100 dark:hover:bg-gray-700",children:[t(a.Cell,{className:"w-4 py-0",style:{paddingTop:"1",paddingBottom:"1"},children:["  ",s(f,{value:e==null?void 0:e._id,onClick:()=>{B(e._id)}}),"  "]}),t(a.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0 cursor-pointer truncate max-w-[15rem]",onClick:()=>C(e==null?void 0:e._id),children:["  ",e==null?void 0:e.customer_name," "]}),t(a.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",e==null?void 0:e.mobile_number," "]}),t(a.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",e==null?void 0:e.district_name," "]}),t(a.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",e==null?void 0:e.taluka_name," "]}),t(a.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",e==null?void 0:e.village_name," "]}),t(a.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",G(e==null?void 0:e.added_at).format("DD-MM-YYYY hh:mm:ss")," "]}),s(a.Cell,{className:"whitespace-nowrap p-4 text-base font-normal text-gray-900 dark:text-white",children:e.is_deleted==!0?t("div",{className:"flex items-center",children:["  ",s("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-Red"})," Deactive  "]}):t("div",{className:"flex items-center",children:["  ",s("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-green-400"})," Active  "]})}),s(a.Cell,{className:"space-x-2 whitespace-nowrap py-0",children:t("div",{className:"flex items-center gap-x-3",children:[n!=null&&n.delete?t(N,{gradientDuoTone:"purpleToPink",onClick:()=>E(e._id),children:[t("div",{className:"flex items-center gap-x-2 deletebutton min-w-[5rem] text-center font-semibold",children:["  ",(e==null?void 0:e.is_deleted)==!0?s(O,{className:"text-lg"}):s(Q,{className:"text-xl"}),"  ",e.is_deleted==!0?"Unblock":"Block","  "]})," "]}):null,t(N,{gradientDuoTone:"purpleToBlue",onClick:()=>C(e._id),children:[t("div",{className:"flex items-center gap-x-2 deletebutton",children:[" ",s(W,{className:"text-lg"})," Detail Customer  "]})," "]})]})})]},l))})]}),s(K,{PageData:D,RowPerPage:v,RowsPerPageValue:u,PageNo:i,CurrentPageNo:H,TotalListData:_})]}),s(I,{})]})};export{ie as default};
