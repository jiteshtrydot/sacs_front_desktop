import{u as v,a as k,V as _,r as t,W as P,b as N,E as C,d as s,j as a,K as F,X as S}from"./index.b6833530.js";import{C as R}from"./Card.f3d7b329.js";import{u as E,c as z,a as m,b as B,F as A,L as u}from"./formik.esm.1dcdd950.js";import{l as D}from"./logo.265d9f73.js";import{g as w,h as p}from"./utils.7e7ecbc8.js";import{F as f}from"./FormFeedback.b1d46ea7.js";import{I as g}from"./Input.e13d00be.js";import T from"./ToastMessage.356bd70a.js";const M=function(){const h=v(),l=k(),{token:b,id:d}=_(),[n,y]=t.exports.useState(!1),[i,x]=t.exports.useState(!1),e=E({enableReinitialize:!0,initialValues:{new_password:"",confirm_password:""},validationSchema:z({new_password:m().required("Please enter new password").min(5,"Password must be at least 5 characters long").max(10,"Password must be at most 10 characters long").matches(/[A-Z]/,"Password must contain at least one uppercase letter (A-Z)").matches(/\d/,"Password must contain at least one numeric digit (0-9)").matches(/[@$!%*?&]/,"Password must contain at least one special character (@$!%*?&)"),confirm_password:m().required("Please enter confirm password").oneOf([B("new_password")],"Confirm password not matched")}),onSubmit:o=>{let c={user_id:d,password:o.new_password};l(P(c)),e.resetForm()}}),{resetpassword:r}=N(o=>({resetpassword:o.Login.resetpassword}));return t.exports.useEffect(()=>{(r==null?void 0:r.success)==!0&&(C.success(r==null?void 0:r.msg),setTimeout(()=>{h("/login")},5e3))},[r]),t.exports.useEffect(()=>{(async()=>{await l(S({token:b,user_id:d}))})()},[l,d]),s("div",{className:"flex flex-col items-center justify-center px-6 lg:h-screen lg:gap-y-12",children:[s("div",{className:"my-6 flex items-center gap-x-1 lg:my-0",children:[" ",a("img",{alt:"Flowbite logo",src:D,className:"mr-3 h-12"})," "]}),s(R,{horizontal:!0,imgSrc:"/images/authentication/login_6.png",imgAlt:"",className:"w-full lg:max-w-screen-lg md:max-w-screen-md [&>img]:hidden md:[&>img]:w-[31rem] md:[&>img]:p-0 md:[&>*]:w-full md:[&>*]:p-16 lg:[&>img]:block",children:[a("h1",{className:"mb-3 text-2xl font-bold dark:text-white md:text-3xl",children:" Reset Password "}),s(A,{onSubmit:o=>(o.preventDefault(),e.handleSubmit(),!1),children:[s("div",{className:"mb-4 flex flex-col gap-y-2",children:[a(u,{htmlFor:"new_password",children:"Your New Password"}),s("div",{children:[s("div",{className:"relative w-full",children:[a(g,{name:"new_password",className:"bg-gray-50 border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400 dark:text-white disabled:cursor-not-allowed disabled:opacity-50 focus:border-blue-500 focus:ring-blue-500 p-2.5 rounded-lg text-gray-900 text-sm w-full",placeholder:"Enter new password",type:n?"text":"password",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.new_password||"",invalid:!!(e.touched.new_password&&e.errors.new_password)}),s("button",{type:"button",className:"absolute inset-y-0 right-3 flex items-center text-gray-500 dark:text-gray-100",onClick:()=>y(!n),children:[" ",n?a(w,{size:20}):a(p,{size:20})," "]})]}),e.touched.new_password&&e.errors.new_password?s(f,{type:"invalid",className:"text-Red",children:[" ",e.errors.new_password," "]}):null]})]}),s("div",{className:"mb-6 flex flex-col gap-y-2",children:[a(u,{htmlFor:"confirm_password",children:"Confirm Password"}),s("div",{children:[s("div",{className:"relative w-full",children:[a(g,{name:"confirm_password",className:"bg-gray-50 border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400 dark:text-white disabled:cursor-not-allowed disabled:opacity-50 focus:border-blue-500 focus:ring-blue-500 p-2.5 rounded-lg text-gray-900 text-sm w-full",placeholder:"Enter confirm password",type:i?"text":"password",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.confirm_password||"",invalid:!!(e.touched.confirm_password&&e.errors.confirm_password)}),s("button",{type:"button",className:"absolute inset-y-0 right-3 flex items-center text-gray-500 dark:text-gray-100",onClick:()=>x(!i),children:[" ",i?a(w,{size:20}):a(p,{size:20})," "]})]}),e.touched.confirm_password&&e.errors.confirm_password?s(f,{type:"invalid",className:"text-Red",children:[" ",e.errors.confirm_password," "]}):null]})]}),s("div",{children:[" ",a(F,{type:"submit",className:"w-full ",children:"  Reset Password "})," "]})]})]}),a(T,{})]})};export{M as default};
