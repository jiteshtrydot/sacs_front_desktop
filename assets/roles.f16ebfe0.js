import{r,_ as b,a as J,u as U,b as Z,c as Q,ad as W,d as l,F as X,j as t,T as s,J as y,K as x,Z as Y,$ as A,al as ee,am as ae}from"./index.b6833530.js";import{N as te}from"./navbar-sidebar.cfa267da.js";import{E as le}from"./pagination.17cdcb63.js";import{E as se}from"./breadcrumb.f211a126.js";import"./index.esm.6e0b1c9e.js";import"./utils.7e7ecbc8.js";import"./logo.265d9f73.js";import"./Input.e13d00be.js";const re=r.exports.lazy(()=>b(()=>import("./ToastMessage.356bd70a.js"),["assets/ToastMessage.356bd70a.js","assets/index.b6833530.js","assets/index.e11da923.css","assets/ToastMessage.d9e3f7bd.css"])),oe=r.exports.lazy(()=>b(()=>import("./deleteModal.a36f05be.js"),["assets/deleteModal.a36f05be.js","assets/index.b6833530.js","assets/index.e11da923.css"])),xe=function(){const n=J(),f=U(),[N,c]=r.exports.useState(!1),[d,P]=r.exports.useState(null),D=e=>{P(e)},[a,R]=r.exports.useState(),[u,w]=r.exports.useState(1),[p,C]=r.exports.useState(5),S=e=>{const o=Number(e);C(o)},_=e=>{w(e)},[T,k]=r.exports.useState(0),[E,H]=r.exports.useState(0),[v,z]=r.exports.useState([]),{Roleslist:m,RoleListSize:ie,TotalRoleListData:g,CurrentPage:h,permissionsdata:i}=Z(e=>({Roleslist:e.Role.Roleslist,RoleListSize:e.Role.RoleListSize,TotalRoleListData:e.Role.TotalRoleListData,CurrentPage:e.Role.CurrentPage,permissionsdata:e.Login.permissionsdata}));r.exports.useEffect(()=>{var o;if(Q.get("role")==="67b388a7d593423df0e24295")R({add:!0,view:!0,edit:!0,delete:!0});else{const $=i&&((o=i==null?void 0:i.find(G=>G.module_name==="Role"))==null?void 0:o.permissions);R($||[])}},[i]),r.exports.useEffect(()=>{let e={page:u,size:p};d&&(e.search=d),n(W(e))},[n,u,p,d]),r.exports.useEffect(()=>{z(m||null),k(g||0),H(h||1)},[m,g,h]);const M=e=>{console.log("Edit page call",e)},[O,F]=r.exports.useState(0),j=e=>{F(e),c(!0)},B=()=>{n(ae({id:O})),c(!1)},q=e=>{f(`/role-access/${e}`)},L=()=>{f("/roles/add")};let V="Role List",I="Search For Role (Name)",K=a==null?void 0:a.add;return l(X,{children:[l(te,{isFooter:!1,isSidebar:!0,isNavbar:!0,isRightSidebar:!0,children:[t(se,{Name:V,Searchplaceholder:I,searchData:d,Changename:D,isOpenAddModel:L,AddAccess:K}),l(s,{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[l(s.Head,{className:"bg-gray-100 dark:bg-gray-700",children:[l(s.HeadCell,{children:[" ",t(y,{id:"select-all",name:"select-all"})]}),t(s.HeadCell,{children:"Title"}),t(s.HeadCell,{children:"Description"}),t(s.HeadCell,{children:"Status"}),(a==null?void 0:a.edit)||(a==null?void 0:a.delete)?t(s.HeadCell,{className:"text-center",children:"  Actions "}):null,a!=null&&a.add?t(s.HeadCell,{children:"Role Access"}):null]}),t(s.Body,{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:v&&v.map((e,o)=>l(s.Row,{className:"hover:bg-gray-100 dark:hover:bg-gray-700",children:[l(s.Cell,{className:"w-4 py-0",style:{paddingTop:"1",paddingBottom:"1"},children:[" ",t(y,{})," "]}),l(s.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e.role_title,"  "]}),l(s.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e.description,"  "]}),t(s.Cell,{className:"whitespace-nowrap p-4 text-base font-normal text-gray-900 dark:text-white",children:e.is_active==!0?l("div",{className:"flex items-center",children:[t("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-green-400"})," Active "]}):l("div",{className:"flex items-center",children:[" ",t("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-Red"})," Deactive "]})}),(a==null?void 0:a.edit)||(a==null?void 0:a.delete)?t(s.Cell,{className:"space-x-2 whitespace-nowrap py-0",children:l("div",{className:"flex items-center gap-x-3 justify-evenly",children:[a!=null&&a.edit?l(x,{gradientDuoTone:"greenToBlue",onClick:()=>M(e._id),children:[l("div",{className:"flex items-center gap-x-2",children:[" ",t(Y,{className:"text-lg"})," Edit Role "]})," "]}):null,a!=null&&a.delete?l(x,{gradientDuoTone:"purpleToPink",onClick:()=>j(e._id),children:[" ",l("div",{className:"flex items-center gap-x-2",children:[" ",t(A,{className:"text-lg"}),"  Delete Role "]})," "]}):null]})}):null,a!=null&&a.add?t(s.Cell,{children:l(x,{color:"primary",className:"whitespace-nowrap text-base font-normal text-gray-900 dark:text-dark",onClick:()=>q(e._id),children:[" ",l("div",{className:"flex items-center gap-x-2",children:[" ",t(ee,{className:"text-lg"})," Role Access List "]}),"  "]})}):null]},o))})]}),t(le,{PageData:_,RowPerPage:S,RowsPerPageValue:p,PageNo:u,CurrentPageNo:E,TotalListData:T})]}),N&&t(r.exports.Suspense,{fallback:l("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:[" ",t("div",{className:"text-white",children:"Loading..."})," "]}),children:t(oe,{isOpenDelteModel:N,name:"role",setisOpenDelteModel:c,DelCall:B})}),t(re,{})]})};export{xe as default};
