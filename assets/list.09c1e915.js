import{r,_,u as Z,a as G,b as Q,c as W,Y as X,d as s,F as ee,j as a,T as t,J as D,K as v,Z as ae,$ as se,a0 as te}from"./index.b6833530.js";import{i as re}from"./utils.7e7ecbc8.js";import{N as le}from"./navbar-sidebar.cfa267da.js";import{E as ie}from"./pagination.17cdcb63.js";import{E as de}from"./breadcrumb.f211a126.js";import"./index.esm.6e0b1c9e.js";import"./logo.265d9f73.js";import"./Input.e13d00be.js";const oe=r.exports.lazy(()=>_(()=>import("./deleteModal.a36f05be.js"),["assets/deleteModal.a36f05be.js","assets/index.b6833530.js","assets/index.e11da923.css"])),ne=r.exports.lazy(()=>_(()=>import("./ToastMessage.356bd70a.js"),["assets/ToastMessage.356bd70a.js","assets/index.b6833530.js","assets/index.e11da923.css","assets/ToastMessage.d9e3f7bd.css"])),ve=function(){const c=Z(),u=G(),[C,p]=r.exports.useState(!1),[y,P]=r.exports.useState([]),[l,b]=r.exports.useState(),{UserList:g,UserListSize:h,TotalUserListData:x,CurrentPage:f,permissionsdata:d}=Q(e=>{var i;return{UserList:(i=e.User.UserList)==null?void 0:i.data,UserListSize:e.User.UserListSize,TotalUserListData:e.User.TotalUserListData,CurrentPage:e.User.CurrentPage,permissionsdata:e.Login.permissionsdata}});r.exports.useEffect(()=>{var i;if(W.get("role")==="67b388a7d593423df0e24295")b({add:!0,view:!0,edit:!0,delete:!0});else{const n=d&&((i=d==null?void 0:d.find(Y=>Y.module_name==="User"))==null?void 0:i.permissions);b(n||[])}},[d]);const[m,S]=r.exports.useState(1),[N,U]=r.exports.useState(5),k=e=>{const i=Number(e);U(i)},L=e=>{S(e)},[o,T]=r.exports.useState(null),E=e=>{T(e)};r.exports.useEffect(()=>{let e={page:m,size:N};o&&(e.search=o),u(X(e))},[u,m,N,o]);const[A,H]=r.exports.useState(0),[ce,R]=r.exports.useState(),[z,j]=r.exports.useState(0);r.exports.useEffect(()=>{P(g||null),H(x||0),R(h||0),j(f||1)},[g,x,h,f]);const M=e=>{c(`/users/edit/${e}`)},[O,B]=r.exports.useState(0),F=e=>{B(e),p(!0)},q=()=>{u(te({id:O})),p(!1)},V=e=>{console.log(e)},$=()=>{c("/users/add")},w=e=>{c(`/users/details/${e}`)};let I="Advisor List",J="Search For Advisor (Name)",K=l==null?void 0:l.add;return s(ee,{children:[s(le,{isFooter:!1,isSidebar:!0,isNavbar:!0,isRightSidebar:!0,children:[a(de,{Name:I,Searchplaceholder:J,searchData:o,Changename:E,isOpenAddModel:$,AddAccess:K}),s(t,{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600 ",children:[s(t.Head,{className:"bg-gray-100 dark:bg-gray-700",children:[s(t.HeadCell,{children:[" ",a(D,{id:"select-all",name:"select-all"})," "]}),a(t.HeadCell,{children:"Advisor Name"}),a(t.HeadCell,{children:"Email"}),a(t.HeadCell,{children:" Role "}),a(t.HeadCell,{children:"gender"}),a(t.HeadCell,{children:"Mobile No"}),a(t.HeadCell,{children:"date of joining"}),a(t.HeadCell,{children:"Status"}),a(t.HeadCell,{children:"Actions"})]}),a(t.Body,{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:y&&y.map((e,i)=>{var n;return s(t.Row,{className:"hover:bg-gray-100 dark:hover:bg-gray-700",children:[s(t.Cell,{className:"w-4 py-0",style:{paddingTop:"1",paddingBottom:"1"},children:["  ",a(D,{value:e._id,onClick:()=>{V(e._id)}}),"  "]}),s(t.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0 cursor-pointer",onClick:()=>w(e==null?void 0:e._id),children:["  ",e==null?void 0:e.name," "]}),s(t.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",e==null?void 0:e.email," "]}),s(t.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",(n=e==null?void 0:e.role)==null?void 0:n.role_title," "]}),s(t.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",(e==null?void 0:e.gender.charAt(0).toUpperCase())+(e==null?void 0:e.gender.slice(1).toLowerCase())," "]}),s(t.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",e==null?void 0:e.mobile_no," "]}),s(t.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e==null?void 0:e.date_of_joining," "]}),a(t.Cell,{className:"whitespace-nowrap p-4 text-base font-normal text-gray-900 dark:text-white",children:e.is_active==!0?s("div",{className:"flex items-center",children:["  ",a("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-green-400"})," Active  "]}):s("div",{className:"flex items-center",children:["  ",a("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-Red"})," Deactive  "]})}),a(t.Cell,{className:"space-x-2 whitespace-nowrap py-0",children:s("div",{className:"flex items-center gap-x-3",children:[l!=null&&l.edit?s(v,{gradientDuoTone:"greenToBlue",onClick:()=>M(e._id),children:[" ",s("div",{className:"flex items-center gap-x-2",children:["  ",a(ae,{className:"text-lg"}),"  Edit Advisor  "]})]}):null,l!=null&&l.delete?s(v,{gradientDuoTone:"purpleToPink",onClick:()=>F(e._id),children:[s("div",{className:"flex items-center gap-x-2 deletebutton",children:[" ",a(se,{className:"text-lg"}),"  Delete Advisor  "]})," "]}):null,s(v,{gradientDuoTone:"purpleToBlue",onClick:()=>w(e._id),children:[s("div",{className:"flex items-center gap-x-2 deletebutton",children:[" ",a(re,{className:"text-lg"})," Detail Advisor  "]})," "]})]})})]},i)})})]}),a(ie,{PageData:L,RowPerPage:k,RowsPerPageValue:N,PageNo:m,CurrentPageNo:z,TotalListData:A})]}),C&&a(r.exports.Suspense,{fallback:s("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:[" ",a("div",{className:"text-white",children:"Loading..."})," "]}),children:a(oe,{isOpenDelteModel:C,name:"user",setisOpenDelteModel:p,DelCall:q})}),a(r.exports.Suspense,{fallback:s("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:[" ",a("div",{className:"text-white",children:"Loading..."})," "]}),children:a(ne,{})})]})};export{ve as default};
