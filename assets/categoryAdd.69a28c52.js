import{a as P,u as E,r as l,aJ as I,b as R,aK as A,E as L,j as t,F as V,d as a,K as x}from"./index.b6833530.js";import{N as D}from"./navbar-sidebar.cfa267da.js";import{E as q}from"./breadcrumb.f211a126.js";import{u as O,c as $,a as h,F as J,L as c}from"./formik.esm.1dcdd950.js";import{S as K}from"./react-select.esm.eb1ccb54.js";import{F as d}from"./FormFeedback.b1d46ea7.js";import{I as b}from"./Input.e13d00be.js";import{I as z}from"./imageuploader.08f1031a.js";import"./index.esm.6e0b1c9e.js";import"./utils.7e7ecbc8.js";import"./logo.265d9f73.js";const te=function(){const v=P(),f=E(),[i,N]=l.exports.useState(null),[_,u]=l.exports.useState(0);l.exports.useEffect(()=>{u(i?0:1)},[i]);const[k,m]=l.exports.useState(null),[y,g]=l.exports.useState(null),[S,o]=l.exports.useState(0),j=r=>{r?(g(r.value),m(r),o(0)):(g(null),m(null),o(1))},[C,G]=l.exports.useState({name_guj:"",name_eng:"",description:"",status:""}),e=O({enableReinitialize:!0,initialValues:C,validationSchema:$({name_guj:h().required("Please enter category name in english"),name_eng:h().required("Please enter category name in gujarati"),description:h().required("Please enter category description")}),onSubmit:r=>{if(y==null)return o(1);if(!i)return u(1);const n=new FormData;n.append("name_eng",r.name_eng),n.append("name_guj",r.name_guj),n.append("description",r.description),n.append("is_active",JSON.stringify(y)),i&&n.append("category_pic",i),v(I(n))}}),F=[{label:"Active",value:!0},{label:"Inactive",value:!1}],{AddCategoryDatalist:s}=R(r=>({AddCategoryDatalist:r.Category.AddCategorylist}));l.exports.useEffect(()=>{(s==null?void 0:s.success)==!0&&(v(A()),L.success(s==null?void 0:s.msg),f(p),e.resetForm(),g(null),m(null),o(1))},[s]);let w="Category Add",B="Category List",p="/category/list";return t(V,{children:a(D,{isFooter:!1,isSidebar:!0,isNavbar:!0,isRightSidebar:!0,children:[t(q,{Name:w,ParentName:B,ParentLink:p}),t("div",{className:"mt-[2rem] bg-white dark:bg-gray-800 p-4",children:a(J,{onSubmit:r=>(r.preventDefault(),e.handleSubmit(),!1),children:[a("div",{children:[t(z,{onFileSelect:N}),_==1?t(d,{type:"invalid",className:"text-Red text-sm",children:" Please select category image "}):null]}),a("div",{className:"flex gap-x-[2rem] my-[1rem]",children:[a("div",{className:"flex-1",children:[a(c,{htmlFor:"Name",children:["Category Name ( Eng ) ",t("span",{className:"text-red-500",children:"*"})," "]}),a("div",{className:"mt-1",children:[t(b,{id:"name_eng",name:"name_eng",className:"bg-gray-50 border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400 dark:text-white disabled:cursor-not-allowed disabled:opacity-50 focus:border-blue-500 focus:ring-blue-500 p-2.5 rounded-lg text-gray-900 text-sm w-full",placeholder:"Enter category name in eng",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.name_eng||"",invalid:!!(e.touched.name_eng&&e.errors.name_eng)}),e.touched.name_eng&&e.errors.name_eng?a(d,{type:"invalid",className:"text-Red text-sm",children:[" ",e.errors.name_eng," "]}):null]})]}),a("div",{className:"flex-1",children:[a(c,{htmlFor:"Name",children:["Category Name ( Guj ) ",t("span",{className:"text-red-500",children:"*"})," "]}),a("div",{className:"mt-1",children:[t(b,{id:"name_guj",name:"name_guj",className:"bg-gray-50 border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400 dark:text-white disabled:cursor-not-allowed disabled:opacity-50 focus:border-blue-500 focus:ring-blue-500 p-2.5 rounded-lg text-gray-900 text-sm w-full",placeholder:"Enter category name in guj",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.name_guj||"",invalid:!!(e.touched.name_guj&&e.errors.name_guj)}),e.touched.name_guj&&e.errors.name_guj?a(d,{type:"invalid",className:"text-Red text-sm",children:[" ",e.errors.name_guj," "]}):null]})]})]}),a("div",{className:"mt-[1rem]",children:[a(c,{htmlFor:"Description",children:["Description ",t("span",{className:"text-red-500",children:"*"})," "]}),a("div",{className:"mt-1",children:[t(b,{id:"description",name:"description",className:"bg-gray-50 border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400 dark:text-white disabled:cursor-not-allowed disabled:opacity-50 focus:border-blue-500 focus:ring-blue-500 p-2.5 rounded-lg text-gray-900 text-sm w-full",placeholder:"description",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.description||"",invalid:!!(e.touched.description&&e.errors.description)}),e.touched.description&&e.errors.description?a(d,{type:"invalid",className:"text-Red text-sm",children:[" ",e.errors.description," "]}):null]})]}),a("div",{className:"mt-[1rem]",children:[a(c,{htmlFor:"Status",children:["Status ",t("span",{className:"text-red-500",children:"*"})," "]}),a("div",{className:"mt-1",children:[t(K,{className:"w-full dark:text-white",classNames:{control:()=>"react-select__control",singleValue:()=>"react-select__single-value",menu:()=>"react-select__menu",option:({isSelected:r})=>r?"react-select__option--is-selected":"react-select__option",placeholder:()=>"react-select__placeholder"},value:k,onChange:r=>{j(r)},options:F,isClearable:!0}),S==1?t(d,{type:"invalid",className:"text-Red text-sm",children:" Please select status "}):null]})]}),a("div",{className:"flex gap-x-3 justify-end mt-[1rem]",children:[t(x,{className:"bg-addbutton hover:bg-addbutton dark:bg-addbutton dark:hover:bg-addbutton",type:"submit",children:" Add Category "}),t(x,{className:"bg-deletebutton hover:bg-deletebutton dark:bg-deletebutton dark:hover:bg-deletebutton",onClick:()=>f(p),children:"  Close "})]})]})})]})})};export{te as default};
