import{r,_ as C,a as X,u as Z,b as A,c as L,a$ as ee,d as l,F as ae,j as t,T as o,J as v,K as i,$ as le,b0 as te,b1 as re}from"./index.b6833530.js";import{N as oe}from"./navbar-sidebar.cfa267da.js";import{E as se}from"./pagination.17cdcb63.js";import{E as de}from"./breadcrumb.f211a126.js";import{h as ne}from"./moment.40bc58bf.js";import{j as ge}from"./utils.7e7ecbc8.js";import{g as D}from"./index.esm.6e0b1c9e.js";import"./logo.265d9f73.js";import"./Input.e13d00be.js";const ie=r.exports.lazy(()=>C(()=>import("./deleteModal.a36f05be.js"),["assets/deleteModal.a36f05be.js","assets/index.b6833530.js","assets/index.e11da923.css"])),ce=r.exports.lazy(()=>C(()=>import("./ToastMessage.356bd70a.js"),["assets/ToastMessage.356bd70a.js","assets/index.b6833530.js","assets/index.e11da923.css","assets/ToastMessage.d9e3f7bd.css"])),ve=function(){const n=X(),c=Z(),[f,u]=r.exports.useState(!1),[b,y]=r.exports.useState([]),[a,N]=r.exports.useState(),{Tagloglist:p,TagloglistSize:S,TotalTaglogData:h,CurrentPage:x,permissionsdata:d}=A(e=>({Tagloglist:e.Taglog.Tagloglist,TagloglistSize:e.Taglog.TagloglistSize,TotalTaglogData:e.Taglog.TotalTaglogData,CurrentPage:e.Taglog.CurrentPage,permissionsdata:e.Login.permissionsdata}));r.exports.useEffect(()=>{var s;if(L.get("role")==="67b388a7d593423df0e24295")N({add:!0,view:!0,edit:!0,delete:!0});else{const U=d&&((s=d==null?void 0:d.find(W=>W.module_name==="Taglog"))==null?void 0:s.permissions);N(U||[])}},[d]);const[_,P]=r.exports.useState(0),[w,k]=r.exports.useState(0),[T,E]=r.exports.useState(1),[m,R]=r.exports.useState(5),B=e=>{const s=Number(e);R(s)},M=e=>{E(e)},[g,z]=r.exports.useState(null),F=e=>{z(e)};r.exports.useEffect(()=>{let e={page:T,size:m};g&&(e.search=g),n(ee(e))},[n,T,m,g]),r.exports.useEffect(()=>{y(p||[]),P(h||0),k(x||1)},[p,S,h,x]);const[H,O]=r.exports.useState(0),j=e=>{O(e),u(!0)},q=()=>{n(te({id:H})),u(!1)},Y=e=>{console.log(e)},$=()=>{c("/taglog/add")},V=e=>{n(re({id:e}))},I=e=>{c(`/subtaglog/list/${e}`)},J=e=>{c(`/subtaglog/add/${e}`)};let K="Taglog List",Q="Search For Taglog (Name)",G=a==null?void 0:a.add;return l(ae,{children:[l(oe,{isFooter:!1,isSidebar:!0,isNavbar:!0,isRightSidebar:!0,children:[t(de,{Name:K,Searchplaceholder:Q,searchData:g,Changename:F,isOpenAddModel:$,AddAccess:G}),l(o,{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600 ",children:[l(o.Head,{className:"bg-gray-100 dark:bg-gray-700",children:[l(o.HeadCell,{children:[" ",t(v,{id:"select-all",name:"select-all"})," "]}),t(o.HeadCell,{children:"Name"}),t(o.HeadCell,{children:"Status"}),t(o.HeadCell,{children:"Created At"}),(a==null?void 0:a.edit)||(a==null?void 0:a.delete)||(a==null?void 0:a.add)?t(o.HeadCell,{children:"Actions"}):null]}),t(o.Body,{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:b&&b.map((e,s)=>l(o.Row,{className:"hover:bg-gray-100 dark:hover:bg-gray-700",children:[l(o.Cell,{className:"w-4 py-0",style:{paddingTop:"1",paddingBottom:"1"},children:["  ",t(v,{value:e==null?void 0:e._id,onClick:()=>{Y(e==null?void 0:e._id)}}),"  "]}),l(o.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e==null?void 0:e.taglog_name," "]}),t(o.Cell,{className:"whitespace-nowrap p-4 text-base font-normal text-gray-900 dark:text-white",children:e.is_active==!0?l("div",{className:"flex items-center",children:["  ",t("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-green-400"})," Active  "]}):l("div",{className:"flex items-center",children:["  ",t("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-Red"})," Deactive  "]})}),l(o.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",ne(e==null?void 0:e.added_at).format("DD-MM-YYYY hh:mm:ss")," "]}),(a==null?void 0:a.edit)||(a==null?void 0:a.delete)||(a==null?void 0:a.add)?t(o.Cell,{className:"space-x-2 whitespace-nowrap py-0",children:l("div",{className:"flex items-center gap-x-3",children:[a!=null&&a.edit?l(i,{gradientDuoTone:"greenToBlue",onClick:()=>V(e==null?void 0:e._id),children:[l("div",{className:"flex items-center gap-x-2 deletebutton min-w-[5rem] text-center font-semibold",children:[" ",t(ge,{className:"text-lg font-semibold"}),"  Change status "]})," "]}):null,a!=null&&a.delete?l(i,{gradientDuoTone:"purpleToPink",onClick:()=>j(e==null?void 0:e._id),children:[l("div",{className:"flex items-center gap-x-2 deletebutton",children:[" ",t(le,{className:"text-lg"}),"  Delete Taglog "]})," "]}):null,a!=null&&a.add?l(i,{gradientDuoTone:"greenToBlue",onClick:()=>J(e==null?void 0:e._id),children:[" ",l("div",{className:"flex items-center gap-x-2",children:["  ",t(D,{className:"text-lg"}),"  Add Sub-Taglog  "]})]}):null,a!=null&&a.add?l(i,{gradientDuoTone:"greenToBlue",onClick:()=>I(e==null?void 0:e._id),children:[" ",l("div",{className:"flex items-center gap-x-2",children:["  ",t(D,{className:"text-lg"}),"  Sub-Taglog  "]})]}):null]})}):null]},s))})]}),t(se,{PageData:M,RowPerPage:B,RowsPerPageValue:m,PageNo:T,CurrentPageNo:w,TotalListData:_})]}),f&&t(r.exports.Suspense,{fallback:l("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:[" ",t("div",{className:"text-white",children:"Loading..."})," "]}),children:t(ie,{isOpenDelteModel:f,name:"taglog",setisOpenDelteModel:u,DelCall:q})}),t(ce,{})]})};export{ve as default};
