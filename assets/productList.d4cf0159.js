import{r as s,_ as w,a as Z,u as G,b as L,c as U,aX as W,d as r,F as A,j as a,T as l,J as D,K as m,Z as ee,$ as ae,aY as te}from"./index.b6833530.js";import{i as re}from"./utils.7e7ecbc8.js";import{N as le}from"./navbar-sidebar.cfa267da.js";import{E as se}from"./pagination.17cdcb63.js";import{E as de}from"./breadcrumb.f211a126.js";import"./index.esm.6e0b1c9e.js";import"./logo.265d9f73.js";import"./Input.e13d00be.js";const oe=s.exports.lazy(()=>w(()=>import("./ToastMessage.356bd70a.js"),["assets/ToastMessage.356bd70a.js","assets/index.b6833530.js","assets/index.e11da923.css","assets/ToastMessage.d9e3f7bd.css"])),ne=s.exports.lazy(()=>w(()=>import("./deleteModal.a36f05be.js"),["assets/deleteModal.a36f05be.js","assets/index.b6833530.js","assets/index.e11da923.css"])),fe=function(){const p=Z(),g=G(),[v,h]=s.exports.useState(!1),[y,_]=s.exports.useState([]),[t,C]=s.exports.useState(),{Productlist:o,ProductlistSize:S,TotalProductData:x,CurrentPage:P,permissionsdata:n}=L(e=>({Productlist:e.Product.Productlist,ProductlistSize:e.Product.ProductlistSize,TotalProductData:e.Product.TotalProductData,CurrentPage:e.Product.CurrentPage,permissionsdata:e.Login.permissionsdata}));s.exports.useEffect(()=>{var d;if(U.get("role")==="67b388a7d593423df0e24295")C({add:!0,view:!0,edit:!0,delete:!0});else{const i=n&&((d=n==null?void 0:n.find(u=>u.module_name==="Product"))==null?void 0:d.permissions);C(i||[])}},[n]);const[k,T]=s.exports.useState(0),[E,H]=s.exports.useState(0),[f,R]=s.exports.useState(1),[N,z]=s.exports.useState(5),O=e=>{const d=Number(e);z(d)},B=e=>{R(e)},[c,F]=s.exports.useState(null),M=e=>{F(e)};s.exports.useEffect(()=>{let e={page:f,size:N};c&&(e.search=c),p(W(e))},[p,f,N,c]),s.exports.useEffect(()=>{_(o?o==null?void 0:o.data:[]),T(x||0),H(P||1)},[o,S,x,P]);const[j,q]=s.exports.useState(0),V=e=>{q(e),h(!0)},$=()=>{p(te({id:j})),h(!1)},I=e=>{console.log(e)},J=()=>{g("/product/add")},b=e=>{g(`/product/details/${e}`)},K=e=>{g(`/product/edit/${e}`)};let Q="Product List",X="Search For Product (Name)",Y=t==null?void 0:t.add;return r(A,{children:[r(le,{isFooter:!1,isSidebar:!0,isNavbar:!0,isRightSidebar:!0,children:[a(de,{Name:Q,Searchplaceholder:X,searchData:c,Changename:M,isOpenAddModel:J,AddAccess:Y}),r(l,{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600 ",children:[r(l.Head,{className:"bg-gray-100 dark:bg-gray-700",children:[r(l.HeadCell,{children:[" ",a(D,{id:"select-all",name:"select-all"})," "]}),a(l.HeadCell,{children:"Name"}),a(l.HeadCell,{children:"Category"}),a(l.HeadCell,{children:"Avl Qty"}),a(l.HeadCell,{children:"price"}),a(l.HeadCell,{children:"Status"}),(t==null?void 0:t.edit)||(t==null?void 0:t.delete)?a(l.HeadCell,{children:"Actions"}):null]}),a(l.Body,{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:y&&y.map((e,d)=>{var i,u;return r(l.Row,{className:"hover:bg-gray-100 dark:hover:bg-gray-700",children:[r(l.Cell,{className:"w-4 py-0",style:{paddingTop:"1",paddingBottom:"1"},children:["  ",a(D,{value:e==null?void 0:e._id,onClick:()=>{I(e==null?void 0:e._id)}}),"  "]}),r(l.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0 cursor-pointer",onClick:()=>b(e==null?void 0:e._id),children:["  ",(i=e==null?void 0:e.name)==null?void 0:i.englishname," "]}),r(l.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",(u=e==null?void 0:e.categories)==null?void 0:u.name_eng," "]}),r(l.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e==null?void 0:e.avl_qty," "]}),r(l.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e==null?void 0:e.price," Rs."]}),a(l.Cell,{className:"whitespace-nowrap p-4 text-base font-normal text-gray-900 dark:text-white",children:e.is_active==!0?r("div",{className:"flex items-center",children:["  ",a("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-green-400"})," Active  "]}):r("div",{className:"flex items-center",children:["  ",a("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-Red"})," Deactive  "]})}),(t==null?void 0:t.edit)||(t==null?void 0:t.delete)?a(l.Cell,{className:"space-x-2 whitespace-nowrap py-0",children:r("div",{className:"flex items-center gap-x-3",children:[t!=null&&t.edit?r(m,{gradientDuoTone:"greenToBlue",onClick:()=>K(e==null?void 0:e._id),children:[" ",r("div",{className:"flex items-center gap-x-2",children:["  ",a(ee,{className:"text-lg"}),"  Edit Product  "]})]}):null,t!=null&&t.delete?r(m,{gradientDuoTone:"purpleToPink",onClick:()=>V(e==null?void 0:e._id),children:[r("div",{className:"flex items-center gap-x-2 deletebutton",children:[" ",a(ae,{className:"text-lg"})," Delete Product "]})," "]}):null,r(m,{gradientDuoTone:"purpleToBlue",onClick:()=>b(e._id),children:[r("div",{className:"flex items-center gap-x-2 deletebutton",children:[" ",a(re,{className:"text-lg"})," Detail Product "]})," "]})]})}):null]},d)})})]}),a(se,{PageData:B,RowPerPage:O,RowsPerPageValue:N,PageNo:f,CurrentPageNo:E,TotalListData:k})]}),v&&a(s.exports.Suspense,{fallback:r("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:[" ",a("div",{className:"text-white",children:"Loading..."})," "]}),children:a(ne,{isOpenDelteModel:v,name:"Product",setisOpenDelteModel:h,DelCall:$})}),a(oe,{})]})};export{fe as default};
