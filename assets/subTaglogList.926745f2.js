import{r as s,_ as P,a as J,u as K,V as $,b as G,c as Q,b4 as U,d as t,F as W,j as a,T as l,J as f,K as N,$ as X,b5 as Z,b6 as ee}from"./index.b6833530.js";import{N as ae}from"./navbar-sidebar.cfa267da.js";import{E as te}from"./pagination.17cdcb63.js";import{E as se}from"./breadcrumb.f211a126.js";import{h as le}from"./moment.40bc58bf.js";import{j as re}from"./utils.7e7ecbc8.js";import"./index.esm.6e0b1c9e.js";import"./logo.265d9f73.js";import"./Input.e13d00be.js";const oe=s.exports.lazy(()=>P(()=>import("./deleteModal.a36f05be.js"),["assets/deleteModal.a36f05be.js","assets/index.b6833530.js","assets/index.e11da923.css"])),ie=s.exports.lazy(()=>P(()=>import("./ToastMessage.356bd70a.js"),["assets/ToastMessage.356bd70a.js","assets/index.b6833530.js","assets/index.e11da923.css","assets/ToastMessage.d9e3f7bd.css"])),Te=function(){const n=J();K();const{id:g}=$(),[x,c]=s.exports.useState(!1),[S,v]=s.exports.useState([]),[r,T]=s.exports.useState(),{SubTagloglist:u,SubTagloglistSize:D,SubTotalTaglogData:p,SubCurrentPage:h,permissionsdata:i}=G(e=>({SubTagloglist:e.Taglog.SubTagloglist,SubTagloglistSize:e.Taglog.SubTagloglistSize,SubTotalTaglogData:e.Taglog.SubTotalTaglogData,SubCurrentPage:e.Taglog.SubCurrentPage,permissionsdata:e.Login.permissionsdata}));s.exports.useEffect(()=>{var o;if(Q.get("role")==="67b388a7d593423df0e24295")T({add:!0,view:!0,edit:!0,delete:!0});else{const A=i&&((o=i==null?void 0:i.find(I=>I.module_name==="Taglog"))==null?void 0:o.permissions);T(A||[])}},[i]);const[y,C]=s.exports.useState(0),[_,w]=s.exports.useState(0),[b,k]=s.exports.useState(1),[m,E]=s.exports.useState(5),L=e=>{const o=Number(e);E(o)},R=e=>{k(e)},[d,z]=s.exports.useState(null),F=e=>{z(e)};s.exports.useEffect(()=>{let e={id:g,page:b,size:m};d&&(e.search=d),n(U(e))},[n,b,m,d]),s.exports.useEffect(()=>{v(u||[]),C(p||0),w(h||1)},[u,D,p,h]);const[H,M]=s.exports.useState(0),j=e=>{M(e),c(!0)},q=()=>{n(Z({taglog_id:g,id:H})),c(!1)},B=e=>{console.log(e)},O=e=>{n(ee({taglog_id:g,id:e}))};let V="Sub-Taglog List",Y="Search For SubTaglog (Name)";return r==null||r.add,t(W,{children:[t(ae,{isFooter:!1,isSidebar:!0,isNavbar:!0,isRightSidebar:!0,children:[a(se,{Name:V,ParentName:"Taglog List",ParentLink:"/taglog/list",Searchplaceholder:Y,searchData:d,Changename:F}),t(l,{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600 ",children:[t(l.Head,{className:"bg-gray-100 dark:bg-gray-700",children:[t(l.HeadCell,{children:[" ",a(f,{id:"select-all",name:"select-all"})," "]}),a(l.HeadCell,{children:"Name"}),a(l.HeadCell,{children:"Status"}),a(l.HeadCell,{children:"Created At"}),a(l.HeadCell,{children:"Actions"})]}),a(l.Body,{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:S&&S.map((e,o)=>t(l.Row,{className:"hover:bg-gray-100 dark:hover:bg-gray-700",children:[t(l.Cell,{className:"w-4 py-0",style:{paddingTop:"1",paddingBottom:"1"},children:["  ",a(f,{value:e==null?void 0:e._id,onClick:()=>{B(e==null?void 0:e._id)}}),"  "]}),t(l.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e==null?void 0:e.name," "]}),a(l.Cell,{className:"whitespace-nowrap p-4 text-base font-normal text-gray-900 dark:text-white",children:e.is_active==!0?t("div",{className:"flex items-center",children:["  ",a("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-green-400"})," Active  "]}):t("div",{className:"flex items-center",children:["  ",a("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-Red"})," Deactive  "]})}),t(l.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",le(e==null?void 0:e.added_at).format("DD-MM-YYYY hh:mm:ss")," "]}),a(l.Cell,{className:"space-x-2 whitespace-nowrap py-0",children:t("div",{className:"flex items-center gap-x-3",children:[r!=null&&r.edit?t(N,{gradientDuoTone:"greenToBlue",onClick:()=>O(e==null?void 0:e._id),children:[t("div",{className:"flex items-center gap-x-2 deletebutton min-w-[5rem] text-center font-semibold",children:[" ",a(re,{className:"text-lg font-semibold"}),"  Change status "]})," "]}):null,r!=null&&r.delete?t(N,{gradientDuoTone:"purpleToPink",onClick:()=>j(e==null?void 0:e._id),children:[t("div",{className:"flex items-center gap-x-2 deletebutton",children:[" ",a(X,{className:"text-lg"}),"  Delete Sub Taglog "]})," "]}):null]})})]},o))})]}),a(te,{PageData:R,RowPerPage:L,RowsPerPageValue:m,PageNo:b,CurrentPageNo:_,TotalListData:y})]}),x&&a(s.exports.Suspense,{fallback:t("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:[" ",a("div",{className:"text-white",children:"Loading..."})," "]}),children:a(oe,{isOpenDelteModel:x,name:"Subtaglog",setisOpenDelteModel:c,DelCall:q})}),a(ie,{})]})};export{Te as default};
