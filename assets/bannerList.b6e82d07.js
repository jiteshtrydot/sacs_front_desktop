import{r,_ as N,a as q,u as $,b as G,c as J,aP as K,d as s,F as Q,j as a,T as t,J as D,K as W,$ as X,aQ as Z}from"./index.b6833530.js";import{N as ee}from"./navbar-sidebar.cfa267da.js";import{E as ae}from"./pagination.17cdcb63.js";import{E as te}from"./breadcrumb.f211a126.js";import{h as re}from"./moment.40bc58bf.js";import"./index.esm.6e0b1c9e.js";import"./utils.7e7ecbc8.js";import"./logo.265d9f73.js";import"./Input.e13d00be.js";const se="http://192.168.1.7:8000",ne=r.exports.lazy(()=>N(()=>import("./deleteModal.a36f05be.js"),["assets/deleteModal.a36f05be.js","assets/index.b6833530.js","assets/index.e11da923.css"])),le=r.exports.lazy(()=>N(()=>import("./ToastMessage.356bd70a.js"),["assets/ToastMessage.356bd70a.js","assets/index.b6833530.js","assets/index.e11da923.css","assets/ToastMessage.d9e3f7bd.css"])),xe=function(){const d=q(),v=$(),[x,c]=r.exports.useState(!1),[f,B]=r.exports.useState([]),[n,b]=r.exports.useState(),{Bannerlist:p,BannerlistSize:P,TotalBannerData:u,CurrentPage:m,permissionsdata:i}=G(e=>({Bannerlist:e.Banner.Bannerlist,BannerlistSize:e.Banner.BannerlistSize,TotalBannerData:e.Banner.TotalBannerData,CurrentPage:e.Banner.CurrentPage,permissionsdata:e.Login.permissionsdata}));r.exports.useEffect(()=>{var l;if(J.get("role")==="67b388a7d593423df0e24295")b({add:!0,view:!0,edit:!0,delete:!0});else{const U=i&&((l=i==null?void 0:i.find(Y=>Y.module_name==="Banner"))==null?void 0:l.permissions);b(U||[])}},[i]);const[_,y]=r.exports.useState(0),[w,C]=r.exports.useState(0),[g,S]=r.exports.useState(1),[h,E]=r.exports.useState(5),T=e=>{const l=Number(e);E(l)},k=e=>{S(e)},[o,R]=r.exports.useState(null),L=e=>{R(e)};r.exports.useEffect(()=>{let e={page:g,size:h};o&&(e.search=o),d(K(e))},[d,g,h,o]),r.exports.useEffect(()=>{B(p||[]),y(u||0),C(m||1)},[p,P,u,m]);const[M,A]=r.exports.useState(0),I=e=>{A(e),c(!0)},H=()=>{d(Z({id:M})),c(!1)},O=e=>{console.log(e)},z=()=>{v("/banner/add")};let V="Banner List",j="Search For Banner (Name)",F=n==null?void 0:n.add;return s(Q,{children:[s(ee,{isFooter:!1,isSidebar:!0,isNavbar:!0,isRightSidebar:!0,children:[a(te,{Name:V,Searchplaceholder:j,searchData:o,Changename:L,isOpenAddModel:z,AddAccess:F}),s(t,{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600 ",children:[s(t.Head,{className:"bg-gray-100 dark:bg-gray-700",children:[s(t.HeadCell,{children:[" ",a(D,{id:"select-all",name:"select-all"})," "]}),a(t.HeadCell,{children:"image"}),a(t.HeadCell,{children:"Name"}),a(t.HeadCell,{children:"Status"}),a(t.HeadCell,{children:"Created At"}),n!=null&&n.delete?a(t.HeadCell,{children:"Actions"}):null]}),a(t.Body,{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:f&&f.map((e,l)=>s(t.Row,{className:"hover:bg-gray-100 dark:hover:bg-gray-700",children:[s(t.Cell,{className:"w-4 py-0",style:{paddingTop:"1",paddingBottom:"1"},children:["  ",a(D,{value:e._id,onClick:()=>{O(e._id)}}),"  "]}),a(t.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:a("img",{src:`${se}/public/banner/${e.banner_pic}`,alt:"Banner",className:"h-16 w-32 object-cover rounded"})}),s(t.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e.name," "]}),a(t.Cell,{className:"whitespace-nowrap p-4 text-base font-normal text-gray-900 dark:text-white",children:e.is_active==!0?s("div",{className:"flex items-center",children:["  ",a("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-green-400"})," Active  "]}):s("div",{className:"flex items-center",children:["  ",a("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-Red"})," Deactive  "]})}),s(t.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",re(e.createdAt).format("DD-MM-YYYY hh:mm:ss")," "]}),n!=null&&n.delete?a(t.Cell,{className:"space-x-2 whitespace-nowrap py-0",children:a("div",{className:"flex items-center gap-x-3",children:n!=null&&n.delete?s(W,{gradientDuoTone:"purpleToPink",onClick:()=>I(e._id),children:[s("div",{className:"flex items-center gap-x-2 deletebutton",children:[" ",a(X,{className:"text-lg"}),"  Delete  Banner "]})," "]}):null})}):null]},l))})]}),a(ae,{PageData:k,RowPerPage:T,RowsPerPageValue:h,PageNo:g,CurrentPageNo:w,TotalListData:_})]}),x&&a(r.exports.Suspense,{fallback:s("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:[" ",a("div",{className:"text-white",children:"Loading..."})," "]}),children:a(ne,{isOpenDelteModel:x,name:"Banner",setisOpenDelteModel:c,DelCall:H})}),a(le,{})]})};export{xe as default};
