import{r as s,_,a as $,u as J,b as K,c as Q,aG as W,d as r,F as X,j as a,T as l,J as f,K as N,$ as Z,aH as ee,aI as ae}from"./index.b6833530.js";import{N as te}from"./navbar-sidebar.cfa267da.js";import{E as re}from"./pagination.17cdcb63.js";import{E as le}from"./breadcrumb.f211a126.js";import{h as se}from"./moment.40bc58bf.js";import{j as oe}from"./utils.7e7ecbc8.js";import"./index.esm.6e0b1c9e.js";import"./logo.265d9f73.js";import"./Input.e13d00be.js";const de="http://192.168.1.7:8000",ne=s.exports.lazy(()=>_(()=>import("./deleteModal.a36f05be.js"),["assets/deleteModal.a36f05be.js","assets/index.b6833530.js","assets/index.e11da923.css"])),ie=s.exports.lazy(()=>_(()=>import("./ToastMessage.356bd70a.js"),["assets/ToastMessage.356bd70a.js","assets/index.b6833530.js","assets/index.e11da923.css","assets/ToastMessage.d9e3f7bd.css"])),fe=function(){const n=$(),b=J(),[C,c]=s.exports.useState(!1),[x,D]=s.exports.useState([]),[t,m]=s.exports.useState(),{Categorylist:g,CategorylistSize:v,TotalCategoryData:u,CurrentPage:p,permissionsdata:d}=K(e=>({Categorylist:e.Category.Categorylist,CategorylistSize:e.Category.CategorylistSize,TotalCategoryData:e.Category.TotalCategoryData,CurrentPage:e.Category.CurrentPage,permissionsdata:e.Login.permissionsdata}));s.exports.useEffect(()=>{var o;if(Q.get("role")==="67b388a7d593423df0e24295")m({add:!0,view:!0,edit:!0,delete:!0});else{const G=d&&((o=d==null?void 0:d.find(L=>L.module_name==="Category"))==null?void 0:o.permissions);m(G||[])}},[d]);const[w,P]=s.exports.useState(0),[S,E]=s.exports.useState(0),[h,T]=s.exports.useState(1),[y,k]=s.exports.useState(5),R=e=>{const o=Number(e);k(o)},I=e=>{T(e)},[i,H]=s.exports.useState(null),M=e=>{H(e)};s.exports.useEffect(()=>{let e={page:h,size:y};i&&(e.search=i),n(W(e))},[n,h,y,i]),s.exports.useEffect(()=>{D(g||[]),P(u||0),E(p||1)},[g,v,u,p]);const[j,O]=s.exports.useState(0),z=e=>{O(e),c(!0)},B=()=>{n(ee({id:j})),c(!1)},F=e=>{console.log(e)},V=()=>{b("/category/add")},q=e=>{n(ae({id:e}))};let U="Category List",Y="Search For Category (Name)",A=t==null?void 0:t.add;return r(X,{children:[r(te,{isFooter:!1,isSidebar:!0,isNavbar:!0,isRightSidebar:!0,children:[a(le,{Name:U,Searchplaceholder:Y,searchData:i,Changename:M,isOpenAddModel:V,AddAccess:A}),r(l,{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600 ",children:[r(l.Head,{className:"bg-gray-100 dark:bg-gray-700",children:[r(l.HeadCell,{children:[" ",a(f,{id:"select-all",name:"select-all"})," "]}),a(l.HeadCell,{children:"Image"}),a(l.HeadCell,{children:"Name (Eng )"}),a(l.HeadCell,{children:"Name ( Guj )"}),a(l.HeadCell,{children:"Status"}),a(l.HeadCell,{children:"Created At"}),(t==null?void 0:t.edit)||(t==null?void 0:t.delete)?a(l.HeadCell,{children:"Actions"}):null]}),a(l.Body,{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:x&&x.map((e,o)=>r(l.Row,{className:"hover:bg-gray-100 dark:hover:bg-gray-700",children:[r(l.Cell,{className:"w-4 py-0",style:{paddingTop:"1",paddingBottom:"1"},children:["  ",a(f,{value:e==null?void 0:e._id,onClick:()=>{F(e==null?void 0:e._id)}}),"  "]}),r(l.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",style:{padding:"10px"},children:["  ",a("img",{src:`${de}/public/category/${e.category_pic}`,alt:"Category",className:"h-16 w-16 object-cover rounded-full"}),"   "]}),r(l.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e==null?void 0:e.name_eng," "]}),r(l.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:["  ",e==null?void 0:e.name_guj," "]}),a(l.Cell,{className:"whitespace-nowrap p-4 text-base font-normal text-gray-900 dark:text-white",children:e.is_active==!0?r("div",{className:"flex items-center",children:["  ",a("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-green-400"})," Active  "]}):r("div",{className:"flex items-center",children:["  ",a("div",{className:"mr-2 h-2.5 w-2.5 rounded-full bg-Red"})," Deactive  "]})}),r(l.Cell,{className:"whitespace-nowrap text-base font-medium text-gray-900 dark:text-white py-0",children:[" ",se(e==null?void 0:e.added_at).format("DD-MM-YYYY hh:mm:ss")," "]}),(t==null?void 0:t.edit)||(t==null?void 0:t.delete)?a(l.Cell,{className:"space-x-2 whitespace-nowrap py-0",children:r("div",{className:"flex items-center gap-x-3",children:[t!=null&&t.edit?r(N,{gradientDuoTone:"greenToBlue",onClick:()=>q(e==null?void 0:e._id),children:[r("div",{className:"flex items-center gap-x-2 deletebutton min-w-[5rem] text-center font-semibold",children:[" ",a(oe,{className:"text-lg font-semibold"}),"  Change status "]})," "]}):null,t!=null&&t.delete?r(N,{gradientDuoTone:"purpleToPink",onClick:()=>z(e==null?void 0:e._id),children:[r("div",{className:"flex items-center gap-x-2 deletebutton",children:[" ",a(Z,{className:"text-lg"}),"  Delete Category "]})," "]}):null]})}):null]},o))})]}),a(re,{PageData:I,RowPerPage:R,RowsPerPageValue:y,PageNo:h,CurrentPageNo:S,TotalListData:w})]}),C&&a(s.exports.Suspense,{fallback:r("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:[" ",a("div",{className:"text-white",children:"Loading..."})," "]}),children:a(ne,{isOpenDelteModel:C,name:"Category",setisOpenDelteModel:c,DelCall:B})}),a(ie,{})]})};export{fe as default};
